(function(Tc,Wd,Pg){function r(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function fh(a){return a instanceof Array?function(){return M.iter(a)}:"function"==typeof a.iterator?l(a,a.iterator):a.iterator}function l(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=gh++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}Wd.openfl=Wd.openfl||{};Wd.lime=Wd.lime||{};var h={},H=function(){return u.__string_rec(this,"")},Pa=function(){};h.ApplicationMain=Pa;Pa.__name__=["ApplicationMain"];Pa.create=function(){var a=new Xd;a.create(Pa.config);var b=new ic;Pa.preloader=new Yd(b);a.setPreloader(Pa.preloader);Pa.preloader.onComplete.add(Pa.init);Pa.preloader.create(Pa.config);var b=[],c=[];b.push("assets/audio/wing_flap.mp3");c.push("MUSIC");b.push("assets/audio/wing_flap.ogg");
c.push("SOUND");b.push("assets/textures/1x/atlas.png");c.push("IMAGE");b.push("assets/textures/1x/atlas.xml");c.push("TEXT");b.push("assets/textures/1x/background.jpg");c.push("IMAGE");b.push("assets/textures/1x/compressed_texture.atf");c.push("BINARY");b.push("assets/fonts/1x/desyrel.fnt");c.push("TEXT");b.push("assets/fonts/1x/desyrel.png");c.push("IMAGE");b.push("DejaVu Sans");c.push("FONT");b.push("Ubuntu");c.push("FONT");if(null!=Pa.config.assetsPrefix)for(var d=0,e=b.length;d<e;){var f=d++;
"FONT"!=c[f]&&(b[f]=Pa.config.assetsPrefix+b[f])}Pa.preloader.load(b,c);a.exec()};Pa.init=function(){Pa.preloader=null;Pa.start()};Pa.main=function(){Pa.config={build:"37",company:"OpenFL",file:"Demo",fps:60,name:"Starling Demo",orientation:"portrait",packageName:"com.demoweb",version:"1.0.0",windows:[{allowHighDPI:!0,antialiasing:0,background:16777215,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:480,hidden:null,maximized:null,minimized:null,parameters:"{}",resizable:!1,
stencilBuffer:!0,title:"Starling Demo",vsync:!1,width:320,x:null,y:null}]}};Pa.start=function(){Y.initialize();new Zd;Qa.current.stage.dispatchEvent(new ca("resize",!1,!1));Qa.current.stage.window.__fullscreen&&Qa.current.stage.dispatchEvent(new Uc("fullScreen",!1,!1,!0,!0))};var Qg=function(){};h["openfl.events.IEventDispatcher"]=Qg;Qg.__name__=["openfl","events","IEventDispatcher"];var ea=function(a){null!=a&&(this.__targetDispatcher=a)};h["openfl.events.EventDispatcher"]=ea;ea.__name__=["openfl",
"events","EventDispatcher"];ea.__interfaces__=[Qg];ea.__sortByPriority=function(a,b){return a.priority==b.priority?0:a.priority>b.priority?-1:1};ea.prototype={addEventListener:function(a,b,c,d,e){null==d&&(d=0);null==c&&(c=!1);null==this.__eventMap&&(this.__dispatching=new ja,this.__eventMap=new ja,this.__newEventMap=new ja);if(this.__eventMap.exists(a)){1==this.__dispatching.get(a)?this.__newEventMap.exists(a)?e=this.__newEventMap.get(a):(e=this.__eventMap.get(a).slice(),this.__newEventMap.set(a,
e)):e=this.__eventMap.get(a);a=0;for(var f=e.length;a<f;){var g=a++;if(T.compareMethods(e[g].callback,b))return}e.push(new $d(b,c,d));e.sort(ea.__sortByPriority)}else e=[],e.push(new $d(b,c,d)),this.__eventMap.set(a,e)},dispatchEvent:function(a){a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(a)},hasEventListener:function(a){return null==this.__eventMap?!1:1==this.__dispatching.get(a)&&this.__newEventMap.exists(a)?0<this.__newEventMap.get(a).length:
this.__eventMap.exists(a)},removeEventListener:function(a,b,c){null==c&&(c=!1);if(null!=this.__eventMap){var d=this.__eventMap.get(a);if(null!=d){var e=1==this.__dispatching.get(a);e&&(this.__newEventMap.exists(a)?d=this.__newEventMap.get(a):(d=this.__eventMap.get(a).slice(),this.__newEventMap.set(a,d)));for(var f=0,g=d.length;f<g;){var n=f++;if(d[n].match(b,c)){d.splice(n,1);break}}e||(0==d.length&&this.__eventMap.remove(a),this.__eventMap.iterator().hasNext()||(this.__newEventMap=this.__eventMap=
null))}}},__dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!1;var b=a.type,c;if(1==this.__dispatching.get(b)){c=this.__newEventMap.get(b);null==c&&(c=this.__eventMap.get(b));if(null==c)return!1;c=c.slice()}else{c=this.__eventMap.get(b);if(null==c)return!1;this.__dispatching.set(b,!0)}null==a.target&&(a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this);a.currentTarget=this;for(var d=1==a.eventPhase,e=0,f;e<c.length;){f=c[e];if(f.useCapture==d&&(f.callback(a),a.__isCanceledNow))break;
f==c[e]&&e++}null!=this.__newEventMap&&this.__newEventMap.exists(b)&&(c=this.__newEventMap.get(b),0<c.length?this.__eventMap.set(b,c):this.__eventMap.remove(b),this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(b):this.__newEventMap=this.__eventMap=null);this.__dispatching.set(a.type,!1);return!0},__class__:ea};var ae=function(){};h["openfl.display.IBitmapDrawable"]=ae;ae.__name__=["openfl","display","IBitmapDrawable"];ae.prototype={__class__:ae};var S=function(){ea.call(this);this.__alpha=
1;this.__blendMode=10;this.__cacheAsBitmap=!1;this.__transform=new U;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__worldAlpha=this.__rotationCosine=1;this.__worldTransform=new U;this.__worldColorTransform=new wb;this.__renderTransform=new U;this.set_name("instance"+ ++S.__instanceCount)};h["openfl.display.DisplayObject"]=S;S.__name__=["openfl","display","DisplayObject"];S.__interfaces__=[ae];S.__super__=ea;S.prototype=r(ea.prototype,{addEventListener:function(a,b,c,d,e){null==e&&
(e=!1);null==d&&(d=0);null==c&&(c=!1);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":S.__broadcastEvents.exists(a)||S.__broadcastEvents.set(a,[]);var f=S.__broadcastEvents.get(a);-1==M.indexOf(f,this,0)&&f.push(this)}ea.prototype.addEventListener.call(this,a,b,c,d,e)},dispatchEvent:function(a){u.__instanceof(a,Va)&&(a.stageX=this.__getRenderTransform().__transformX(a.localX,a.localY),a.stageY=this.__getRenderTransform().__transformY(a.localX,
a.localY));return ea.prototype.dispatchEvent.call(this,a)},getBounds:function(a){var b;null!=a?(b=this.__getWorldTransform().clone(),b.concat(a.__getWorldTransform().clone().invert())):(b=U.__temp,b.identity());a=new I;this.__getBounds(a,b);return a},globalToLocal:function(a){a=a.clone();this.__getRenderTransform().__transformInversePoint(a);return a},removeEventListener:function(a,b,c){null==c&&(c=!1);ea.prototype.removeEventListener.call(this,a,b,c);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":!this.hasEventListener(a)&&
S.__broadcastEvents.exists(a)&&(a=S.__broadcastEvents.get(a),M.remove(a,this))}},__cleanup:function(){this.__context=this.__canvas=this.__cairo=null;null!=this.__graphics&&this.__graphics.__cleanup()},__dispatch:function(a){if(null!=this.__eventMap&&this.hasEventListener(a.type)){var b=ea.prototype.__dispatchEvent.call(this,a);return a.__isCanceled?!1:b}return!0},__dispatchChildren:function(a){return this.__dispatchEvent(a)},__dispatchEvent:function(a){var b=ea.prototype.__dispatchEvent.call(this,
a);if(a.__isCanceled)return!1;a.bubbles&&null!=this.parent&&this.parent!=this&&(a.eventPhase=3,null==a.target&&(a.target=this),this.parent.__dispatchEvent(a));return b},__enterFrame:function(a){},__getBounds:function(a,b){null!=this.__graphics&&this.__graphics.__getBounds(a,b)},__getCursor:function(){return null},__getInteractive:function(a){return!1},__getRenderTransform:function(){this.__getWorldTransform();return this.__renderTransform},__getWorldTransform:function(){if(this.__transformDirty||
0<S.__worldTransformDirty){var a=[],b=this,c=this.__transformDirty;if(null==this.parent)c&&this.__update(!0,!1);else for(;b!=this.stage;)a.push(b),b=b.parent,b!=this.stage&&b.__transformDirty&&(c=!0);if(c)for(b=a.length;0<=--b;)a[b].__update(!0,!1)}return this.__worldTransform},__hitTest:function(a,b,c,d,e,f){if(null!=this.__graphics){if(!f.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(this.__graphics.__hitTest(a,b,c,this.__getRenderTransform()))return null==
d||e||d.push(f),!0}return!1},__hitTestMask:function(a,b){return null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?!0:!1},__renderCairo:function(a){fg.render(this,a)},__renderCairoMask:function(a){null!=this.__graphics&&Fa.renderMask(this.__graphics,a)},__renderCanvas:function(a){gg.render(this,a)},__renderCanvasMask:function(a){null!=this.__graphics&&k.renderMask(this.__graphics,a)},__renderDOM:function(a){null==this.opaqueBackground&&null==this.__graphics?null:
!this.__renderable||0>=this.__worldAlpha?null:(null!=this.opaqueBackground&&0<this.get_width()&&this.get_height(),null!=this.__graphics&&hg.render(this,a))},__renderGL:function(a){ig.render(this,a)},__setRenderDirty:function(){this.__renderDirty||(this.__renderDirty=!0,S.__worldRenderDirty++)},__setStageReference:function(a){this.stage=a},__update:function(a,b,c){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask;this.__updateTransforms();b&&this.__transformDirty&&
(this.__transformDirty=!1,S.__worldTransformDirty--);null!=c&&this.__updateMask(c);if(!a){this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone());a=null!=this.parent?this.parent:this.__renderParent;if(null!=a){if(this.__worldAlpha=this.get_alpha()*a.__worldAlpha,this.__worldColorTransform.__combine(a.__worldColorTransform),null==this.get_blendMode()||10==this.get_blendMode())this.__blendMode=a.__blendMode}else this.__worldAlpha=
this.get_alpha();b&&this.__renderDirty&&(this.__renderDirty=!1)}},__updateChildren:function(a){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask;this.__worldAlpha=this.get_alpha();this.__transformDirty&&(this.__transformDirty=!1,S.__worldTransformDirty--)},__updateMask:function(a){null!=this.__graphics&&(a.__commands.overrideMatrix(this.__worldTransform),a.__commands.append(this.__graphics.__commands),a.set___dirty(!0),a.__visible=!0,null==a.__bounds&&
(a.__bounds=new I),this.__graphics.__getBounds(a.__bounds,U.__identity))},__updateTransforms:function(a){var b=null!=a;a=b?a:this.__transform;null==this.__worldTransform&&(this.__worldTransform=new U);null==this.__renderTransform&&(this.__renderTransform=new U);b||null==this.parent?(this.__worldTransform.copyFrom(a),this.__renderTransform.copyFrom(a)):(b=this.parent.__worldTransform,this.__worldTransform.a=a.a*b.a+a.b*b.c,this.__worldTransform.b=a.a*b.b+a.b*b.d,this.__worldTransform.c=a.c*b.a+a.d*
b.c,this.__worldTransform.d=a.c*b.b+a.d*b.d,this.__worldTransform.tx=a.tx*b.a+a.ty*b.c+b.tx,this.__worldTransform.ty=a.tx*b.b+a.ty*b.d+b.ty,b=this.parent.__renderTransform,this.__renderTransform.a=a.a*b.a+a.b*b.c,this.__renderTransform.b=a.a*b.b+a.b*b.d,this.__renderTransform.c=a.c*b.a+a.d*b.c,this.__renderTransform.d=a.c*b.b+a.d*b.d,this.__renderTransform.tx=a.tx*b.a+a.ty*b.c+b.tx,this.__renderTransform.ty=a.tx*b.b+a.ty*b.d+b.ty);null!=this.__scrollRect&&this.__renderTransform.__translateTransformed(-this.__scrollRect.x,
-this.__scrollRect.y)},get_alpha:function(){return this.__alpha},get_blendMode:function(){return this.__blendMode},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(a){this.__filters=null!=a&&0<a.length?a:null;this.__renderDirty||(this.__renderDirty=!0,S.__worldRenderDirty++);return a},get_height:function(){var a=new I;this.__getBounds(a,this.__transform);return a.height},get_mask:function(){return this.__mask},get_mouseX:function(){var a;a=null!=this.stage?
this.stage.__mouseX:Qa.current.stage.__mouseX;var b;b=null!=this.stage?this.stage.__mouseY:Qa.current.stage.__mouseY;return this.__getRenderTransform().__transformInverseX(a,b)},get_mouseY:function(){var a;a=null!=this.stage?this.stage.__mouseX:Qa.current.stage.__mouseX;var b;b=null!=this.stage?this.stage.__mouseY:Qa.current.stage.__mouseY;return this.__getRenderTransform().__transformInverseY(a,b)},set_name:function(a){return this.__name=a},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:
Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(a){if(0==this.__transform.b)a==this.__transform.a||this.__transformDirty||(this.__transformDirty=!0,S.__worldTransformDirty++),this.__transform.a=a;else{var b=this.__rotationCosine*a,c=this.__rotationSine*a;this.__transform.a==b&&this.__transform.b==c||this.__transformDirty||(this.__transformDirty=!0,S.__worldTransformDirty++);this.__transform.a=b;this.__transform.b=c}return a},get_scaleY:function(){return 0==
this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(a){if(0==this.__transform.c)a==this.__transform.d||this.__transformDirty||(this.__transformDirty=!0,S.__worldTransformDirty++),this.__transform.d=a;else{var b=-this.__rotationSine*a,c=this.__rotationCosine*a;this.__transform.d==c&&this.__transform.c==b||this.__transformDirty||(this.__transformDirty=!0,S.__worldTransformDirty++);this.__transform.c=b;this.__transform.d=
c}return a},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=new qf(this));return this.__objectTransform},get_visible:function(){return this.__visible},get_width:function(){var a=new I;this.__getBounds(a,this.__transform);return a.width},get_x:function(){return this.__transform.tx},set_x:function(a){a==this.__transform.tx||this.__transformDirty||(this.__transformDirty=!0,S.__worldTransformDirty++);return this.__transform.tx=a},get_y:function(){return this.__transform.ty},
set_y:function(a){a==this.__transform.ty||this.__transformDirty||(this.__transformDirty=!0,S.__worldTransformDirty++);return this.__transform.ty=a},__class__:S,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",get_width:"get_width",get_visible:"get_visible",get_transform:"get_transform",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_name:"set_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",get_mask:"get_mask",get_height:"get_height",
set_filters:"set_filters",get_filters:"get_filters",get_blendMode:"get_blendMode",get_alpha:"get_alpha"}});var ab=function(){S.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=!1;this.tabIndex=-1};h["openfl.display.InteractiveObject"]=ab;ab.__name__=["openfl","display","InteractiveObject"];ab.__super__=S;ab.prototype=r(S.prototype,{__getInteractive:function(a){null!=a&&(a.push(this),null!=this.parent&&this.parent.__getInteractive(a));return!0},__hitTest:function(a,
b,c,d,e,f){return!f.get_visible()||this.__isMask||e&&!this.mouseEnabled?!1:S.prototype.__hitTest.call(this,a,b,c,d,e,f)},get_tabEnabled:function(){return this.__tabEnabled},__class__:ab,__properties__:r(S.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});var rb=function(){ab.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=[]};h["openfl.display.DisplayObjectContainer"]=rb;rb.__name__=["openfl","display","DisplayObjectContainer"];rb.__super__=ab;rb.prototype=r(ab.prototype,
{addChild:function(a){return this.addChildAt(a,this.get_numChildren())},addChildAt:function(a,b){if(b>this.__children.length||0>b)throw new m("Invalid index position "+b);if(a.parent==this)this.__children[b]!=a&&(M.remove(this.__children,a),this.__children.splice(b,0,a));else{null!=a.parent&&a.parent.removeChild(a);this.__children.splice(b,0,a);a.parent=this;var c=null!=this.stage&&null==a.stage;c&&this.__setStageReference(this.stage);a.__transformDirty||(a.__transformDirty=!0,S.__worldTransformDirty++);
a.__renderDirty||(a.__renderDirty=!0,S.__worldRenderDirty++);this.__renderDirty||(this.__renderDirty=!0,S.__worldRenderDirty++);var d=new ca("added",!0);d.target=a;a.__dispatchEvent(d);c&&a.__dispatchChildren(new ca("addedToStage",!1,!1))}return a},removeChild:function(a){null!=a&&a.parent==this&&(a.__transformDirty||(a.__transformDirty=!0,S.__worldTransformDirty++),a.__renderDirty||(a.__renderDirty=!0,S.__worldRenderDirty++),this.__renderDirty||(this.__renderDirty=!0,S.__worldRenderDirty++),a.__dispatchEvent(new ca("removed",
!0)),null!=this.stage&&(null!=a.stage&&this.stage.get_focus()==a&&this.stage.set_focus(null),a.__dispatchChildren(new ca("removedFromStage",!1,!1)),a.__setStageReference(null)),a.parent=null,M.remove(this.__children,a),this.__removedChildren.push(a),a.__transformDirty||(a.__transformDirty=!0,S.__worldTransformDirty++));return a},__dispatchChildren:function(a){var b=this.__dispatchEvent(a);if(b)for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;a.target=e;if(!e.__dispatchChildren(a))return!1}return b},
__enterFrame:function(a){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__enterFrame(a)}},__getBounds:function(a,b){ab.prototype.__getBounds.call(this,a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0!=e.get_scaleX()&&0!=e.get_scaleY()&&e.__getBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||
this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var g=fa.__temp;g.setTo(a,b);this.__getRenderTransform().__transformInversePoint(g);if(!this.__scrollRect.containsPoint(g))return!1}g=this.__children.length;if(e)if(null==d||!this.mouseChildren)for(;0<=--g;){if(this.__children[g].__hitTest(a,b,c,null,!0,this.__children[g]))return null!=d&&d.push(f),!0}else{if(null!=d){e=d.length;for(var n=!1,v=
!1;0<=--g&&!(((n=this.__children[g].__getInteractive(null))||this.mouseEnabled&&!v)&&this.__children[g].__hitTest(a,b,c,d,!0,this.__children[g])&&(v=!0,n)););if(v)return d.splice(e,0,f),!0}}else for(;0<=--g;)this.__children[g].__hitTest(a,b,c,d,!1,this.__children[g]);return!1},__hitTestMask:function(a,b){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(a,b))return!0;return!1},__renderCairo:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){ab.prototype.__renderCairo.call(this,
a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCairo(a)}b=0;for(c=this.__removedChildren;b<c.length;)d=c[b],++b,null==d.stage&&d.__cleanup();0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);a.maskManager.popObject(this)}},__renderCairoMask:function(a){null!=this.__graphics&&Fa.renderMask(this.__graphics,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCairoMask(a)}},__renderCanvas:function(a){if(this.__renderable&&
!(0>=this.__worldAlpha)){ab.prototype.__renderCanvas.call(this,a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCanvas(a)}b=0;for(c=this.__removedChildren;b<c.length;)d=c[b],++b,null==d.stage&&d.__cleanup();0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);a.maskManager.popObject(this)}},__renderCanvasMask:function(a){null!=this.__graphics&&k.renderMask(this.__graphics,a);var b=new I;this.__getBounds(b,
this.__transform);a.context.rect(0,0,b.width,b.height)},__renderDOM:function(a){ab.prototype.__renderDOM.call(this,a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderDOM(a)}b=0;for(c=this.__removedChildren;b<c.length;)d=c[b],++b,null==d.stage&&d.__renderDOM(a);0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);a.maskManager.popObject(this)},__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){ab.prototype.__renderGL.call(this,
a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderGL(a)}b=0;for(c=this.__removedChildren;b<c.length;)d=c[b],++b,null==d.stage&&d.__cleanup();0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);a.maskManager.popObject(this)}},__setStageReference:function(a){ab.prototype.__setStageReference.call(this,a);if(null!=this.__children)for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__setStageReference(a)}},
__update:function(a,b,c){ab.prototype.__update.call(this,a,b,c);if(b){b=0;for(var d=this.__children;b<d.length;){var e=d[b];++b;e.__update(a,!0,c)}}},__updateChildren:function(a){ab.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__update(a,!0)}},get_numChildren:function(){return this.__children.length},__class__:rb,__properties__:r(ab.prototype.__properties__,{get_numChildren:"get_numChildren"})});var yb=function(){rb.call(this);this.buttonMode=
!1;this.useHandCursor=!0;this.loaderInfo=wc.create(null)};h["openfl.display.Sprite"]=yb;yb.__name__=["openfl","display","Sprite"];yb.__super__=rb;yb.prototype=r(rb.prototype,{__getCursor:function(){return this.buttonMode&&this.useHandCursor?Q.POINTER:null},__hitTest:function(a,b,c,d,e,f){if(null!=this.hitArea){if(!this.hitArea.mouseEnabled)return this.hitArea.mouseEnabled=!0,a=this.hitArea.__hitTest(a,b,c,null,!0,f),this.hitArea.mouseEnabled=!1,a&&(d[d.length]=f),a}else{if(!f.get_visible()||this.__isMask||
e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var g=fa.__temp;g.setTo(a,b);this.__getRenderTransform().__transformInversePoint(g);if(!this.__scrollRect.containsPoint(g))return!1}if(rb.prototype.__hitTest.call(this,a,b,c,d,e,f))return e;if((!e||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(a,b,c,this.__getRenderTransform()))return null!=d&&d.push(f),!0}return!1},__hitTestMask:function(a,
b){return rb.prototype.__hitTestMask.call(this,a,b)||null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new vd(this));return this.__graphics},get_tabEnabled:function(){return this.__tabEnabled||this.buttonMode},__class__:yb,__properties__:r(rb.prototype.__properties__,{get_graphics:"get_graphics"})});var Vc=function(){yb.call(this);null!=this.stage?this.start():this.addEventListener("addedToStage",
l(this,this.onAddedToStage))};h.Demo=Vc;Vc.__name__=["Demo"];Vc.__super__=yb;Vc.prototype=r(yb.prototype,{onAddedToStage:function(a){this.removeEventListener("addedToStage",l(this,this.onAddedToStage));this.stage.scaleMode=2;this.start()},start:function(){var a=this;A.set_multitouchEnabled(!0);A.set_handleLostContext(!0);jc.optimizePersistentBuffers=!0;this.mStarling=new A(za,this.stage,null,null,0,"auto");this.mStarling.get_stage().set_stageWidth(va.GameWidth);this.mStarling.get_stage().set_stageHeight(va.GameHeight);
this.mStarling.set_simulateMultitouch(!0);this.mStarling.set_enableErrorChecking(xc.isDebugger);this.mStarling.addEventListener("rootCreated",function(){a.loadAssets(l(a,a.startGame))});this.stage.addEventListener("resize",l(this,this.onResize),!1,2147483647,!0);this.mStarling.start();this.initElements()},loadAssets:function(a){var b=new Jc;b.set_verbose(xc.isDebugger);bc.delay(function(){var c=Ia.fromBitmapData(Xa.getBitmapData("assets/textures/1x/atlas.png"),!1),d=K.parse(Xa.getText("assets/textures/1x/atlas.xml")).firstElement(),
e=Ia.fromBitmapData(Xa.getBitmapData("assets/fonts/1x/desyrel.png"),!1),f=K.parse(Xa.getText("assets/fonts/1x/desyrel.fnt")).firstElement();L.registerBitmapFont(new $b(e,f));b.addTexture("atlas",c);b.addTextureAtlas("atlas",new wd(c,d));b.addTexture("background",Ia.fromBitmapData(Xa.getBitmapData("assets/textures/1x/background.jpg"),!1));b.addSound("wing_flap",Xa.getSound("assets/audio/wing_flap.ogg"));a(b)},0)},startGame:function(a){u.__cast(this.mStarling.get_root(),za).start(a);bc.delay(l(this,
this.removeElements),150)},initElements:function(){this.mBackground=new be(Xa.getBitmapData("assets/textures/1x/background.jpg"));this.mBackground.smoothing=!0;this.addChild(this.mBackground)},removeElements:function(){null!=this.mBackground&&(this.removeChild(this.mBackground),this.mBackground=null);null!=this.mProgressBar&&(this.removeChild(this.mProgressBar),this.mProgressBar=null)},onResize:function(a){a=Ya.fit(new I(0,0,va.GameWidth,va.GameHeight),new I(0,0,this.stage.stageWidth,this.stage.stageHeight));
try{this.mStarling.set_viewPort(a)}catch(b){if(b instanceof m&&(b=b.val),!u.__instanceof(b,ga))throw b;}},__class__:Vc});var Zd=function(){Qa.current.addChild(this);Vc.call(this);this.dispatchEvent(new ca("addedToStage",!1,!1))};h.DocumentClass=Zd;Zd.__name__=["DocumentClass"];Zd.__super__=Vc;Zd.prototype=r(Vc.prototype,{__class__:Zd});var va=function(){};h.Constants=va;va.__name__=["Constants"];var ce=function(){this.onChange=new gb};h["lime.AssetLibrary"]=ce;ce.__name__=["lime","AssetLibrary"];
ce.prototype={exists:function(a,b){return!1},getAudioBuffer:function(a){return null},getBytes:function(a){return null},getImage:function(a){return null},getText:function(a){a=this.getBytes(a);return null==a?null:a.getString(0,a.length)},isLocal:function(a,b){return!0},unload:function(){},__class__:ce};var fe=function(){this.type=new ja;this.path=new ja;this.className=new ja;this.onChange=new gb;Ub.registerFont(de);Ub.registerFont(ee);var a;a="assets/audio/wing_flap.mp3";this.path.set(a,a);this.type.set(a,
"MUSIC");a="assets/audio/wing_flap.ogg";this.path.set(a,a);this.type.set(a,"SOUND");a="assets/textures/1x/atlas.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/textures/1x/atlas.xml";this.path.set(a,a);this.type.set(a,"TEXT");a="assets/textures/1x/background.jpg";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/textures/1x/compressed_texture.atf";this.path.set(a,a);this.type.set(a,"BINARY");a="assets/fonts/1x/desyrel.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="assets/fonts/1x/desyrel.png";
this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/fonts/DejaVuSans.ttf";this.className.set(a,xd);this.type.set(a,"FONT");a="assets/fonts/Ubuntu-R.ttf";this.className.set(a,yd);this.type.set(a,"FONT");a=null;null!=Pa.config&&Object.prototype.hasOwnProperty.call(Pa.config,"assetsPrefix")&&(a=Pa.config.assetsPrefix);if(null!=a)for(var b=this.path.keys();b.hasNext();){var c=b.next(),d=a+this.path.get(c);this.path.set(c,d)}};h.DefaultAssetLibrary=fe;fe.__name__=["DefaultAssetLibrary"];fe.__super__=
ce;fe.prototype=r(ce.prototype,{exists:function(a,b){var c;c=null!=b?u.__cast(b,String):null;var d=this.type.get(a);return null==d||d!=c&&("SOUND"!=c&&"MUSIC"!=c||"MUSIC"!=d&&"SOUND"!=d)&&"BINARY"!=c&&null!=c&&("BINARY"!=d||"TEXT"!=c)?!1:!0},getAudioBuffer:function(a){a=this.path.get(a);return Ma.audioBuffers.get(a)},getBytes:function(a){a=this.path.get(a);a=Ma.loaders.get(a);if(null==a)return null;a=a.bytes;return null!=a?a:null},getImage:function(a){return cc.fromImageElement(function(b){b=b.path.get(a);
return Ma.images.get(b)}(this))},getText:function(a){a=this.path.get(a);a=Ma.loaders.get(a);if(null==a)return null;a=a.bytes;return null!=a?a.getString(0,a.length):null},isLocal:function(a,b){switch(null!=b?u.__cast(b,String):null){case "FONT":return this.className.exists(a);case "IMAGE":var c=this.path.get(a);return Ma.images.exists(c);case "MUSIC":case "SOUND":return c=this.path.get(a),Ma.audioBuffers.exists(c);default:return c=this.path.get(a),Ma.loaders.exists(c)}},__class__:fe});var Vb=function(a){null!=
a&&(this.name=a);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};h["lime.text.Font"]=Vb;Vb.__name__=["lime","text","Font"];Vb.prototype={__fromFile:function(a){this.__fontPath=a},__class__:Vb};var xd=function(){Vb.call(this);this.name="DejaVu Sans"};h.__ASSET__assets_fonts_dejavusans_ttf=xd;xd.__name__=["__ASSET__assets_fonts_dejavusans_ttf"];xd.__super__=Vb;xd.prototype=r(Vb.prototype,{__class__:xd});var yd=function(){Vb.call(this);this.name="Ubuntu"};h.__ASSET__assets_fonts_ubuntu_r_ttf=
yd;yd.__name__=["__ASSET__assets_fonts_ubuntu_r_ttf"];yd.__super__=Vb;yd.prototype=r(Vb.prototype,{__class__:yd});var Ub=function(a){Vb.call(this,a)};h["openfl.text.Font"]=Ub;Ub.__name__=["openfl","text","Font"];Ub.registerFont=function(a){a=u.__cast(Bb.createInstance(a,[]),Ub);null!=a&&Ub.__registeredFonts.push(a)};Ub.__super__=Vb;Ub.prototype=r(Vb.prototype,{__class__:Ub});var de=function(){var a=new xd;this.src=a.src;this.name=a.name;Vb.call(this,void 0)};h.__ASSET__OPENFL__assets_fonts_dejavusans_ttf=
de;de.__name__=["__ASSET__OPENFL__assets_fonts_dejavusans_ttf"];de.__super__=Ub;de.prototype=r(Ub.prototype,{__class__:de});var ee=function(){var a=new yd;this.src=a.src;this.name=a.name;Vb.call(this,void 0)};h.__ASSET__OPENFL__assets_fonts_ubuntu_r_ttf=ee;ee.__name__=["__ASSET__OPENFL__assets_fonts_ubuntu_r_ttf"];ee.__super__=Ub;ee.prototype=r(Ub.prototype,{__class__:ee});var wa=function(a,b){b=b.split("u").join("");this.r=new RegExp(a,b)};h.EReg=wa;wa.__name__=["EReg"];wa.prototype={match:function(a){this.r.global&&
(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new m("EReg::matched");},matchedRight:function(){if(null==this.r.m)throw new m("No string matched");var a=this.r.m.index+this.r.m[0].length;return M.substr(this.r.s,a,this.r.s.length-a)},matchedPos:function(){if(null==this.r.m)throw new m("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){null==
c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:M.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;return b}if(c=this.match(0>c?M.substr(a,b,null):M.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return c},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},replace:function(a,b){return a.replace(this.r,b)},__class__:wa};var bb=function(){};h["starling.events.EventDispatcher"]=bb;bb.__name__=["starling","events","EventDispatcher"];bb.prototype={addEventListener:function(a,
b){null==this.mEventListeners&&(this.mEventListeners=new ja);var c=this.mEventListeners.get(a);if(null==c)c=E.toFunctionVector(null),this.mEventListeners.set(a,c),c,this.mEventListeners.get(a).push(b);else{for(var d=0,e=c.get_length();d<e;){var f=d++;if(T.compareMethods(c.get(f),b))return}d=c.get_length();c.set(d,b)}},removeEventListener:function(a,b){if(null!=this.mEventListeners){var c=this.mEventListeners.get(a),d;d=null!=c?c.get_length():0;if(0<d){var e=c.indexOf(b,0);if(-1!=e){for(var f=c.slice(0,
e),e=e+1;e<d;){var g=e++,n=c.get(g);f.set(g-1,n)}this.mEventListeners.set(a,f);f}}}},removeEventListeners:function(a){null!=a&&null!=this.mEventListeners?this.mEventListeners.remove(a):this.mEventListeners=null},dispatchEvent:function(a){var b=a.bubbles;if(b||null!=this.mEventListeners&&this.mEventListeners.exists(a.type)){var c=a.target;a.setTarget(this);b&&u.__instanceof(this,N)?this.bubbleEvent(a):this.invokeEvent(a);null!=c&&a.setTarget(c)}},invokeEvent:function(a){var b;b=null!=this.mEventListeners?
this.mEventListeners.get(a.type):null;var c;c=null==b?0:b.get_length();if(0!=c){a.setCurrentTarget(this);for(var d=0;d<c;){var e=d++;b.get(e)(a,a.data);if(a.stopsImmediatePropagation)return!0}return a.stopsPropagation}return!1},bubbleEvent:function(a){var b,c;c=u.__cast(this,N);var d=1;if(0<bb.sBubbleChains.length)b=bb.sBubbleChains.pop(),b.set(0,c);else{b=[c];for(var e=E.toObjectVector(null),f=0,g=b.length;f<g;){var n=f++;e.set(n,b[n])}b=e}for(;null!=(c=c.get_parent());)e=d++,b.set(e,c);for(c=0;c<
d&&(e=c++,null==b.get(e)||!b.get(e).invokeEvent(a)););b.set_length(0);bb.sBubbleChains[bb.sBubbleChains.length]=b},dispatchEventWith:function(a,b,c){null==b&&(b=!1);if(b||this.hasEventListener(a))a=Wa.fromPool(a,b,c),this.dispatchEvent(a),Wa.toPool(a)},hasEventListener:function(a){a=null!=this.mEventListeners?this.mEventListeners.get(a):null;return null!=a?0!=a.get_length():!1},__class__:bb};var E={};h["openfl._Vector.Vector_Impl_"]=E;E.__name__=["openfl","_Vector","Vector_Impl_"];E.toIntVector=function(a,
b,c){return new ge(b,c)};E.toFloatVector=function(a,b,c){return new zd(b,c)};E.toFunctionVector=function(a,b,c){return new Ad(b,c)};E.toObjectVector=function(a,b,c){return new tc(b,c)};var he=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};h["lime.math.Matrix3"]=he;he.__name__=["lime","math","Matrix3"];he.prototype={setTo:function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=
d;this.tx=e;this.ty=f},__class__:he};var U=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};h["openfl.geom.Matrix"]=U;U.__name__=["openfl","geom","Matrix"];U.prototype={clone:function(){return new U(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;
this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-
this.d*this.ty;this.tx=a}return this},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.a*b-this.b*a;this.b=this.a*a+this.b*b;this.a=c;c=this.c*b-this.d*a;this.d=this.c*a+this.d*b;this.c=c;c=this.tx*b-this.ty*a;this.ty=this.tx*a+this.ty*b;this.tx=c},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},setTo:function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f},to3DString:function(a){null==a&&(a=!1);return a?"matrix3d("+this.a+", "+
this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(this.tx|0)+", "+(this.ty|0)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},transformPoint:function(a){return new fa(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},__toMatrix3:function(){U.__matrix3.setTo(this.a,this.b,this.c,this.d,this.tx,this.ty);return U.__matrix3},__transformInversePoint:function(a){var b=
this.a*this.d-this.b*this.c;if(0==b)a.x=-this.tx,a.y=-this.ty;else{var c=1/b*(this.c*(this.ty-a.y)+this.d*(a.x-this.tx));a.y=1/b*(this.a*(a.y-this.ty)+this.b*(this.tx-a.x));a.x=c}},__transformInverseX:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.tx:1/c*(this.c*(this.ty-b)+this.d*(a-this.tx))},__transformInverseY:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.ty:1/c*(this.a*(b-this.ty)+this.b*(this.tx-a))},__transformX:function(a,b){return a*this.a+b*this.c+
this.tx},__transformY:function(a,b){return a*this.b+b*this.d+this.ty},__translateTransformed:function(a,b){this.tx=a*this.a+b*this.c+this.tx;this.ty=a*this.b+b*this.d+this.ty},__class__:U};var ib=function(a){if(null!=a&&16==a.get_length())this.rawData=a;else{a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];for(var b=E.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.rawData=b}};h["openfl.geom.Matrix3D"]=ib;ib.__name__=["openfl","geom","Matrix3D"];ib.prototype={append:function(a){var b=this.rawData.get(0),
c=this.rawData.get(4),d=this.rawData.get(8),e=this.rawData.get(12),f=this.rawData.get(1),g=this.rawData.get(5),n=this.rawData.get(9),v=this.rawData.get(13),Ra=this.rawData.get(2),h=this.rawData.get(6),x=this.rawData.get(10),q=this.rawData.get(14),k=this.rawData.get(3),l=this.rawData.get(7),m=this.rawData.get(11),p=this.rawData.get(15),r=a.rawData.get(0),z=a.rawData.get(4),t=a.rawData.get(8),B=a.rawData.get(12),u=a.rawData.get(1),w=a.rawData.get(5),y=a.rawData.get(9),A=a.rawData.get(13),E=a.rawData.get(2),
C=a.rawData.get(6),D=a.rawData.get(10),F=a.rawData.get(14),G=a.rawData.get(3),I=a.rawData.get(7),H=a.rawData.get(11);a=a.rawData.get(15);this.rawData.set(0,b*r+f*z+Ra*t+k*B);this.rawData.set(1,b*u+f*w+Ra*y+k*A);this.rawData.set(2,b*E+f*C+Ra*D+k*F);this.rawData.set(3,b*G+f*I+Ra*H+k*a);this.rawData.set(4,c*r+g*z+h*t+l*B);this.rawData.set(5,c*u+g*w+h*y+l*A);this.rawData.set(6,c*E+g*C+h*D+l*F);this.rawData.set(7,c*G+g*I+h*H+l*a);this.rawData.set(8,d*r+n*z+x*t+m*B);this.rawData.set(9,d*u+n*w+x*y+m*A);
this.rawData.set(10,d*E+n*C+x*D+m*F);this.rawData.set(11,d*G+n*I+x*H+m*a);this.rawData.set(12,e*r+v*z+q*t+p*B);this.rawData.set(13,e*u+v*w+q*y+p*A);this.rawData.set(14,e*E+v*C+q*D+p*F);this.rawData.set(15,e*G+v*I+q*H+p*a)},appendRotation:function(a,b,c){var d,e,f;d=e=f=0;null!=c&&(d=c.x,e=c.y,f=c.z);c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);var g=b.x,n=b.y;b=b.z;var v=g*g,Ra=n*n,h=b*b,x=v+Ra+h;if(0!=x){var q=Math.sqrt(x),g=g/q,n=n/q;b/=q;v/=x;Ra/=x;h/=x}var x=1-a,q=new ib,k=q.rawData;k.set(0,v+
(Ra+h)*a);k.set(1,g*n*x+b*c);k.set(2,g*b*x-n*c);k.set(4,g*n*x-b*c);k.set(5,Ra+(v+h)*a);k.set(6,n*b*x+g*c);k.set(8,g*b*x+n*c);k.set(9,n*b*x-g*c);k.set(10,h+(v+Ra)*a);k.set(12,(d*(Ra+h)-g*(e*n+f*b))*x+(e*b-f*n)*c);k.set(13,(e*(v+h)-n*(d*g+f*b))*x+(f*g-d*b)*c);k.set(14,(f*(v+Ra)-b*(d*g+e*n))*x+(d*n-e*g)*c);this.append(q)},appendScale:function(a,b,c){this.append(new ib(function(d){d=[a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1];for(var e=E.toFloatVector(null),f=0,g=d.length;f<g;){var n=f++;e.set(n,d[n])}return e}(this)))},
appendTranslation:function(a,b,c){a=this.rawData.get(12)+a;this.rawData.set(12,a);b=this.rawData.get(13)+b;this.rawData.set(13,b);c=this.rawData.get(14)+c;this.rawData.set(14,c)},copyFrom:function(a){this.rawData=a.rawData.copy()},copyRawDataFrom:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);c&&this.transpose();var d;d=a.get_length()-b;for(var e=0;e<d;){var f=e++,g=a.get(f+b);this.rawData.set(f,g)}c&&this.transpose()},copyRawDataTo:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);c&&this.transpose();
for(var d=0,e=this.rawData.get_length();d<e;){var f=d++,g=this.rawData.get(f);a.set(f+b,g)}c&&this.transpose()},identity:function(){for(var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],b=E.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.rawData=b},invert:function(){var a=this.get_determinant(),b=1E-11<Math.abs(a);if(b){var a=1/a,c=this.rawData.get(0),d=this.rawData.get(4),e=this.rawData.get(8),f=this.rawData.get(12),g=this.rawData.get(1),n=this.rawData.get(5),v=this.rawData.get(9),Ra=
this.rawData.get(13),h=this.rawData.get(2),k=this.rawData.get(6),q=this.rawData.get(10),Cb=this.rawData.get(14),l=this.rawData.get(3),m=this.rawData.get(7),p=this.rawData.get(11),r=this.rawData.get(15);this.rawData.set(0,a*(n*(q*r-Cb*p)-v*(k*r-Cb*m)+Ra*(k*p-q*m)));this.rawData.set(1,-a*(g*(q*r-Cb*p)-v*(h*r-Cb*l)+Ra*(h*p-q*l)));this.rawData.set(2,a*(g*(k*r-Cb*m)-n*(h*r-Cb*l)+Ra*(h*m-k*l)));this.rawData.set(3,-a*(g*(k*p-q*m)-n*(h*p-q*l)+v*(h*m-k*l)));this.rawData.set(4,-a*(d*(q*r-Cb*p)-e*(k*r-Cb*m)+
f*(k*p-q*m)));this.rawData.set(5,a*(c*(q*r-Cb*p)-e*(h*r-Cb*l)+f*(h*p-q*l)));this.rawData.set(6,-a*(c*(k*r-Cb*m)-d*(h*r-Cb*l)+f*(h*m-k*l)));this.rawData.set(7,a*(c*(k*p-q*m)-d*(h*p-q*l)+e*(h*m-k*l)));this.rawData.set(8,a*(d*(v*r-Ra*p)-e*(n*r-Ra*m)+f*(n*p-v*m)));this.rawData.set(9,-a*(c*(v*r-Ra*p)-e*(g*r-Ra*l)+f*(g*p-v*l)));this.rawData.set(10,a*(c*(n*r-Ra*m)-d*(g*r-Ra*l)+f*(g*m-n*l)));this.rawData.set(11,-a*(c*(n*p-v*m)-d*(g*p-v*l)+e*(g*m-n*l)));this.rawData.set(12,-a*(d*(v*Cb-Ra*q)-e*(n*Cb-Ra*k)+
f*(n*q-v*k)));this.rawData.set(13,a*(c*(v*Cb-Ra*q)-e*(g*Cb-Ra*h)+f*(g*q-v*h)));this.rawData.set(14,-a*(c*(n*Cb-Ra*k)-d*(g*Cb-Ra*h)+f*(g*k-n*h)));this.rawData.set(15,a*(c*(n*q-v*k)-d*(g*q-v*h)+e*(g*k-n*h)))}return b},prepend:function(a){var b=a.rawData.get(0),c=a.rawData.get(4),d=a.rawData.get(8),e=a.rawData.get(12),f=a.rawData.get(1),g=a.rawData.get(5),n=a.rawData.get(9),v=a.rawData.get(13),h=a.rawData.get(2),k=a.rawData.get(6),x=a.rawData.get(10),q=a.rawData.get(14),l=a.rawData.get(3),m=a.rawData.get(7),
p=a.rawData.get(11);a=a.rawData.get(15);var r=this.rawData.get(0),t=this.rawData.get(4),z=this.rawData.get(8),B=this.rawData.get(12),u=this.rawData.get(1),w=this.rawData.get(5),y=this.rawData.get(9),A=this.rawData.get(13),E=this.rawData.get(2),C=this.rawData.get(6),D=this.rawData.get(10),F=this.rawData.get(14),G=this.rawData.get(3),I=this.rawData.get(7),H=this.rawData.get(11),K=this.rawData.get(15);this.rawData.set(0,b*r+f*t+h*z+l*B);this.rawData.set(1,b*u+f*w+h*y+l*A);this.rawData.set(2,b*E+f*C+
h*D+l*F);this.rawData.set(3,b*G+f*I+h*H+l*K);this.rawData.set(4,c*r+g*t+k*z+m*B);this.rawData.set(5,c*u+g*w+k*y+m*A);this.rawData.set(6,c*E+g*C+k*D+m*F);this.rawData.set(7,c*G+g*I+k*H+m*K);this.rawData.set(8,d*r+n*t+x*z+p*B);this.rawData.set(9,d*u+n*w+x*y+p*A);this.rawData.set(10,d*E+n*C+x*D+p*F);this.rawData.set(11,d*G+n*I+x*H+p*K);this.rawData.set(12,e*r+v*t+q*z+a*B);this.rawData.set(13,e*u+v*w+q*y+a*A);this.rawData.set(14,e*E+v*C+q*D+a*F);this.rawData.set(15,e*G+v*I+q*H+a*K)},prependTranslation:function(a,
b,c){var d=new ib;d.set_position(new Fb(a,b,c));this.prepend(d)},transpose:function(){var a=this.rawData.copy(),b=a.get(4);this.rawData.set(1,b);b=a.get(8);this.rawData.set(2,b);b=a.get(12);this.rawData.set(3,b);b=a.get(1);this.rawData.set(4,b);b=a.get(9);this.rawData.set(6,b);b=a.get(13);this.rawData.set(7,b);b=a.get(2);this.rawData.set(8,b);b=a.get(6);this.rawData.set(9,b);b=a.get(14);this.rawData.set(11,b);b=a.get(3);this.rawData.set(12,b);b=a.get(7);this.rawData.set(13,b);a=a.get(11);this.rawData.set(14,
a)},get_determinant:function(){return(this.rawData.get(0)*this.rawData.get(5)-this.rawData.get(4)*this.rawData.get(1))*(this.rawData.get(10)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(11))-(this.rawData.get(0)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(7))+(this.rawData.get(0)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(11)-this.rawData.get(10)*
this.rawData.get(7))+(this.rawData.get(4)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(3))-(this.rawData.get(4)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(3))+(this.rawData.get(8)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(9))*(this.rawData.get(2)*this.rawData.get(7)-this.rawData.get(6)*this.rawData.get(3))},
set_position:function(a){this.rawData.set(12,a.x);this.rawData.set(13,a.y);this.rawData.set(14,a.z);return a},__class__:ib,__properties__:{set_position:"set_position",get_determinant:"get_determinant"}};var fa=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["openfl.geom.Point"]=fa;fa.__name__=["openfl","geom","Point"];fa.prototype={clone:function(){return new fa(this.x,this.y)},setTo:function(a,b){this.x=a;this.y=b},subtract:function(a){return new fa(this.x-a.x,this.y-a.y)},__toLimeVector2:function(){null==
fa.__limeVector2&&(fa.__limeVector2=new Kc);fa.__limeVector2.setTo(this.x,this.y);return fa.__limeVector2},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:fa,__properties__:{get_length:"get_length"}};var Fb=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.w=d;this.x=a;this.y=b;this.z=c};h["openfl.geom.Vector3D"]=Fb;Fb.__name__=["openfl","geom","Vector3D"];Fb.prototype={setTo:function(a,b,c){this.x=a;this.y=b;this.z=c},__class__:Fb};
var I=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};h["openfl.geom.Rectangle"]=I;I.__name__=["openfl","geom","Rectangle"];I.prototype={clone:function(){return new I(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()&&b<this.get_bottom()},containsPoint:function(a){return this.contains(a.x,a.y)},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=
a.height},inflate:function(a,b){this.x-=a;this.width+=2*a;this.y-=b;this.height+=2*b},intersection:function(a){var b;b=this.x<a.x?a.x:this.x;var c;c=this.get_right()>a.get_right()?a.get_right():this.get_right();if(c<=b)return new I;var d;d=this.y<a.y?a.y:this.y;a=this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom();return a<=d?new I:new I(b,d,c-b,a-d)},isEmpty:function(){return 0>=this.width||0>=this.height},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(a,
b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},union:function(a){if(0==this.width||0==this.height)return a.clone();if(0==a.width||0==a.height)return this.clone();var b;b=this.x>a.x?a.x:this.x;var c;c=this.get_right()<a.get_right()?a.get_right():this.get_right();var d;d=this.y>a.y?a.y:this.y;a=this.get_bottom()<a.get_bottom()?a.get_bottom():this.get_bottom();return new I(b,d,c-b,a-d)},__contract:function(a,b,c,d){if(0!=this.width||0!=this.height){var e=0,f=0,g=0,n=0;this.x<a&&(e=a-this.x);this.y<
b&&(f=b-this.y);this.get_right()>a+c&&(g=a+c-this.get_right());this.get_bottom()>b+d&&(n=b+d-this.get_bottom());this.x+=e;this.y+=f;this.width+=g-e;this.height+=n-f}},__expand:function(a,b,c,d){if(0==this.width&&0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),f=this.get_bottom();this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=f-b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y)}},__toLimeRectangle:function(){null==I.__limeRectangle&&
(I.__limeRectangle=new kc);I.__limeRectangle.setTo(this.x,this.y,this.width,this.height);return I.__limeRectangle},__transform:function(a,b){var c=b.a*this.x+b.c*this.y,d=c,e=b.b*this.x+b.d*this.y,f=e,g=b.a*(this.x+this.width)+b.c*this.y,n=b.b*(this.x+this.width)+b.d*this.y;g<c&&(c=g);n<e&&(e=n);g>d&&(d=g);n>f&&(f=n);g=b.a*(this.x+this.width)+b.c*(this.y+this.height);n=b.b*(this.x+this.width)+b.d*(this.y+this.height);g<c&&(c=g);n<e&&(e=n);g>d&&(d=g);n>f&&(f=n);g=b.a*this.x+b.c*(this.y+this.height);
n=b.b*this.x+b.d*(this.y+this.height);g<c&&(c=g);n<e&&(e=n);g>d&&(d=g);n>f&&(f=n);a.setTo(c+b.tx,e+b.ty,d-c,f-e)},get_bottom:function(){return this.y+this.height},set_bottom:function(a){this.height=a-this.y;return a},get_left:function(){return this.x},get_right:function(){return this.x+this.width},set_right:function(a){this.width=a-this.x;return a},get_top:function(){return this.y},__class__:I,__properties__:{get_top:"get_top",set_right:"set_right",get_right:"get_right",get_left:"get_left",set_bottom:"set_bottom",
get_bottom:"get_bottom"}};var N=function(){this.mX=this.mY=this.mPivotX=this.mPivotY=this.mRotation=this.mSkewX=this.mSkewY=0;this.mScaleX=this.mScaleY=this.mAlpha=1;this.mVisible=this.mTouchable=!0;this.mBlendMode="auto";this.mTransformationMatrix=new U;this.mOrientationChanged=this.mUseHandCursor=!1};h["starling.display.DisplayObject"]=N;N.__name__=["starling","display","DisplayObject"];N.__super__=bb;N.prototype=r(bb.prototype,{dispose:function(){null!=this.mFilter&&this.mFilter.dispose();null!=
this.mMask&&this.mMask.dispose();this.removeEventListeners();this.set_mask(null)},removeFromParent:function(a){null==a&&(a=!1);null!=this.mParent?this.mParent.removeChild(this,a):a&&this.dispose()},getTransformationMatrix:function(a,b){var c,d;null!=b?b.identity():b=new U;if(a==this)return b;if(a==this.mParent||null==a&&null==this.mParent)return b.copyFrom(this.get_transformationMatrix()),b;if(null==a||a==this.get_base()){for(d=this;d!=a;)b.concat(d.get_transformationMatrix()),d=d.mParent;return b}if(a.mParent==
this)return a.getTransformationMatrix(this,b),b.invert(),b;c=this.findCommonParent(this,a);for(d=this;d!=c;)b.concat(d.get_transformationMatrix()),d=d.mParent;if(c==a)return b;N.sHelperMatrix.identity();for(d=a;d!=c;)N.sHelperMatrix.concat(d.get_transformationMatrix()),d=d.mParent;N.sHelperMatrix.invert();b.concat(N.sHelperMatrix);return b},getBounds:function(a,b){throw new m(new Bd);},hitTest:function(a,b){null==b&&(b=!1);return b&&(!this.mVisible||!this.mTouchable)||null!=this.mMask&&!this.hitTestMask(a)?
null:this.getBounds(this,N.sHelperRect).containsPoint(a)?this:null},hitTestMask:function(a){if(null!=this.mMask){null!=this.mMask.get_stage()?this.getTransformationMatrix(this.mMask,N.sHelperMatrixAlt):(N.sHelperMatrixAlt.copyFrom(this.mMask.get_transformationMatrix()),N.sHelperMatrixAlt.invert());var b;b=a==N.sHelperPoint?new fa:N.sHelperPoint;J.transformPoint(N.sHelperMatrixAlt,a,b);return null!=this.mMask.hitTest(b,!0)}return!0},globalToLocal:function(a,b){if(this.get_is3D())return this.globalToLocal3D(a,
N.sHelperPoint3D),this.get_stage().getCameraPosition(this,N.sHelperPointAlt3D),cb.intersectLineWithXYPlane(N.sHelperPointAlt3D,N.sHelperPoint3D,b);this.getTransformationMatrix(this.get_base(),N.sHelperMatrixAlt);N.sHelperMatrixAlt.invert();return J.transformPoint(N.sHelperMatrixAlt,a,b)},render:function(a,b){throw new m(new Bd);},get_hasVisibleArea:function(){return 0!=this.mAlpha&&this.mVisible&&!this.mIsMask&&0!=this.mScaleX&&0!=this.mScaleY},alignPivot:function(a,b){null==b&&(b="center");null==
a&&(a="center");var c=this.getBounds(this,N.sHelperRect);this.mOrientationChanged=!0;if("left"==a)this.mPivotX=c.x;else if("center"==a)this.mPivotX=c.x+c.width/2;else if("right"==a)this.mPivotX=c.x+c.width;else throw new m(new la("Invalid horizontal alignment: "+a));if("top"==b)this.mPivotY=c.y;else if("center"==b)this.mPivotY=c.y+c.height/2;else if("bottom"==b)this.mPivotY=c.y+c.height;else throw new m(new la("Invalid vertical alignment: "+b));},getTransformationMatrix3D:function(a,b){var c,d;null!=
b?b.identity():b=new ib;if(a==this)return b;if(a==this.mParent||null==a&&null==this.mParent)return b.copyFrom(this.get_transformationMatrix3D()),b;if(null==a||a==this.get_base()){for(d=this;d!=a;)b.append(d.get_transformationMatrix3D()),d=d.mParent;return b}if(a.mParent==this)return a.getTransformationMatrix3D(this,b),b.invert(),b;c=this.findCommonParent(this,a);for(d=this;d!=c;)b.append(d.get_transformationMatrix3D()),d=d.mParent;if(c==a)return b;N.sHelperMatrix3D.identity();for(d=a;d!=c;)N.sHelperMatrix3D.append(d.get_transformationMatrix3D()),
d=d.mParent;N.sHelperMatrix3D.invert();b.append(N.sHelperMatrix3D);return b},globalToLocal3D:function(a,b){var c=this.get_stage();if(null==c)throw new m(new ma("Object not connected to stage"));this.getTransformationMatrix3D(c,N.sHelperMatrixAlt3D);N.sHelperMatrixAlt3D.invert();return J.transformCoords3D(N.sHelperMatrixAlt3D,a.x,a.y,0,b)},setParent:function(a){for(var b=a;b!=this&&null!=b;)b=b.mParent;if(b==this)throw new m(new la("An object cannot be added as a child to itself or one of its children (or children's children, etc.)"));
this.mParent=a},setIs3D:function(a){this.mIs3D=a},get_isMask:function(){return this.mIsMask},findCommonParent:function(a,b){for(var c=a;null!=c;){var d=N.sAncestors.get_length();N.sAncestors.set(d,c);c=c.mParent}for(c=b;null!=c&&-1==N.sAncestors.indexOf(c,0);)c=c.mParent;N.sAncestors.set_length(0);if(null!=c)return c;throw new m(new la("Object not connected to target"));},dispatchEvent:function(a){"removedFromStage"==a.type&&null==this.get_stage()||bb.prototype.dispatchEvent.call(this,a)},addEventListener:function(a,
b){"enterFrame"!=a||this.hasEventListener(a)||(this.addEventListener("addedToStage",l(this,this.addEnterFrameListenerToStage)),this.addEventListener("removedFromStage",l(this,this.removeEnterFrameListenerFromStage)),null!=this.get_stage()&&this.addEnterFrameListenerToStage());bb.prototype.addEventListener.call(this,a,b)},removeEventListener:function(a,b){bb.prototype.removeEventListener.call(this,a,b);"enterFrame"!=a||this.hasEventListener(a)||(this.removeEventListener("addedToStage",l(this,this.addEnterFrameListenerToStage)),
this.removeEventListener("removedFromStage",l(this,this.removeEnterFrameListenerFromStage)),this.removeEnterFrameListenerFromStage())},removeEventListeners:function(a){null!=a&&"enterFrame"!=a||!this.hasEventListener("enterFrame")||(this.removeEventListener("addedToStage",l(this,this.addEnterFrameListenerToStage)),this.removeEventListener("removedFromStage",l(this,this.removeEnterFrameListenerFromStage)),this.removeEnterFrameListenerFromStage());bb.prototype.removeEventListeners.call(this,a)},addEnterFrameListenerToStage:function(a){A.get_current().get_stage().addEnterFrameListener(this)},
removeEnterFrameListenerFromStage:function(a){A.get_current().get_stage().removeEnterFrameListener(this)},get_transformationMatrix:function(){if(this.mOrientationChanged)if(this.mOrientationChanged=!1,0==this.mSkewX&&0==this.mSkewY)if(0==this.mRotation)this.mTransformationMatrix.setTo(this.mScaleX,0,0,this.mScaleY,this.mX-this.mPivotX*this.mScaleX,this.mY-this.mPivotY*this.mScaleY);else{var a=Math.cos(this.mRotation),b=Math.sin(this.mRotation),c=this.mScaleX*a,d=this.mScaleX*b,b=this.mScaleY*-b,a=
this.mScaleY*a;this.mTransformationMatrix.setTo(c,d,b,a,this.mX-this.mPivotX*c-this.mPivotY*b,this.mY-this.mPivotX*d-this.mPivotY*a)}else if(this.mTransformationMatrix.identity(),this.mTransformationMatrix.scale(this.mScaleX,this.mScaleY),J.skew(this.mTransformationMatrix,this.mSkewX,this.mSkewY),this.mTransformationMatrix.rotate(this.mRotation),this.mTransformationMatrix.translate(this.mX,this.mY),0!=this.mPivotX||0!=this.mPivotY)this.mTransformationMatrix.tx=this.mX-this.mTransformationMatrix.a*
this.mPivotX-this.mTransformationMatrix.c*this.mPivotY,this.mTransformationMatrix.ty=this.mY-this.mTransformationMatrix.b*this.mPivotX-this.mTransformationMatrix.d*this.mPivotY;return this.mTransformationMatrix},get_transformationMatrix3D:function(){null==this.mTransformationMatrix3D&&(this.mTransformationMatrix3D=new ib);return J.convertTo3D(this.get_transformationMatrix(),this.mTransformationMatrix3D)},get_is3D:function(){return this.mIs3D},set_useHandCursor:function(a){if(a==this.mUseHandCursor)return this.mUseHandCursor;
(this.mUseHandCursor=a)?this.addEventListener("touch",l(this,this.onTouch)):this.removeEventListener("touch",l(this,this.onTouch));return this.mUseHandCursor},onTouch:function(a){dc.set_cursor(a.interactsWith(this)?"button":"auto")},get_bounds:function(){return this.getBounds(this.mParent)},get_width:function(){return this.getBounds(this.mParent,N.sHelperRect).width},set_width:function(a){this.set_scaleX(1);var b=this.get_width();0!=b&&this.set_scaleX(a/b);return this.getBounds(this.mParent,N.sHelperRect).width},
get_height:function(){return this.getBounds(this.mParent,N.sHelperRect).height},set_height:function(a){this.set_scaleY(1);var b=this.get_height();0!=b&&this.set_scaleY(a/b);return this.getBounds(this.mParent,N.sHelperRect).height},get_x:function(){return this.mX},set_x:function(a){this.mX!=a&&(this.mX=a,this.mOrientationChanged=!0);return this.mX},get_y:function(){return this.mY},set_y:function(a){this.mY!=a&&(this.mY=a,this.mOrientationChanged=!0);return this.mY},get_pivotX:function(){return this.mPivotX},
set_pivotX:function(a){this.mPivotX!=a&&(this.mPivotX=a,this.mOrientationChanged=!0);return this.mPivotX},get_pivotY:function(){return this.mPivotY},set_pivotY:function(a){this.mPivotY!=a&&(this.mPivotY=a,this.mOrientationChanged=!0);return this.mPivotY},get_scaleX:function(){return this.mScaleX},set_scaleX:function(a){this.mScaleX!=a&&(this.mScaleX=a,this.mOrientationChanged=!0);return this.mScaleX},get_scaleY:function(){return this.mScaleY},set_scaleY:function(a){this.mScaleY!=a&&(this.mScaleY=
a,this.mOrientationChanged=!0);return this.mScaleY},get_scale:function(){return this.get_scaleX()},set_scale:function(a){return this.set_scaleX(this.set_scaleY(a))},get_rotation:function(){return this.mRotation},set_rotation:function(a){a=cb.normalizeAngle(a);this.mRotation!=a&&(this.mRotation=a,this.mOrientationChanged=!0);return this.mRotation},get_alpha:function(){return this.mAlpha},set_alpha:function(a){return this.mAlpha=0>a?0:1<a?1:a},get_visible:function(){return this.mVisible},set_visible:function(a){return this.mVisible=
a},get_touchable:function(){return this.mTouchable},set_touchable:function(a){return this.mTouchable=a},get_blendMode:function(){return this.mBlendMode},set_blendMode:function(a){return this.mBlendMode=a},get_name:function(){return this.mName},set_name:function(a){return this.mName=a},get_filter:function(){return this.mFilter},set_filter:function(a){return this.mFilter=a},get_mask:function(){return this.mMask},set_mask:function(a){this.mMask!=a&&(null!=this.mMask&&(this.mMask.mIsMask=!1),null!=a&&
(a.mIsMask=!0),this.mMask=a);return this.mMask},get_parent:function(){return this.mParent},get_base:function(){for(var a=this;null!=a.mParent;)a=a.mParent;return a},get_root:function(){for(var a=this;null!=a.mParent;){if(u.__instanceof(a.mParent,lc))return a;a=a.get_parent()}return null},get_stage:function(){return w.is(this.get_base(),lc)?this.get_base():null},__class__:N,__properties__:{get_stage:"get_stage",get_root:"get_root",get_base:"get_base",get_parent:"get_parent",set_mask:"set_mask",get_mask:"get_mask",
set_filter:"set_filter",get_filter:"get_filter",set_name:"set_name",get_name:"get_name",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_touchable:"set_touchable",get_touchable:"get_touchable",set_visible:"set_visible",get_visible:"get_visible",set_alpha:"set_alpha",get_alpha:"get_alpha",set_rotation:"set_rotation",get_rotation:"get_rotation",set_scale:"set_scale",get_scale:"get_scale",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_pivotY:"set_pivotY",
get_pivotY:"get_pivotY",set_pivotX:"set_pivotX",get_pivotX:"get_pivotX",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",get_bounds:"get_bounds",set_useHandCursor:"set_useHandCursor",get_is3D:"get_is3D",get_transformationMatrix3D:"get_transformationMatrix3D",get_transformationMatrix:"get_transformationMatrix",get_isMask:"get_isMask",get_hasVisibleArea:"get_hasVisibleArea"}});var F=function(){N.call(this);
this.mChildren=E.toObjectVector(null)};h["starling.display.DisplayObjectContainer"]=F;F.__name__=["starling","display","DisplayObjectContainer"];F.__super__=N;F.prototype=r(N.prototype,{dispose:function(){for(var a=this.mChildren.get_length()-1;0<=a;)this.mChildren.get(a).dispose(),--a;N.prototype.dispose.call(this)},addChild:function(a){return this.addChildAt(a,this.mChildren.get_length())},addChildAt:function(a,b){var c=this.mChildren.get_length();if(0<=b&&b<=c)return a.get_parent()==this?this.setChildIndex(a,
b):(a.removeFromParent(),b==c?this.mChildren.set(c,a):this.spliceChildren(b,0,a),a.setParent(this),a.dispatchEventWith("added",!0),null!=this.get_stage()&&(c=u.__instanceof(a,F)?a:null,null!=c?c.broadcastEventWith("addedToStage"):a.dispatchEventWith("addedToStage"))),a;throw new m(new Wc("Invalid child index"));},removeChild:function(a,b){null==b&&(b=!1);var c=this.getChildIndex(a);-1!=c&&this.removeChildAt(c,b);return a},removeChildAt:function(a,b){null==b&&(b=!1);if(0<=a&&a<this.mChildren.get_length()){var c=
this.mChildren.get(a);c.dispatchEventWith("removed",!0);if(null!=this.get_stage()){var d;d=u.__instanceof(c,F)?c:null;null!=d?d.broadcastEventWith("removedFromStage"):c.dispatchEventWith("removedFromStage")}c.setParent(null);a=this.mChildren.indexOf(c,0);0<=a&&this.spliceChildren(a,1);b&&c.dispose();return c}throw new m(new Wc("Invalid child index"));},getChildAt:function(a){var b=this.mChildren.get_length();0>a&&(a=b+a);if(0<=a&&a<b)return this.mChildren.get(a);throw new m(new Wc("Invalid child index"));
},getChildIndex:function(a){return this.mChildren.indexOf(a,0)},setChildIndex:function(a,b){var c=this.getChildIndex(a);if(c!=b){if(-1==c)throw new m(new la("Not a child of this container"));this.spliceChildren(c,1);this.spliceChildren(b,0,a)}},getBounds:function(a,b){null==b&&(b=new I);var c=this.mChildren.get_length();if(0==c)this.getTransformationMatrix(a,F.sHelperMatrix),J.transformCoords(F.sHelperMatrix,0,0,F.sHelperPoint),b.setTo(F.sHelperPoint.x,F.sHelperPoint.y,0,0);else if(1==c)this.mChildren.get(0).getBounds(a,
b);else{for(var d=1.79E308,e=-1.79E308,f=1.79E308,g=-1.79E308,n=0;n<c;){var v=n++;this.mChildren.get(v).getBounds(a,b);d>b.x&&(d=b.x);e<b.get_right()&&(e=b.get_right());f>b.y&&(f=b.y);g<b.get_bottom()&&(g=b.get_bottom())}b.setTo(d,f,e-d,g-f)}return b},hitTest:function(a,b){null==b&&(b=!1);if(b&&(!this.get_visible()||!this.get_touchable())||!this.hitTestMask(a))return null;for(var c=null,d=a.x,e=a.y,f=this.mChildren.get_length()-1;0<=f;)if(c=this.mChildren.get(f),!c.get_isMask()){F.sHelperMatrix.copyFrom(c.get_transformationMatrix());
F.sHelperMatrix.invert();J.transformCoords(F.sHelperMatrix,d,e,F.sHelperPoint);c=c.hitTest(F.sHelperPoint,b);if(null!=c)return b&&this.mTouchGroup?this:c;--f}return null},render:function(a,b){for(var c=b*this.get_alpha(),d=this.mChildren.get_length(),e=a.get_blendMode(),f=0;f<d;){var g=f++,g=this.mChildren.get(g);if(g.get_hasVisibleArea()){var n=g.get_filter(),v=g.get_mask();a.pushMatrix();a.transformMatrix(g);a.set_blendMode(g.get_blendMode());null!=v&&a.pushMask(v);null!=n?n.render(g,a,c):g.render(a,
c);null!=v&&a.popMask();a.set_blendMode(e);a.popMatrix()}}},broadcastEvent:function(a){if(a.bubbles)throw new m(new la("Broadcast of bubbling events is prohibited"));var b=F.sBroadcastListeners.get_length();this.getChildEventListeners(this,a.type,F.sBroadcastListeners);for(var c=F.sBroadcastListeners.get_length(),d=b;d<c;){var e=d++;F.sBroadcastListeners.get(e).dispatchEvent(a)}F.sBroadcastListeners.set_length(b)},broadcastEventWith:function(a,b){var c=Wa.fromPool(a,!1,b);this.broadcastEvent(c);Wa.toPool(c)},
get_numChildren:function(){return this.mChildren.get_length()},set_touchGroup:function(a){return this.mTouchGroup=a},spliceChildren:function(a,b,c){null==b&&(b=2147483647);var d=this.mChildren,e=d.get_length();0>a&&(a+=e);0>a?a=0:a>e&&(a=e);a+b>e&&(b=e-a);var f;f=null!=c?1:0;var g=f-b,n=e+g;b=e-a-b;if(0>g){for(f=a+f;0!=b;)e=d.get(f-g),d.set(f,e),--b,++f;d.set_length(n)}else if(0<g){for(f=1;0!=b;)g=d.get(e-f),d.set(n-f,g),--b,++f;d.set_length(n)}null!=c&&d.set(a,c)},getChildEventListeners:function(a,
b,c){var d;d=u.__instanceof(a,F)?a:null;if(a.hasEventListener(b)){var e=c.get_length();c.set(e,a)}if(null!=d)for(a=d.mChildren,d=a.get_length(),e=0;e<d;){var f=e++;this.getChildEventListeners(a.get(f),b,c)}},__class__:F,__properties__:r(N.prototype.__properties__,{set_touchGroup:"set_touchGroup",get_numChildren:"get_numChildren"})});var ya=function(){F.call(this)};h["starling.display.Sprite"]=ya;ya.__name__=["starling","display","Sprite"];ya.__super__=F;ya.prototype=r(F.prototype,{dispose:function(){this.disposeFlattenedContents();
F.prototype.dispose.call(this)},disposeFlattenedContents:function(){if(null!=this.mFlattenedContents){for(var a=0,b=this.mFlattenedContents.get_length();a<b;){var c=a++;this.mFlattenedContents.get(c).dispose()}this.mFlattenedContents=null}},get_clipRect:function(){return this.mClipRect},getClipRect:function(a,b){if(null==this.mClipRect)return null;null==b&&(b=new I);for(var c=0,d=0,e=1.79E308,f=-1.79E308,g=1.79E308,n=-1.79E308,v=this.getTransformationMatrix(a,ya.sHelperMatrix),h=0;4>h;){switch(h++){case 0:c=
this.mClipRect.get_left();d=this.mClipRect.get_top();break;case 1:c=this.mClipRect.get_left();d=this.mClipRect.get_bottom();break;case 2:c=this.mClipRect.get_right();d=this.mClipRect.get_top();break;case 3:c=this.mClipRect.get_right(),d=this.mClipRect.get_bottom()}var k=J.transformCoords(v,c,d,ya.sHelperPoint);e>k.x&&(e=k.x);f<k.x&&(f=k.x);g>k.y&&(g=k.y);n<k.y&&(n=k.y)}b.setTo(e,g,f-e,n-g);return b},getBounds:function(a,b){var c=F.prototype.getBounds.call(this,a,b);null!=this.mClipRect&&Ya.intersect(c,
this.getClipRect(a,ya.sHelperRect),c);return c},hitTest:function(a,b){null==b&&(b=!1);return null==this.mClipRect||this.mClipRect.containsPoint(a)?F.prototype.hitTest.call(this,a,b):null},render:function(a,b){if(null!=this.mClipRect&&a.pushClipRect(this.getClipRect(this.get_stage(),ya.sHelperRect)).isEmpty())a.popClipRect();else{if(null!=this.mFlattenedContents||this.mFlattenRequested){null==this.mFlattenedContents&&(this.mFlattenedContents=E.toObjectVector(null));this.mFlattenRequested&&(xa.compile(this,
this.mFlattenedContents),this.mFlattenOptimized&&xa.optimize(this.mFlattenedContents),a.applyClipRect(),this.mFlattenRequested=!1);var c=b*this.get_alpha(),d=this.mFlattenedContents.get_length(),e=a.get_mvpMatrix3D();a.finishQuadBatch();a.raiseDrawCount(d);for(var f=0;f<d;){var g=f++,g=this.mFlattenedContents.get(g),n;n="auto"==g.get_blendMode()?a.get_blendMode():g.get_blendMode();g.renderCustom(e,c,n)}}else F.prototype.render.call(this,a,b);null!=this.mClipRect&&a.popClipRect()}},__class__:ya,__properties__:r(F.prototype.__properties__,
{get_clipRect:"get_clipRect"})});var za=function(){F.call(this)};h.Game=za;za.__name__=["Game"];za.__properties__={get_assets:"get_assets"};za.get_assets=function(){return za.sAssets};za.__super__=ya;za.prototype=r(ya.prototype,{start:function(a){za.sAssets=a;this.addChild(new Ba(a.getTexture("background")));this.showMainMenu();this.addEventListener("triggered",l(this,this.onButtonTriggered));this.get_stage().addEventListener("keyDown",l(this,this.onKey))},showMainMenu:function(){Cd.gc();null==this.mMainMenu&&
(this.mMainMenu=new ie);this.addChild(this.mMainMenu)},onKey:function(a){32==a.get_keyCode()?A.get_current().set_showStats(!A.get_current().get_showStats()):88==a.get_keyCode()&&A.get_current().get_context().dispose()},onButtonTriggered:function(a){a=u.__cast(a.target,Gb);"backButton"==a.get_name()?this.closeScene():this.showScene(a.get_name())},closeScene:function(){this.mCurrentScene.removeFromParent(!0);this.mCurrentScene=null;this.showMainMenu()},showScene:function(a){null==this.mCurrentScene&&
(a=Bb.resolveClass(a),this.mCurrentScene=u.__cast(Bb.createInstance(a,[]),aa),this.mMainMenu.removeFromParent(),this.addChild(this.mCurrentScene))},__class__:za});var M=function(){};h.HxOverrides=M;M.__name__=["HxOverrides"];M.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};M.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};M.indexOf=function(a,b,c){var d=a.length;0>c&&(c+=d,
0>c&&(c=0));for(;c<d;){if(a[c]===b)return c;c++}return-1};M.remove=function(a,b){var c=M.indexOf(a,b,0);if(-1==c)return!1;a.splice(c,1);return!0};M.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var rf=function(){};h.Lambda=rf;rf.__name__=["Lambda"];rf.array=function(a){var b=[];for(a=fh(a)();a.hasNext();){var c=a.next();b.push(c)}return b};var yc=function(){this.length=0};h.List=yc;yc.__name__=["List"];yc.prototype=
{add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},pop:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];null==this.h&&(this.q=null);this.length--;return a},clear:function(){this.q=this.h=null;this.length=0},iterator:function(){return new sf(this.h)},__class__:yc};var sf=function(a){this.head=a;this.val=null};h["_List.ListIterator"]=sf;sf.__name__=["_List","ListIterator"];sf.prototype={hasNext:function(){return null!=this.head},next:function(){this.val=
this.head[0];this.head=this.head[1];return this.val},__class__:sf};var ie=function(){F.call(this);this.init()};h.MainMenu=ie;ie.__name__=["MainMenu"];ie.__super__=ya;ie.prototype=r(ya.prototype,{init:function(){var a=new Ba(za.get_assets().getTexture("logo"));this.addChild(a);for(var a=[["Textures",je],["Multitouch",ke],["TextFields",le],["Animations",me],["Custom hit-test",ne],["Movie Clip",oe],["Filters",pe],["Blend Modes",qe],["Render Texture",re],["Benchmark",Xc],["Masks",se],["Sprite 3D",te]],
b=za.get_assets().getTexture("button_medium"),c=0,d=0;d<a.length;){var e=a[d];++d;var f=e[1],e=new Gb(b,e[0]);e.set_fontName("DejaVu Sans");e.set_x(0==c%2?28:167);e.set_y(155+46*(c/2|0));e.set_name(Bb.getClassName(f));this.addChild(e);0!=a.length%2&&1==c%2&&(f=e,f.set_y(f.get_y()+24));++c}a=new L(310,64,"No driverInfo available","DejaVu Sans",10);a.set_x(5);a.set_y(475-a.get_height());a.set_vAlign("bottom");a.addEventListener("touch",l(this,this.onInfoTextTouched));this.addChildAt(a,0)},onInfoTextTouched:function(a){null!=
a.getTouch(this,"ended")&&A.get_current().set_showStats(!A.get_current().get_showStats())},__class__:ie});Math.__name__=["Math"];var ic=function(){yb.call(this);var a=this.getBackgroundColor(),b=0;70>.299*(a>>16&255)+.587*(a>>8&255)+.114*(a&255)&&(b=16777215);var a=this.getHeight()/2-3.5,c=this.getWidth()-60;this.outline=new yb;this.outline.get_graphics().beginFill(b,.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(a);this.addChild(this.outline);this.progress=
new yb;this.progress.get_graphics().beginFill(b,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(a+2);this.progress.set_scaleX(0);this.addChild(this.progress)};h.NMEPreloader=ic;ic.__name__=["NMEPreloader"];ic.__super__=yb;ic.prototype=r(yb.prototype,{getBackgroundColor:function(){return 16777215},getHeight:function(){return 480},getWidth:function(){return 320},onInit:function(){},onLoaded:function(){this.dispatchEvent(new ca("complete"))},onUpdate:function(a,
b){var c=a/b;1<c&&(c=1);this.progress.set_scaleX(c)},__class__:ic});var T=function(){};h.Reflect=T;T.__name__=["Reflect"];T.field=function(a,b){try{return a[b]}catch(c){return c instanceof m&&(c=c.val),null}};T.setField=function(a,b,c){a[b]=c};T.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};T.setProperty=function(a,b,c){var d;if(a.__properties__&&(d=a.__properties__["set_"+b]))a[d](c);else a[b]=c};T.callMethod=function(a,b,c){return b.apply(a,
c)};T.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};T.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};T.compare=function(a,b){return a==b?0:a>b?1:-1};T.compareMethods=function(a,b){return a==b?!0:T.isFunction(a)&&T.isFunction(b)?a.scope==b.scope&&a.method==b.method&&null!=a.method:!1};var w=function(){};h.Std=w;w.__name__=["Std"];w.is=function(a,b){return u.__instanceof(a,
b)};w.string=function(a){return u.__string_rec(a,"")};w["int"]=function(a){return a|0};w.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=M.cca(a,1)&&88!=M.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};w.parseFloat=function(a){return parseFloat(a)};var mc=function(){this.b=""};h.StringBuf=mc;mc.__name__=["StringBuf"];mc.prototype={add:function(a){this.b+=w.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+M.substr(a,b,null):this.b+M.substr(a,b,c)},__class__:mc};var da=function(){};h.StringTools=
da;da.__name__=["StringTools"];da.startsWith=function(a,b){return a.length>=b.length&&M.substr(a,0,b.length)==b};da.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&M.substr(a,d-c,c)==b};da.isSpace=function(a,b){var c=M.cca(a,b);return 8<c&&14>c||32==c};da.ltrim=function(a){for(var b=a.length,c=0;c<b&&da.isSpace(a,c);)c++;return 0<c?M.substr(a,c,b-c):a};da.rtrim=function(a){for(var b=a.length,c=0;c<b&&da.isSpace(a,b-c-1);)c++;return 0<c?M.substr(a,0,b-c):a};da.trim=function(a){return da.ltrim(da.rtrim(a))};
da.replace=function(a,b,c){return a.split(b).join(c)};da.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};da.fastCodeAt=function(a,b){return a.charCodeAt(b)};var Bb=function(){};h.Type=Bb;Bb.__name__=["Type"];Bb.getClass=function(a){return null==a?null:u.getClass(a)};Bb.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};Bb.resolveClass=function(a){a=h[a];return null!=a&&a.__name__?a:null};Bb.resolveEnum=
function(a){a=h[a];return null!=a&&a.__ename__?a:null};Bb.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw new m("Too many arguments");
}};var Ja={};h["_UInt.UInt_Impl_"]=Ja;Ja.__name__=["_UInt","UInt_Impl_"];Ja.gt=function(a,b){var c=0>a;return c!=0>b?c:a>b};Ja.gte=function(a,b){var c=0>a;return c!=0>b?c:a>=b};Ja.toFloat=function(a){return 0>a?4294967296+a:a+0};var K=function(a){this.nodeType=a;this.children=[];this.attributeMap=new ja};h.Xml=K;K.__name__=["Xml"];K.parse=function(a){return zc.parse(a)};K.createElement=function(a){var b=new K(K.Element);if(b.nodeType!=K.Element)throw new m("Bad node type, expected Element but found "+
b.nodeType);b.nodeName=a;return b};K.createPCData=function(a){var b=new K(K.PCData);if(b.nodeType==K.Document||b.nodeType==K.Element)throw new m("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};K.createCData=function(a){var b=new K(K.CData);if(b.nodeType==K.Document||b.nodeType==K.Element)throw new m("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};K.createComment=function(a){var b=new K(K.Comment);if(b.nodeType==K.Document||b.nodeType==K.Element)throw new m("Bad node type, unexpected "+
b.nodeType);b.nodeValue=a;return b};K.createDocType=function(a){var b=new K(K.DocType);if(b.nodeType==K.Document||b.nodeType==K.Element)throw new m("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};K.createProcessingInstruction=function(a){var b=new K(K.ProcessingInstruction);if(b.nodeType==K.Document||b.nodeType==K.Element)throw new m("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};K.createDocument=function(){return new K(K.Document)};K.prototype={get:function(a){if(this.nodeType!=
K.Element)throw new m("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.get(a)},set:function(a,b){if(this.nodeType!=K.Element)throw new m("Bad node type, expected Element but found "+this.nodeType);this.attributeMap.set(a,b)},exists:function(a){if(this.nodeType!=K.Element)throw new m("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.exists(a)},elementsNamed:function(a){if(this.nodeType!=K.Document&&this.nodeType!=K.Element)throw new m("Bad node type, expected Element or Document but found "+
this.nodeType);for(var b=[],c=0,d=this.children;c<d.length;){var e=d[c];++c;var f;if(f=e.nodeType==K.Element){f=void 0;if(e.nodeType!=K.Element)throw new m("Bad node type, expected Element but found "+e.nodeType);f=e.nodeName;f=f==a}f&&b.push(e)}return M.iter(b)},firstElement:function(){if(this.nodeType!=K.Document&&this.nodeType!=K.Element)throw new m("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==K.Element)return c}return null},
addChild:function(a){if(this.nodeType!=K.Document&&this.nodeType!=K.Element)throw new m("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=K.Document&&this.nodeType!=K.Element)throw new m("Bad node type, expected Element or Document but found "+this.nodeType);return M.remove(this.children,a)?(a.parent=null,!0):!1},__class__:K};var Dd=function(){};h["haxe.IMap"]=
Dd;Dd.__name__=["haxe","IMap"];Dd.prototype={__class__:Dd};var G=function(a,b){this.high=a;this.low=b};h["haxe._Int64.___Int64"]=G;G.__name__=["haxe","_Int64","___Int64"];G.prototype={__class__:G};var Na=function(){};h["haxe.Log"]=Na;Na.__name__=["haxe","Log"];Na.trace=function(a,b){u.__trace(a,b)};var bc=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};h["haxe.Timer"]=bc;bc.__name__=["haxe","Timer"];bc.delay=function(a,b){var c=new bc(b);c.run=function(){c.stop();a()};return c};
bc.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:bc};var Ob=function(){this.h={}};h["haxe.ds.IntMap"]=Ob;Ob.__name__=["haxe","ds","IntMap"];Ob.__interfaces__=[Dd];Ob.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b|0);return M.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a]}}},__class__:Ob};var Lc=function(){this.h={};this.h.__keys__={}};h["haxe.ds.ObjectMap"]=Lc;Lc.__name__=["haxe","ds","ObjectMap"];Lc.__interfaces__=[Dd];Lc.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Lc.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=
this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},__class__:Lc};var ue=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};h["haxe.ds._StringMap.StringMapIterator"]=ue;ue.__name__=["haxe","ds","_StringMap","StringMapIterator"];ue.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:ue};var ja=function(){this.h=
{}};h["haxe.ds.StringMap"]=ja;ja.__name__=["haxe","ds","StringMap"];ja.__interfaces__=[Dd];ja.prototype={set:function(a,b){null!=ec[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=ec[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=ec[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==
this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=ec[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){var a=this.arrayKeys();return M.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new ue(this,this.arrayKeys())},
__class__:ja};var sb=function(a){this.length=a.byteLength;this.b=new fc(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};h["haxe.io.Bytes"]=sb;sb.__name__=["haxe","io","Bytes"];sb.alloc=function(a){return new sb(new jg(a))};sb.ofData=function(a){var b=a.hxBytes;return null!=b?b:new sb(a)};sb.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},blit:function(a,b,c,d){if(0>a||0>c||0>d||a+d>this.length||c+d>b.length)throw new m(Hb.OutsideBounds);0==c&&d==b.length?this.b.set(b.b,
a):this.b.set(b.b.subarray(c,c+d),a)},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new m(Hb.OutsideBounds);for(var c="",d=this.b,e=String.fromCharCode,f=a,g=a+b;f<g;){var n=d[f++];if(128>n){if(0==n)break;c+=e(n)}else if(224>n)c+=e((n&63)<<6|d[f++]&127);else if(240>n)var v=d[f++],c=c+e((n&31)<<12|(v&127)<<6|d[f++]&127);else var v=d[f++],h=d[f++],n=(n&15)<<18|(v&127)<<12|(h&127)<<6|d[f++]&127,c=c+e((n>>10)+55232),c=c+e(n&1023|56320)}return c},__class__:sb};var kg=function(){};h["haxe.io.Eof"]=
kg;kg.__name__=["haxe","io","Eof"];kg.prototype={toString:function(){return"Eof"},__class__:kg};var Hb=h["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};Hb.Blocked=["Blocked",0];Hb.Blocked.toString=H;Hb.Blocked.__enum__=Hb;Hb.Overflow=["Overflow",1];Hb.Overflow.toString=H;Hb.Overflow.__enum__=Hb;Hb.OutsideBounds=["OutsideBounds",2];Hb.OutsideBounds.toString=H;Hb.OutsideBounds.__enum__=Hb;Hb.Custom=function(a){a=["Custom",3,a];a.__enum__=Hb;a.toString=
H;return a};var nc=function(){};h["haxe.io.FPHelper"]=nc;nc.__name__=["haxe","io","FPHelper"];nc.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};nc.floatToI32=function(a){if(0==a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1))&8388607;return(0>a?-2147483648:0)|c+127<<23|b};nc.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,
d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};nc.doubleToI64=function(a){var b=nc.i64tmp;if(0==a)b.low=0,b.high=0;else{var c;c=0>a?-a:a;var d=Math.floor(Math.log(c)/.6931471805599453);c=4503599627370496*(c/Math.pow(2,d)-1);c=Math.round(c);b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}return b};var Ac=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),
c=a.lastIndexOf("\\");b<c?(this.dir=M.substr(a,0,c),a=M.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=M.substr(a,0,b),a=M.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=M.substr(a,b+1,null),this.file=M.substr(a,0,b)):(this.ext=null,this.file=a)};h["haxe.io.Path"]=Ac;Ac.__name__=["haxe","io","Path"];Ac.withoutExtension=function(a){a=new Ac(a);a.ext=null;return a.toString()};Ac.extension=function(a){a=new Ac(a);return null==a.ext?"":a.ext};Ac.prototype={toString:function(){return(null==
this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:Ac};var zc=function(){};h["haxe.xml.Parser"]=zc;zc.__name__=["haxe","xml","Parser"];zc.parse=function(a,b){null==b&&(b=!1);var c=K.createDocument();zc.doParse(a,b,0,c);return c};zc.doParse=function(a,b,c,d){null==c&&(c=0);for(var e=null,f=1,g=1,n=null,v=0,h=0,k=0,x=a.charCodeAt(c),q=new mc,l=1,p=-1;x==x;){switch(f){case 0:switch(x){case 10:case 13:case 9:case 32:break;default:f=g;continue}break;case 1:switch(x){case 60:f=
0;g=2;break;default:v=c;f=13;continue}break;case 13:60==x?(q.addSub(a,v,c-v),g=K.createPCData(q.b),q=new mc,d.addChild(g),h++,f=0,g=2):38==x&&(q.addSub(a,v,c-v),f=18,l=13,v=c+1);break;case 17:93==x&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(x=K.createCData(M.substr(a,v,c-v)),d.addChild(x),h++,c+=2,f=1);break;case 2:switch(x){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=M.substr(a,c,6).toUpperCase())throw new m("Expected <![CDATA[");c+=5;f=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+
1)){if("OCTYPE"!=M.substr(a,c+2,6).toUpperCase())throw new m("Expected <!DOCTYPE");c+=8;f=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new m("Expected \x3c!--");c+=2;f=15}v=c+1;break;case 63:f=14;v=c;break;case 47:if(null==d)throw new m("Expected node name");v=c+1;f=0;g=10;break;default:f=3;v=c;continue}break;case 3:if(!(97<=x&&122>=x||65<=x&&90>=x||48<=x&&57>=x||58==x||46==x||95==x||45==x)){if(c==v)throw new m("Expected node name");e=K.createElement(M.substr(a,v,c-v));d.addChild(e);
h++;f=0;g=4;continue}break;case 4:switch(x){case 47:f=11;break;case 62:f=9;break;default:f=5;v=c;continue}break;case 5:if(!(97<=x&&122>=x||65<=x&&90>=x||48<=x&&57>=x||58==x||46==x||95==x||45==x)){if(v==c)throw new m("Expected attribute name");n=M.substr(a,v,c-v);if(e.exists(n))throw new m("Duplicate attribute");f=0;g=6;continue}break;case 6:switch(x){case 61:f=0;g=7;break;default:throw new m("Expected =");}break;case 7:switch(x){case 34:case 39:q=new mc;f=8;v=c+1;p=x;break;default:throw new m('Expected "');
}break;case 8:switch(x){case 38:q.addSub(a,v,c-v);f=18;l=8;v=c+1;break;case 62:if(b)throw new m("Invalid unescaped "+String.fromCharCode(x)+" in attribute value");x==p&&(q.addSub(a,v,c-v),g=q.b,q=new mc,e.set(n,g),f=0,g=4);break;case 60:if(b)throw new m("Invalid unescaped "+String.fromCharCode(x)+" in attribute value");x==p&&(q.addSub(a,v,c-v),g=q.b,q=new mc,e.set(n,g),f=0,g=4);break;default:x==p&&(q.addSub(a,v,c-v),g=q.b,q=new mc,e.set(n,g),f=0,g=4)}break;case 9:v=c=zc.doParse(a,b,c,e);f=1;break;
case 11:switch(x){case 62:f=1;break;default:throw new m("Expected >");}break;case 12:switch(x){case 62:return 0==h&&d.addChild(K.createPCData("")),c;default:throw new m("Expected >");}case 10:if(!(97<=x&&122>=x||65<=x&&90>=x||48<=x&&57>=x||58==x||46==x||95==x||45==x)){if(v==c)throw new m("Expected node name");g=M.substr(a,v,c-v);if(d.nodeType!=K.Element)throw new m("Bad node type, expected Element but found "+d.nodeType);if(g!=d.nodeName){c=m;if(d.nodeType!=K.Element)throw"Bad node type, expected Element but found "+
d.nodeType;throw new c("Expected </"+d.nodeName+">");}f=0;g=12;continue}break;case 15:45==x&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(x=K.createComment(M.substr(a,v,c-v)),d.addChild(x),h++,c+=2,f=1);break;case 16:91==x?k++:93==x?k--:62==x&&0==k&&(x=K.createDocType(M.substr(a,v,c-v)),d.addChild(x),h++,f=1);break;case 14:63==x&&62==a.charCodeAt(c+1)&&(c++,x=M.substr(a,v+1,c-v-2),x=K.createProcessingInstruction(x),d.addChild(x),h++,f=1);break;case 18:if(59==x){v=M.substr(a,v,c-v);if(35==v.charCodeAt(0))v=
120==v.charCodeAt(1)?w.parseInt("0"+M.substr(v,1,v.length-1)):w.parseInt(M.substr(v,1,v.length-1)),q.b+=String.fromCharCode(v);else if(zc.escapes.exists(v))q.add(zc.escapes.get(v));else{if(b)throw new m("Undefined entity: "+v);q.b+=w.string("&"+v+";")}v=c+1;f=l}else if(!(97<=x&&122>=x||65<=x&&90>=x||48<=x&&57>=x||58==x||46==x||95==x||45==x)&&35!=x){if(b)throw new m("Invalid character in entity: "+String.fromCharCode(x));q.b+="&";q.addSub(a,v,c-v);c--;v=c+1;f=l}}x=da.fastCodeAt(a,++c)}1==f&&(v=c,f=
13);if(13==f){if(c!=v||0==h)q.addSub(a,v,c-v),a=K.createPCData(q.b),d.addChild(a);return c}if(!b&&18==f&&13==l)return q.b+="&",q.addSub(a,v,c-v),a=K.createPCData(q.b),d.addChild(a),c;throw new m("Unexpected end");};var m=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,m)};h["js._Boot.HaxeError"]=m;m.__name__=["js","_Boot","HaxeError"];m.__super__=Error;m.prototype=r(Error.prototype,{__class__:m});var u=function(){};h["js.Boot"]=
u;u.__name__=["js","Boot"];u.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};u.__trace=function(a,b){var c;c=null!=b?b.fileName+":"+b.lineNumber+": ":"";c+=u.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var d=0,e=b.customParams;d<e.length;){var f=e[d];++d;c+=","+u.__string_rec(f,"")}var g;"undefined"!=typeof document&&null!=(g=document.getElementById("haxe:trace"))?g.innerHTML+=u.__unhtml(c)+"<br/>":"undefined"!=typeof Tc&&null!=Tc.log&&
Tc.log(c)};u.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=u.__nativeClassName(a);return null!=a?u.__resolveNativeClass(a):null};u.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=f?
c+(","+u.__string_rec(a[f],b)):c+u.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+u.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(g){return g instanceof m&&(g=g.val),"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==
c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+u.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};u.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||u.__interfLoop(f,b))return!0}return u.__interfLoop(a.__super__,b)};u.__instanceof=function(a,b){if(null==b)return!1;switch(b){case lg:return(a|0)===a;case Rg:return"number"==
typeof a;case Sg:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case hh:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||u.__interfLoop(u.getClass(a),b))return!0}else{if("object"==typeof b&&u.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==ih&&null!=a.__name__||b==jh&&null!=a.__ename__?!0:a.__enum__==b}};u.__cast=function(a,b){if(u.__instanceof(a,b))return a;throw new m("Cannot cast "+w.string(a)+
" to "+w.string(b));};u.__nativeClassName=function(a){a=u.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};u.__isNativeObj=function(a){return null!=u.__nativeClassName(a)};u.__resolveNativeClass=function(a){return Pg[a]};var mg=function(){};h["js.html._CanvasElement.CanvasUtil"]=mg;mg.__name__=["js","html","_CanvasElement","CanvasUtil"];mg.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var e=d[c];++c;e=a.getContext(e,
b);if(null!=e)return e}return null};var oc=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};h["js.html.compat.ArrayBuffer"]=oc;oc.__name__=["js","html","compat","ArrayBuffer"];oc.sliceImpl=function(a,b){var c=new fc(this,a,null==b?null:b-a),d=new jg(c.byteLength);(new fc(d)).set(c);return d};oc.prototype={slice:function(a,b){return new oc(this.a.slice(a,b))},__class__:oc};var ng=function(a,
b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new m(Hb.OutsideBounds);};h["js.html.compat.DataView"]=ng;ng.__name__=["js","html","compat","DataView"];ng.prototype={getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,
b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],e=this.buf.a[c++],f=this.buf.a[c++],c=this.buf.a[c++];return b?d|e<<8|f<<16|c<<24:c|f<<8|e<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return nc.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+
4,b);return nc.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,
this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,nc.floatToI32(b),c)},setFloat64:function(a,b,c){b=nc.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:ng};var Bc=function(){};h["js.html.compat.Uint8Array"]=Bc;Bc.__name__=["js","html","compat","Uint8Array"];Bc._new=function(a,
b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new oc(c)}else if(u.__instanceof(a,oc))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new oc(c);else throw new m("TODO "+w.string(a));c.subarray=Bc._subarray;c.set=Bc._set;return c};Bc._set=function(a,b){if(u.__instanceof(a.buffer,
oc)){if(a.byteLength+b>this.byteLength)throw new m("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new m("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new m("TODO");};Bc._subarray=function(a,b){var c=Bc._new(this.slice(a,b));c.byteOffset=a;return c};var tf=function(){this.enabled=!0;this.audio=new ja;this.font=new ja;this.image=new ja;this.version=
980365};h["lime.AssetCache"]=tf;tf.__name__=["lime","AssetCache"];tf.prototype={clear:function(a){if(null==a)this.audio=new ja,this.font=new ja,this.image=new ja;else{for(var b=this.audio.keys();b.hasNext();){var c=b.next();da.startsWith(c,a)&&this.audio.remove(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),da.startsWith(c,a)&&this.font.remove(c);for(b=this.image.keys();b.hasNext();)c=b.next(),da.startsWith(c,a)&&this.image.remove(c)}},__class__:tf};var gb=function(){this.canceled=!1;this.__listeners=
[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Void_Void"]=gb;gb.__name__=["lime","app","_Event_Void_Void"];gb.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(){this.canceled=!1;for(var a=this.__listeners,b=this.__repeat,c=0;c<a.length&&(a[c](),b[c]?c++:this.remove(a[c]),!this.canceled););},__class__:gb};var Y=function(){};h["lime.Assets"]=Y;Y.__name__=["lime","Assets"];Y.getAudioBuffer=function(a,b){null==b&&(b=!0);Y.initialize();if(b&&Y.cache.enabled&&Y.cache.audio.exists(a)){var c=Y.cache.audio.get(a);if(Y.isValidAudio(c))return c}var c=a.substring(0,
a.indexOf(":")),d;d=a.indexOf(":")+1;d=M.substr(a,d,null);var e=Y.getLibrary(c);if(null!=e)if(e.exists(d,"SOUND")){if(e.isLocal(d,"SOUND"))return c=e.getAudioBuffer(d),b&&Y.cache.enabled&&Y.cache.audio.set(a,c),c;Wb.info('Audio asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:125,className:"lime.Assets",methodName:"getAudioBuffer"})}else Wb.info('There is no audio asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:131,className:"lime.Assets",methodName:"getAudioBuffer"});
else Wb.info('There is no asset library named "'+c+'"',{fileName:"Assets.hx",lineNumber:137,className:"lime.Assets",methodName:"getAudioBuffer"});return null};Y.getImage=function(a,b){null==b&&(b=!0);Y.initialize();if(b&&Y.cache.enabled&&Y.cache.image.exists(a)){var c=Y.cache.image.get(a);if(Y.isValidImage(c))return c}var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=M.substr(a,d,null);var e=Y.getLibrary(c);if(null!=e)if(e.exists(d,"IMAGE")){if(e.isLocal(d,"IMAGE"))return c=e.getImage(d),
b&&Y.cache.enabled&&Y.cache.image.set(a,c),c;Wb.info('Image asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:307,className:"lime.Assets",methodName:"getImage"})}else Wb.info('There is no Image asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:313,className:"lime.Assets",methodName:"getImage"});else Wb.info('There is no asset library named "'+c+'"',{fileName:"Assets.hx",lineNumber:319,className:"lime.Assets",methodName:"getImage"});return null};Y.getLibrary=
function(a){if(null==a||""==a)a="default";return Y.libraries.get(a)};Y.getText=function(a){Y.initialize();var b=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=M.substr(a,c,null);var d=Y.getLibrary(b);if(null!=d)if(d.exists(c,"TEXT")){if(d.isLocal(c,"TEXT"))return d.getText(c);Wb.info('String asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:410,className:"lime.Assets",methodName:"getText"})}else Wb.info('There is no String asset with an ID of "'+a+'"',{fileName:"Assets.hx",
lineNumber:416,className:"lime.Assets",methodName:"getText"});else Wb.info('There is no asset library named "'+b+'"',{fileName:"Assets.hx",lineNumber:422,className:"lime.Assets",methodName:"getText"});return null};Y.initialize=function(){Y.initialized||(Y.registerLibrary("default",new fe),Y.initialized=!0)};Y.isValidAudio=function(a){return null!=a};Y.isValidImage=function(a){return!0};Y.registerLibrary=function(a,b){if(Y.libraries.exists(a)){if(Y.libraries.get(a)==b)return;Y.unloadLibrary(a)}null!=
b&&b.onChange.add(Y.library_onChange);Y.libraries.set(a,b)};Y.unloadLibrary=function(a){Y.initialize();var b=Y.libraries.get(a);null!=b&&(Y.cache.clear(a+":"),b.onChange.remove(Y.library_onChange),b.unload());Y.libraries.remove(a)};Y.library_onChange=function(){Y.cache.clear();Y.onChange.dispatch()};var uf=function(a){this.gameDeviceCache=new Ob;this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;Yc.init()};h["lime._backend.html5.HTML5Application"]=uf;uf.__name__=
["lime","_backend","html5","HTML5Application"];uf.prototype={convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;switch(a){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 96:return 1073741922;
case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073741923;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;
case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 144:return 1073741907;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return a},
create:function(a){},exec:function(){window.addEventListener("keydown",l(this,this.handleKeyEvent),!1);window.addEventListener("keyup",l(this,this.handleKeyEvent),!1);window.addEventListener("focus",l(this,this.handleWindowEvent),!1);window.addEventListener("blur",l(this,this.handleWindowEvent),!1);window.addEventListener("resize",l(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",l(this,this.handleWindowEvent),!1);CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=
function(a,b,c){return!1});for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var f=(new Date).getTime(),g=Math.max(0,16-(f-a)),n=window.setTimeout(function(){b(f+g)},g);a=f+g;return n});window.cancelAnimationFrame||
(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();return 0},exit:function(){},getFrameRate:function(){return 0>this.framePeriod?60:1E3==this.framePeriod?0:1E3/this.framePeriod},handleApplicationEvent:function(a){this.updateGameDevices();this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(this.deltaTime|
0),null!=this.parent.__renderers[0]&&(this.parent.__renderers[0].onRender.dispatch(),this.parent.__renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(l(this,this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.__windows[0]){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),c;c=(a.shiftKey?3:0)|(a.ctrlKey?192:0)|(a.altKey?
768:0)|(a.metaKey?3072:0);"keydown"==a.type?(this.parent.__windows[0].onKeyDown.dispatch(b,c),this.parent.__windows[0].onKeyDown.canceled&&a.preventDefault()):(this.parent.__windows[0].onKeyUp.dispatch(b,c),this.parent.__windows[0].onKeyUp.canceled&&a.preventDefault())}},handleWindowEvent:function(a){if(null!=this.parent.__windows[0])switch(a.type){case "focus":this.parent.__windows[0].onFocusIn.dispatch();this.parent.__windows[0].onActivate.dispatch();break;case "blur":this.parent.__windows[0].onFocusOut.dispatch();
this.parent.__windows[0].onDeactivate.dispatch();break;case "resize":a=this.parent.__windows[0].__width;var b=this.parent.__windows[0].__height;this.parent.__windows[0].backend.handleResize();this.parent.__windows[0].__width==a&&this.parent.__windows[0].__height==b||this.parent.__windows[0].onResize.dispatch(this.parent.__windows[0].__width,this.parent.__windows[0].__height);break;case "beforeunload":this.parent.__windows[0].onClose.dispatch()}},setFrameRate:function(a){this.framePeriod=60<=a?-1:
0<a?1E3/a:1E3;return a},updateGameDevices:function(){var a=db.__getDeviceData();if(null!=a)for(var b,c,d,e,f,g=0,n=a.length;g<n;)if(b=g++,e=a[b],null!=e){if(!this.gameDeviceCache.h.hasOwnProperty(b)){f=new vf;f.id=b;f.connected=e.connected;c=0;for(d=e.buttons.length;c<d;){var v=c++;f.buttons.push(e.buttons[v].value)}c=0;for(d=e.axes.length;c<d;)v=c++,f.axes.push(e.axes[v]);"standard"==e.mapping&&(f.isGamepad=!0);this.gameDeviceCache.h[b]=f;e.connected&&(db.__connect(b),f.isGamepad&&jb.__connect(b))}f=
this.gameDeviceCache.h[b];d=db.devices.h[b];c=jb.devices.h[b];if(e.connected){for(var h=0,k=e.buttons.length;h<k;){var x=h++,v=e.buttons[x].value;if(v!=f.buttons[x]){if(6==x)d.onAxisMove.dispatch(e.axes.length,v),null!=c&&c.onAxisMove.dispatch(4,v);else if(7==x)d.onAxisMove.dispatch(e.axes.length+1,v),null!=c&&c.onAxisMove.dispatch(5,v);else if(0<v?d.onButtonDown.dispatch(x):d.onButtonUp.dispatch(x),null!=c){switch(x){case 0:b=0;break;case 1:b=1;break;case 2:b=2;break;case 3:b=3;break;case 4:b=9;
break;case 5:b=10;break;case 8:b=4;break;case 9:b=6;break;case 10:b=7;break;case 11:b=8;break;case 12:b=11;break;case 13:b=12;break;case 14:b=13;break;case 15:b=14;break;case 16:b=5;break;default:continue}0<v?c.onButtonDown.dispatch(b):c.onButtonUp.dispatch(b)}f.buttons[x]=v}}b=0;for(v=e.axes.length;b<v;)h=b++,e.axes[h]!=f.axes[h]&&(d.onAxisMove.dispatch(h,e.axes[h]),null!=c&&c.onAxisMove.dispatch(h,e.axes[h]),f.axes[h]=e.axes[h])}else f.connected&&(f.connected=!1,db.__disconnect(b),jb.__disconnect(b))}},
__class__:uf};var vf=function(){this.connected=!0;this.buttons=[];this.axes=[]};h["lime._backend.html5.GameDeviceData"]=vf;vf.__name__=["lime","_backend","html5","GameDeviceData"];vf.prototype={__class__:vf};var xf=function(a){this.parent=a;this.position=new wf};h["lime._backend.html5.HTML5AudioSource"]=xf;xf.__name__=["lime","_backend","html5","HTML5AudioSource"];xf.prototype={dispose:function(){},init:function(){},play:function(){if(!this.playing&&null!=this.parent.buffer){this.playing=!0;var a=
this.getCurrentTime();this.completed=!1;this.id=this.parent.buffer.__srcHowl.play();this.parent.buffer.__srcHowl.on("end",l(this,this.howl_onEnd),this.id);this.setCurrentTime(a)}},stop:function(){this.playing=!1;this.parent.buffer.__srcHowl.stop(this.id)},howl_onEnd:function(){this.playing=!1;0<this.loops?(this.loops--,this.stop(),this.play()):(this.parent.buffer.__srcHowl.stop(this.id),this.completed=!0,this.parent.onComplete.dispatch())},getCurrentTime:function(){if(this.completed)return this.getLength();
var a=w["int"](1E3*this.parent.buffer.__srcHowl.seek(this.id))-this.parent.offset;return 0>a?0:a},setCurrentTime:function(a){null!=this.parent.buffer&&this.parent.buffer.__srcHowl.seek((a+this.parent.offset)/1E3,this.id);return a},setGain:function(a){null!=this.parent.buffer&&this.parent.buffer.__srcHowl.volume(a,this.id);return a},getLength:function(){return 0!=this.length?this.length:w["int"](1E3*this.parent.buffer.__srcHowl.duration())},setLength:function(a){return this.length=a},setLoops:function(a){return this.loops=
a},getPosition:function(){return this.position},setPosition:function(a){this.position.x=a.x;this.position.y=a.y;this.position.z=a.z;this.position.w=a.w;return this.position},__class__:xf};var Zc=function(){};h["lime._backend.html5.HTML5Mouse"]=Zc;Zc.__name__=["lime","_backend","html5","HTML5Mouse"];Zc.set_cursor=function(a){if(Zc.__cursor!=a){if(!Zc.__hidden)for(var b=0,c=Pb.current.__windows;b<c.length;){var d=c[b];++b;switch(a[1]){case 0:d.backend.element.style.cursor="default";break;case 1:d.backend.element.style.cursor=
"crosshair";break;case 3:d.backend.element.style.cursor="move";break;case 4:d.backend.element.style.cursor="pointer";break;case 5:d.backend.element.style.cursor="nesw-resize";break;case 6:d.backend.element.style.cursor="ns-resize";break;case 7:d.backend.element.style.cursor="nwse-resize";break;case 8:d.backend.element.style.cursor="ew-resize";break;case 9:d.backend.element.style.cursor="text";break;case 10:d.backend.element.style.cursor="wait";break;case 11:d.backend.element.style.cursor="wait";break;
default:d.backend.element.style.cursor="auto"}}Zc.__cursor=a}return Zc.__cursor};var yf=function(a){this.parent=a};h["lime._backend.html5.HTML5Renderer"]=yf;yf.__name__=["lime","_backend","html5","HTML5Renderer"];yf.prototype={create:function(){this.createContext();switch(this.parent.context[1]){case 0:this.parent.window.backend.canvas.addEventListener("webglcontextlost",l(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",l(this,this.handleEvent),
!1)}},createContext:function(){if(null!=this.parent.window.backend.div)this.parent.context=tb.DOM(this.parent.window.backend.div),this.parent.type=Ga.DOM;else if(null!=this.parent.window.backend.canvas){var a=null;if(!Object.prototype.hasOwnProperty.call(this.parent.window.config,"hardware")||this.parent.window.config.hardware)a={alpha:Object.prototype.hasOwnProperty.call(this.parent.window.config,"background")&&null==this.parent.window.config.background?!0:!1,antialias:Object.prototype.hasOwnProperty.call(this.parent.window.config,
"antialiasing")?0<this.parent.window.config.antialiasing:!1,depth:Object.prototype.hasOwnProperty.call(this.parent.window.config,"depthBuffer")?this.parent.window.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(this.parent.window.config,"stencilBuffer")?this.parent.window.config.stencilBuffer:!1,preserveDrawingBuffer:!1},a=mg.getContextWebGL(this.parent.window.backend.canvas,a);null==a?(this.parent.context=tb.CANVAS(this.parent.window.backend.canvas.getContext("2d")),
this.parent.type=Ga.CANVAS):(p.context=a,this.parent.context=tb.OPENGL(p.context),this.parent.type=Ga.OPENGL)}},flip:function(){},handleEvent:function(a){switch(a.type){case "webglcontextlost":a.preventDefault();this.parent.context=null;this.parent.onContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},__class__:yf};var na=function(a){this.unusedTouchesPool=new yc;this.currentTouches=new Ob;this.parent=a;null!=
a.config&&Object.prototype.hasOwnProperty.call(a.config,"element")&&(this.element=a.config.element);this.cacheMouseY=this.cacheMouseX=0};h["lime._backend.html5.HTML5Window"]=na;na.__name__=["lime","_backend","html5","HTML5Window"];na.prototype={close:function(){this.parent.application.removeWindow(this.parent)},create:function(a){this.setWidth=this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=na.windowID++;u.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:
this.canvas=window.document.createElement("canvas");null!=this.canvas?(a=this.canvas.style,a.setProperty("-webkit-transform","translateZ(0)",null),a.setProperty("transform","translateZ(0)",null)):null!=this.div&&(a=this.div.style,a.setProperty("-webkit-transform","translate3D(0,0,0)",null),a.setProperty("transform","translate3D(0,0,0)",null),a.position="relative",a.overflow="hidden",a.setProperty("-webkit-user-select","none",null),a.setProperty("-moz-user-select","none",null),a.setProperty("-ms-user-select",
"none",null),a.setProperty("-o-user-select","none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.parent.set_fullscreen(!0));null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=
this.parent.__height+"px");this.handleResize();if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);a="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var b=0;b<a.length;){var c=a[b];++b;this.element.addEventListener(c,l(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(a){return"img"==a.target.nodeName.toLowerCase()?(a.preventDefault(),!1):!0},!1);this.element.addEventListener("touchstart",
l(this,this.handleTouchEvent),!0);this.element.addEventListener("touchmove",l(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",l(this,this.handleTouchEvent),!0);this.element.addEventListener("gamepadconnected",l(this,this.handleGamepadEvent),!0);this.element.addEventListener("gamepaddisconnected",l(this,this.handleGamepadEvent),!0)}},handleFocusEvent:function(a){this.enableTextEvents&&bc.delay(function(){na.textInput.focus()},20)},handleGamepadEvent:function(a){switch(a.type){case "gamepadconnected":db.__connect(a.gamepad.index);
"standard"==a.gamepad.mapping&&jb.__connect(a.gamepad.index);break;case "gamepaddisconnected":db.__disconnect(a.gamepad.index),jb.__disconnect(a.gamepad.index)}},handleInputEvent:function(a){""!=na.textInput.value&&(this.parent.onTextInput.dispatch(na.textInput.value),na.textInput.value="")},handleMouseEvent:function(a){var b=0,c=0;if("wheel"!=a.type){null!=this.element?null!=this.canvas?(c=this.canvas.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/
c.height*(a.clientY-c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),b=a.clientX-c.left,c=a.clientY-c.top):(c=this.element.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):(b=a.clientX,c=a.clientY);switch(a.type){case "mousedown":this.parent.onMouseDown.dispatch(b,c,a.button);break;case "mouseenter":this.parent.onEnter.dispatch();break;case "mouseleave":this.parent.onLeave.dispatch();break;case "mouseup":this.parent.onMouseUp.dispatch(b,
c,a.button);break;case "mousemove":if(b!=this.cacheMouseX||c!=this.cacheMouseY)this.parent.onMouseMove.dispatch(b,c),this.parent.onMouseMoveRelative.dispatch(b-this.cacheMouseX,c-this.cacheMouseY)}this.cacheMouseX=b;this.cacheMouseY=c}else this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY)},handleResize:function(){this.primaryTouch=null;var a=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&a))if(a){if(this.parent.__width!=this.element.clientWidth||
this.parent.__height!=this.element.clientHeight)this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=this.element.clientWidth,this.canvas.height=this.element.clientHeight):(this.div.style.width=this.element.clientWidth+"px",this.div.style.height=this.element.clientHeight+"px")}else{var a=0!=this.setWidth?this.element.clientWidth/this.setWidth:1,b;b=0!=this.setHeight?this.element.clientHeight/
this.setHeight:1;var c=this.element.clientWidth,d=this.element.clientHeight,e=0,f=0;a<b?(d=Math.floor(this.setHeight*a),f=Math.floor((this.element.clientHeight-d)/2)):(c=Math.floor(this.setWidth*b),e=Math.floor((this.element.clientWidth-c)/2));null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=c+"px",this.canvas.style.height=d+"px",this.canvas.style.marginLeft=e+"px",this.canvas.style.marginTop=f+"px"):(this.div.style.width=c+"px",this.div.style.height=d+"px",this.div.style.marginLeft=
e+"px",this.div.style.marginTop=f+"px")}},handleTouchEvent:function(a){a.preventDefault();var b=null;null!=this.element&&(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());var c=this.setWidth,d=this.setHeight;if(0==c||0==d)null!=b?(c=b.width,d=b.height):d=c=1;for(var e=0,f=a.changedTouches;e<f.length;){var g=f[e];++e;var n=0,v=0;null!=b?(n=c/b.width*(g.clientX-b.left),v=d/b.height*(g.clientY-b.top)):(n=g.clientX,
v=g.clientY);switch(a.type){case "touchstart":var h=this.unusedTouchesPool.pop();null==h?h=new Ib(n/c,v/d,g.identifier,0,0,g.force,this.parent.id):(h.x=n/c,h.y=v/d,h.id=g.identifier,h.dx=0,h.dy=0,h.pressure=g.force,h.device=this.parent.id);this.currentTouches.h[g.identifier]=h;Ib.onStart.dispatch(h);null==this.primaryTouch&&(this.primaryTouch=h);h==this.primaryTouch&&this.parent.onMouseDown.dispatch(n,v,0);break;case "touchend":h=this.currentTouches.h[g.identifier];if(null!=h){var k=h.x,x=h.y;h.x=
n/c;h.y=v/d;h.dx=h.x-k;h.dy=h.y-x;h.pressure=g.force;Ib.onEnd.dispatch(h);this.currentTouches.remove(g.identifier);this.unusedTouchesPool.add(h);h==this.primaryTouch&&(this.parent.onMouseUp.dispatch(n,v,0),this.primaryTouch=null)}break;case "touchmove":h=this.currentTouches.h[g.identifier],null!=h&&(k=h.x,x=h.y,h.x=n/c,h.y=v/d,h.dx=h.x-k,h.dy=h.y-x,h.pressure=g.force,Ib.onMove.dispatch(h),h==this.primaryTouch&&this.parent.onMouseMove.dispatch(n,v))}}},resize:function(a,b){},setEnableTextEvents:function(a){a?
(null==na.textInput&&(na.textInput=window.document.createElement("input"),na.textInput.type="text",na.textInput.style.position="absolute",na.textInput.style.opacity="0",na.textInput.style.color="transparent",na.textInput.value="",na.textInput.autocapitalize="off",na.textInput.autocorrect="off",na.textInput.autocomplete="off",na.textInput.style.left="0px",na.textInput.style.top="50%",(new wa("(iPad|iPhone|iPod).*OS 8_","gi")).match(window.navigator.userAgent)?(na.textInput.style.fontSize="0px",na.textInput.style.width=
"0px",na.textInput.style.height="0px"):(na.textInput.style.width="1px",na.textInput.style.height="1px"),na.textInput.style.pointerEvents="none",na.textInput.style.zIndex="-10000000",window.document.body.appendChild(na.textInput)),this.enableTextEvents||(na.textInput.addEventListener("input",l(this,this.handleInputEvent),!0),na.textInput.addEventListener("blur",l(this,this.handleFocusEvent),!0)),na.textInput.focus()):null!=na.textInput&&(na.textInput.removeEventListener("input",l(this,this.handleInputEvent),
!0),na.textInput.removeEventListener("blur",l(this,this.handleFocusEvent),!0),na.textInput.blur());return this.enableTextEvents=a},setFullscreen:function(a){return!1},__class__:na};var ve=function(){};h["lime.app.IModule"]=ve;ve.__name__=["lime","app","IModule"];ve.prototype={__class__:ve};var uc=function(){this.onExit=new $c;this.__renderers=[];this.__windows=[]};h["lime.app.Module"]=uc;uc.__name__=["lime","app","Module"];uc.__interfaces__=[ve];uc.prototype={addRenderer:function(a){a.onRender.add(function(a,
c){return function(){a(c)}}(l(this,this.render),a));a.onContextLost.add(function(a,c){return function(){a(c)}}(l(this,this.onRenderContextLost),a));a.onContextRestored.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onRenderContextRestored),a));this.__renderers.push(a)},addWindow:function(a){a.onActivate.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowActivate),a));a.onClose.add(function(a,c){return function(){a(c)}}(l(this,this.__onWindowClose),a));a.onCreate.add(function(a,
c){return function(){a(c)}}(l(this,this.onWindowCreate),a));a.onDeactivate.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowDeactivate),a));a.onDropFile.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onWindowDropFile),a));a.onEnter.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowEnter),a));a.onFocusIn.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowFocusIn),a));a.onFocusOut.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowFocusOut),
a));a.onFullscreen.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowFullscreen),a));a.onKeyDown.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onKeyDown),a));a.onKeyUp.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onKeyUp),a));a.onLeave.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowLeave),a));a.onMinimize.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowMinimize),a));a.onMouseDown.add(function(a,c){return function(d,e,f){a(c,
d,e,f)}}(l(this,this.onMouseDown),a));a.onMouseMove.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onMouseMove),a));a.onMouseMoveRelative.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onMouseMoveRelative),a));a.onMouseUp.add(function(a,c){return function(d,e,f){a(c,d,e,f)}}(l(this,this.onMouseUp),a));a.onMouseWheel.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onMouseWheel),a));a.onMove.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onWindowMove),
a));a.onResize.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onWindowResize),a));a.onRestore.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowRestore),a));a.onTextEdit.add(function(a,c){return function(d,e,f){a(c,d,e,f)}}(l(this,this.onTextEdit),a));a.onTextInput.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onTextInput),a));if(-1<a.id)this.onWindowCreate(a);this.__windows.push(a)},registerModule:function(a){this.__application=a;a.onExit.add(l(this,this.onModuleExit),
!1,0);a.onUpdate.add(l(this,this.update));for(a=jb.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}jb.onConnect.add(l(this,this.__onGamepadConnect));for(a=db.devices.iterator();a.hasNext();)b=a.next(),this.__onJoystickConnect(b);db.onConnect.add(l(this,this.__onJoystickConnect));Ib.onStart.add(l(this,this.onTouchStart));Ib.onMove.add(l(this,this.onTouchMove));Ib.onEnd.add(l(this,this.onTouchEnd))},removeRenderer:function(a){null!=a&&-1<M.indexOf(this.__renderers,a,0)&&M.remove(this.__renderers,
a)},setPreloader:function(a){null!=this.__preloader&&(this.__preloader.onProgress.remove(l(this,this.onPreloadProgress)),this.__preloader.onComplete.remove(l(this,this.onPreloadComplete)));this.__preloader=a;if(null==a||a.complete)this.onPreloadComplete();else a.onProgress.add(l(this,this.onPreloadProgress)),a.onComplete.add(l(this,this.onPreloadComplete))},onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){},onGamepadDisconnect:function(a){},
onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){},onKeyUp:function(a,b,c){},onModuleExit:function(a){},onMouseDown:function(a,b,c,d){},onMouseMove:function(a,b,c){},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},
onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},onWindowActivate:function(a){},onWindowClose:function(a){},onWindowCreate:function(a){},onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){},onWindowFocusOut:function(a){},onWindowFullscreen:function(a){},
onWindowLeave:function(a){},onWindowMove:function(a,b,c){},onWindowMinimize:function(a){},onWindowResize:function(a,b,c){},onWindowRestore:function(a){},render:function(a){},update:function(a){},__onGamepadConnect:function(a){this.onGamepadConnect(a);a.onAxisMove.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onGamepadAxisMove),a));a.onButtonDown.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onGamepadButtonDown),a));a.onButtonUp.add(function(a,c){return function(d){a(c,
d)}}(l(this,this.onGamepadButtonUp),a));a.onDisconnect.add(function(a,c){return function(){a(c)}}(l(this,this.onGamepadDisconnect),a))},__onJoystickConnect:function(a){this.onJoystickConnect(a);a.onAxisMove.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onJoystickAxisMove),a));a.onButtonDown.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onJoystickButtonDown),a));a.onButtonUp.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onJoystickButtonUp),a));a.onDisconnect.add(function(a,
c){return function(){a(c)}}(l(this,this.onJoystickDisconnect),a));a.onHatMove.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onJoystickHatMove),a));a.onTrackballMove.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onJoystickTrackballMove),a))},__onWindowClose:function(a){this.onWindowClose(a);M.remove(this.__windows,a)},__class__:uc};var Pb=function(){this.onUpdate=new $c;uc.call(this);null==Pb.current&&(Pb.current=this);this.modules=[];this.windowByID=new Ob;this.backend=
new uf(this);this.registerModule(this)};h["lime.app.Application"]=Pb;Pb.__name__=["lime","app","Application"];Pb.__super__=uc;Pb.prototype=r(uc.prototype,{addModule:function(a){a.registerModule(this);this.modules.push(a);if(0<this.__renderers.length)for(var b=0,c=this.__renderers;b<c.length;){var d=c[b];++b;a.addRenderer(d)}if(0<this.__windows.length)for(b=0,c=this.__windows;b<c.length;)d=c[b],++b,a.addWindow(d);a.setPreloader(this.__preloader)},addRenderer:function(a){uc.prototype.addRenderer.call(this,
a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.addRenderer(a)}},createWindow:function(a){uc.prototype.addWindow.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.addWindow(a)}null==a.renderer&&(b=new zf(a),this.addRenderer(b));a.create(this);this.windowByID.h[a.id]=a;a.onCreate.dispatch()},exec:function(){Pb.current=this;return this.backend.exec()},onModuleExit:function(a){this.backend.exit()},onWindowClose:function(a){this.removeWindow(a)},removeWindow:function(a){null!=
a&&this.windowByID.h.hasOwnProperty(a.id)&&(M.remove(this.__windows,a),this.windowByID.remove(a.id),a.close(),null!=a.renderer&&this.removeRenderer(a.renderer),this.__windows[0]==a&&(this.window=null))},setPreloader:function(a){uc.prototype.setPreloader.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.setPreloader(a)}},__class__:Pb});var Af=function(a){if(null!=a){var b=new ad;b.future=this;Db.queue({promise:b,work:a})}};h["lime.app.Future"]=Af;Af.__name__=["lime","app","Future"];
Af.prototype={onComplete:function(a){null!=a&&(this.isComplete?a(this.value):this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},onError:function(a){null!=a&&(this.isError?a(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(a)));return this},__class__:Af};var Db=function(){};h["lime.app._Future.FutureWork"]=Db;Db.__name__=["lime","app","_Future","FutureWork"];Db.queue=
function(a){null==Db.threadPool&&(Db.threadPool=new Bf,Db.threadPool.doWork.add(Db.threadPool_doWork),Db.threadPool.onComplete.add(Db.threadPool_onComplete),Db.threadPool.onError.add(Db.threadPool_onError));Db.threadPool.queue(a)};Db.threadPool_doWork=function(a){try{var b=a.work();Db.threadPool.sendComplete({promise:a.promise,result:b})}catch(c){c instanceof m&&(c=c.val),Db.threadPool.sendError({promise:a.promise,error:c})}};Db.threadPool_onComplete=function(a){a.promise.complete(a.result)};Db.threadPool_onError=
function(a){a.promise.error(a.error)};var Ma=function(){this.loaded=this.total=0;this.onProgress=new we;this.onComplete=new gb;this.onProgress.add(l(this,this.update))};h["lime.app.Preloader"]=Ma;Ma.__name__=["lime","app","Preloader"];Ma.prototype={create:function(a){},load:function(a,b){for(var c=this,d=null,e=Y.cache.version,f=new ja,g=0,n=a.length;g<n;){var v=g++,d=a[v];switch(b[v]){case "IMAGE":Ma.images.exists(d)||(v=new Image,Ma.images.set(d,v),v.onload=l(this,this.image_onLoad),v.src=d+"?"+
e,this.total++);break;case "BINARY":Ma.loaders.exists(d)||(v=new xe,Ma.loaders.set(d,v),this.total++);break;case "TEXT":Ma.loaders.exists(d)||(v=new xe,Ma.loaders.set(d,v),this.total++);break;case "MUSIC":case "SOUND":var v=Ac.withoutExtension(d),h=Ac.extension(d);(null!=ec[v]?f.existsReserved(v):f.h.hasOwnProperty(v))||(f.set(v,[]),this.total++);"wav"==h?(null!=ec[v]?f.getReserved(v):f.h[v]).push(d):(null!=ec[v]?f.getReserved(v):f.h[v]).unshift(d);break;case "FONT":this.total++,this.loadFont(d)}}for(d=
Ma.loaders.keys();d.hasNext();)g=d.next(),Ma.loaders.get(g).load(g+"?"+e).onComplete(l(this,this.loader_onComplete));for(e=new ue(f,f.arrayKeys());e.hasNext();)f=[e.next()],ac.loadFromFiles(f[0]).onComplete(function(a){return function(b){for(var d=0;d<a[0].length;){var e=a[0][d];++d;Ma.audioBuffers.set(e,b)}c.audioBuffer_onLoad()}}(f)).onError(l(this,this.audioBuffer_onLoad));0==this.total&&this.start()},loadFont:function(a){var b=this;if(window.document.fonts&&(Mc=window.document.fonts,l(Mc,Mc.load)))window.document.fonts.load("1em '"+
a+"'").then(function(a){b.loaded++;b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start()});else{var c=window.document.createElement("span");c.innerHTML="giItT1WQy@!-/#";var d=c.style;d.position="absolute";d.left="-10000px";d.top="-10000px";d.fontSize="300px";d.fontFamily="sans-serif";d.fontVariant="normal";d.fontStyle="normal";d.fontWeight="normal";d.letterSpacing="0";window.document.body.appendChild(c);var e=c.offsetWidth;d.fontFamily="'"+a+"', sans-serif";var f=null,g=!1;a=function(){if(c.offsetWidth!=
e){if(!g)return g=!0,!1;b.loaded++;null!=f&&window.clearInterval(f);c.parentNode.removeChild(c);c=null;b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start();return!0}return!1};a()||(f=window.setInterval(a,50))}},start:function(){this.complete=!0;this.onComplete.dispatch()},update:function(a,b){},audioBuffer_onLoad:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},image_onLoad:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,
this.total);this.loaded==this.total&&this.start()},loader_onComplete:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},__class__:Ma};var ad=function(){this.future=new Af};h["lime.app.Promise"]=ad;ad.__name__=["lime","app","Promise"];ad.prototype={complete:function(a){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=0,c=this.future.__completeListeners;b<c.length;){var d=
c[b];++b;d(a)}this.future.__completeListeners=null}return this},error:function(a){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__errorListeners=null}return this},progress:function(a){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var b=0,c=this.future.__progressListeners;b<c.length;){var d=c[b];++b;d(a)}return this},
__class__:ad};var Ed=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Dynamic_Void"]=Ed;Ed.__name__=["lime","app","_Event_Dynamic_Void"];Ed.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},
remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Ed};var ye=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Float_Float_Int_Void"]=ye;ye.__name__=
["lime","app","_Event_Float_Float_Int_Void"];ye.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,
1),this.__repeat.splice(b,1))},dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,f=0;f<d.length&&(d[f](a,b,c),e[f]?f++:this.remove(d[f]),!this.canceled););},__class__:ye};var bd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Float_Float_Void"]=bd;bd.__name__=["lime","app","_Event_Float_Float_Void"];bd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=
d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,
b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:bd};var ze=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_Float_Void"]=ze;ze.__name__=["lime","app","_Event_Int_Float_Void"];ze.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:ze};var we=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=
[]};h["lime.app._Event_Int_Int_Void"]=we;we.__name__=["lime","app","_Event_Int_Int_Void"];we.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:we};var $c=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_Void"]=$c;$c.__name__=["lime","app","_Event_Int_Void"];$c.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=
0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,
c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:$c};var Cf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=Cf;Cf.__name__=["lime","app","_Event_Int_lime_ui_JoystickHatPosition_Void"];Cf.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:Cf};var Df=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_String_Int_Int_Void"]=Df;Df.__name__=["lime","app","_Event_String_Int_Int_Void"];Df.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:Df};var Ae=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_String_Void"]=Ae;Ae.__name__=["lime","app","_Event_String_Void"];Ae.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(T.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=
this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Ae};var Ef=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_graphics_RenderContext_Void"]=Ef;Ef.__name__=["lime","app","_Event_lime_graphics_RenderContext_Void"];Ef.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Ef};
var Ff=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=Ff;Ff.__name__=["lime","app","_Event_lime_ui_GamepadAxis_Float_Void"];Ff.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);
this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:Ff};var Be=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_GamepadButton_Void"]=
Be;Be.__name__=["lime","app","_Event_lime_ui_GamepadButton_Void"];Be.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,
1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Be};var Gf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_Gamepad_Void"]=Gf;Gf.__name__=["lime","app","_Event_lime_ui_Gamepad_Void"];Gf.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,
e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=
this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Gf};var Hf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_Joystick_Void"]=Hf;Hf.__name__=["lime","app","_Event_lime_ui_Joystick_Void"];Hf.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Hf};var Ce=function(){this.canceled=
!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=Ce;Ce.__name__=["lime","app","_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"];Ce.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);
this.__repeat.push(!b)},cancel:function(){this.canceled=!0},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:Ce};var Fd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=
[]};h["lime.app._Event_lime_ui_Touch_Void"]=Fd;Fd.__name__=["lime","app","_Event_lime_ui_Touch_Void"];Fd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)T.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Fd};var Tg=function(){};h["lime.audio.ALAudioContext"]=Tg;Tg.__name__=["lime","audio","ALAudioContext"];var Ug=function(){};h["lime.audio.ALCAudioContext"]=Ug;Ug.__name__=["lime","audio","ALCAudioContext"];var ac=function(){};h["lime.audio.AudioBuffer"]=
ac;ac.__name__=["lime","audio","AudioBuffer"];ac.fromFile=function(a){if(null==a)return null;var b=new ac;b.__srcHowl=new Howl({src:[a]});return b};ac.fromFiles=function(a){var b=new ac;b.__srcHowl=new Howl({src:a});return b};ac.loadFromFile=function(a){var b=new ad,c=ac.fromFile(a);null!=c?null!=c&&(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};ac.loadFromFiles=function(a){var b=new ad,c=ac.fromFiles(a);
null!=c?(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};ac.prototype={__class__:ac};var pc=h["lime.audio.AudioContext"]={__ename__:!0,__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};pc.OPENAL=function(a,b){var c=["OPENAL",0,a,b];c.__enum__=pc;c.toString=H;return c};pc.HTML5=function(a){a=["HTML5",1,a];a.__enum__=pc;a.toString=H;return a};pc.WEB=function(a){a=["WEB",2,a];a.__enum__=
pc;a.toString=H;return a};pc.FLASH=function(a){a=["FLASH",3,a];a.__enum__=pc;a.toString=H;return a};pc.CUSTOM=function(a){a=["CUSTOM",4,a];a.__enum__=pc;a.toString=H;return a};var Yc=function(){};h["lime.audio.AudioManager"]=Yc;Yc.__name__=["lime","audio","AudioManager"];Yc.init=function(a){if(null==Yc.context)if(null==a)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,Yc.context=pc.WEB(new AudioContext)}catch(b){b instanceof m&&(b=b.val),Yc.context=pc.HTML5(new If)}else Yc.context=
a};var Jf=function(a,b,c,d){null==d&&(d=0);null==b&&(b=0);this.onComplete=new gb;this.buffer=a;this.offset=b;this.backend=new xf(this);null!=c&&0!=c&&this.set_length(c);this.set_loops(d);null!=a&&this.init()};h["lime.audio.AudioSource"]=Jf;Jf.__name__=["lime","audio","AudioSource"];Jf.prototype={dispose:function(){this.backend.dispose()},init:function(){this.backend.init()},play:function(){this.backend.play()},stop:function(){this.backend.stop()},get_currentTime:function(){return this.backend.getCurrentTime()},
set_currentTime:function(a){return this.backend.setCurrentTime(a)},set_gain:function(a){return this.backend.setGain(a)},set_length:function(a){return this.backend.setLength(a)},set_loops:function(a){return this.backend.setLoops(a)},get_position:function(){return this.backend.getPosition()},set_position:function(a){return this.backend.setPosition(a)},__class__:Jf,__properties__:{set_position:"set_position",get_position:"get_position",set_loops:"set_loops",set_length:"set_length",set_gain:"set_gain",
set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var Vg=function(){};h["lime.audio.FlashAudioContext"]=Vg;Vg.__name__=["lime","audio","FlashAudioContext"];var If=function(){};h["lime.audio.HTML5AudioContext"]=If;If.__name__=["lime","audio","HTML5AudioContext"];If.prototype={__class__:If};var og=function(){};h["lime.graphics.ConsoleRenderContext"]=og;og.__name__=["lime","graphics","ConsoleRenderContext"];og.prototype={__class__:og};var Wg=function(){};h["lime.graphics.FlashRenderContext"]=
Wg;Wg.__name__=["lime","graphics","FlashRenderContext"];var cc=function(a,b,c,d,e,f,g){null==e&&(e=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.offsetX=b;this.offsetY=c;this.width=d;this.height=e;this.version=0;if(null==g)if(null!=Pb.current&&null!=Pb.current.__renderers[0])switch(Pb.current.__renderers[0].context[1]){case 2:case 1:this.type=Ha.CANVAS;break;case 3:this.type=Ha.FLASH;break;default:this.type=Ha.DATA}else this.type=Ha.DATA;else this.type=g;if(null==a){if(0<d&&0<e)switch(this.type[1]){case 0:this.buffer=
new Nc(null,d,e);X.createCanvas(this,d,e);null!=f&&this.fillRect(new kc(0,0,d,e),f);break;case 1:a=d*e*4,a=null!=a?new fc(a):null,this.buffer=new Nc(a,d,e),null!=f&&this.fillRect(new kc(0,0,d,e),f)}}else this.__fromImageBuffer(a)};h["lime.graphics.Image"]=cc;cc.__name__=["lime","graphics","Image"];cc.fromCanvas=function(a){if(null==a)return null;var b=new Nc(null,a.width,a.height);b.set_src(a);a=new cc(b);a.type=Ha.CANVAS;return a};cc.fromImageElement=function(a){if(null==a)return null;var b=new Nc(null,
a.width,a.height);b.set_src(a);a=new cc(b);a.type=Ha.CANVAS;return a};cc.prototype={clone:function(){if(null!=this.buffer){this.type==Ha.CANVAS?X.convertToCanvas(this):X.convertToData(this);var a=new cc(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);a.version=this.version;return a}return new cc(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(a,b){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:X.colorTransform(this,
a,b);break;case 1:X.convertToData(this);hb.colorTransform(this,a,b);break;case 2:a.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(a.__toFlashRectangle(),Sa.__toFlashColorTransform(b))}},copyChannel:function(a,b,c,d,e){b=this.__clipRect(b);if(null!=this.buffer&&null!=b&&!(e==zb.ALPHA&&!this.get_transparent()||0>=b.width||0>=b.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),this.type[1]){case 0:X.copyChannel(this,
a,b,c,d,e);break;case 1:X.convertToData(this);hb.copyChannel(this,a,b,c,d,e);break;case 2:var f;switch(d[1]){case 0:f=1;break;case 1:f=2;break;case 2:f=4;break;case 3:f=8}var g;switch(e[1]){case 0:g=1;break;case 1:g=2;break;case 2:g=4;break;case 3:g=8}b.offset(a.offsetX,a.offsetY);c.offset(this.offsetX,this.offsetY);this.buffer.__srcBitmapData.copyChannel(a.buffer.get_src(),b.__toFlashRectangle(),c.__toFlashPoint(),f,g)}},copyPixels:function(a,b,c,d,e,f){null==f&&(f=!1);if(null!=this.buffer&&null!=
a&&!(0>=b.width||0>=b.height||0>=this.width||0>=this.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.x&&(b.width+=b.x,b.x=0),0>b.y&&(b.height+=b.y,b.y=0),c.x+b.width>this.width&&(b.width=this.width-c.x),c.y+b.height>this.height&&(b.height=this.height-c.y),0>c.x&&(b.width+=c.x,b.x-=c.x,c.x=0),0>c.y&&(b.height+=c.y,b.y-=c.y,c.y=0),this.type[1]){case 0:X.convertToCanvas(this);X.copyPixels(this,a,b,c,d,e,f);break;case 1:X.convertToData(this);
X.convertToData(a);hb.copyPixels(this,a,b,c,d,e,f);break;case 2:b.offset(a.offsetX,a.offsetY),c.offset(this.offsetX,this.offsetY),null!=d&&null!=e&&e.offset(d.offsetX,d.offsetY),this.buffer.__srcBitmapData.copyPixels(a.buffer.__srcBitmapData,b.__toFlashRectangle(),c.__toFlashPoint(),null!=d?d.buffer.get_src():null,null!=e?e.__toFlashPoint():null,f)}},fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:X.fillRect(this,a,b,c);break;case 1:X.convertToData(this);
if(0==this.buffer.data.length)break;hb.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);if(null!=c)switch(c){case 1:break;case 2:b=(b&255)<<24|(b>>8&255)<<16|(b>>16&255)<<8|b>>24&255;break;default:b=(b&255)<<24|(b>>24&255)<<16|(b>>16&255)<<8|b>>8&255}else b=(b&255)<<24|(b>>24&255)<<16|(b>>16&255)<<8|b>>8&255;this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},setPixel32:function(a,b,c,d){if(!(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height))switch(this.type[1]){case 0:X.setPixel32(this,
a,b,c,d);break;case 1:X.convertToData(this);hb.setPixel32(this,a,b,c,d);break;case 2:if(null!=d)switch(d){case 1:break;case 2:c=(c&255)<<24|(c>>8&255)<<16|(c>>16&255)<<8|c>>24&255;break;default:c=(c&255)<<24|(c>>24&255)<<16|(c>>16&255)<<8|c>>8&255}else c=(c&255)<<24|(c>>24&255)<<16|(c>>16&255)<<8|c>>8&255;this.buffer.__srcBitmapData.setPixel32(a+this.offsetX,b+this.offsetY,c)}},setPixels:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:X.setPixels(this,
a,b,c);break;case 1:X.convertToData(this),hb.setPixels(this,a,b,c)}},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&(this.width=a.width),-1==this.height&&(this.height=a.height))},get_data:function(){null==
this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&X.convertToData(this);return this.buffer.data},get_format:function(){return this.buffer.format},set_format:function(a){if(this.buffer.format!=a)switch(this.type[1]){case 1:hb.setFormat(this,a)}return this.buffer.format=a},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(a){if(a&&!this.buffer.premultiplied)switch(this.type[1]){case 0:case 1:X.convertToData(this),hb.multiplyAlpha(this)}else if(!a&&
this.buffer.premultiplied)switch(this.type[1]){case 1:X.convertToData(this),hb.unmultiplyAlpha(this)}return a},get_rect:function(){return new kc(0,0,this.width,this.height)},get_src:function(){null==this.buffer.__srcCanvas&&X.convertToCanvas(this);return this.buffer.get_src()},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:cc,__properties__:{get_rect:"get_rect",set_transparent:"set_transparent",
get_transparent:"get_transparent",get_src:"get_src",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_format:"set_format",get_format:"get_format",get_data:"get_data"}};var Nc=function(a,b,c,d,e){null==d&&(d=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;this.height=c;this.bitsPerPixel=d;this.format=null==e?0:e;this.premultiplied=!1;this.transparent=!0};h["lime.graphics.ImageBuffer"]=Nc;Nc.__name__=["lime","graphics","ImageBuffer"];Nc.prototype={clone:function(){var a=
new Nc(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var b=this.data.byteLength,b=null!=b?new fc(b):null;a.data=b;b=this.data;b=null!=b?new fc(b):null;a.data.set(b)}else null!=this.__srcImageData?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcImageData.width,a.__srcCanvas.height=this.__srcImageData.height,a.__srcImageData=a.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),
b=new Uint8ClampedArray(this.__srcImageData.data),a.__srcImageData.data.set(b)):null!=this.__srcCanvas?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcCanvas.width,a.__srcCanvas.height=this.__srcCanvas.height,a.__srcContext.drawImage(this.__srcCanvas,0,0)):a.__srcImage=this.__srcImage;a.bitsPerPixel=this.bitsPerPixel;a.format=this.format;a.premultiplied=this.premultiplied;a.transparent=this.transparent;return a},get_src:function(){return null!=
this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){u.__instanceof(a,Image)?this.__srcImage=a:u.__instanceof(a,HTMLCanvasElement)&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return 4*this.width},__class__:Nc,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var zb=h["lime.graphics.ImageChannel"]={__ename__:!0,__constructs__:["RED","GREEN","BLUE","ALPHA"]};zb.RED=["RED",0];zb.RED.toString=H;
zb.RED.__enum__=zb;zb.GREEN=["GREEN",1];zb.GREEN.toString=H;zb.GREEN.__enum__=zb;zb.BLUE=["BLUE",2];zb.BLUE.toString=H;zb.BLUE.__enum__=zb;zb.ALPHA=["ALPHA",3];zb.ALPHA.toString=H;zb.ALPHA.__enum__=zb;var Ha=h["lime.graphics.ImageType"]={__ename__:!0,__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};Ha.CANVAS=["CANVAS",0];Ha.CANVAS.toString=H;Ha.CANVAS.__enum__=Ha;Ha.DATA=["DATA",1];Ha.DATA.toString=H;Ha.DATA.__enum__=Ha;Ha.FLASH=["FLASH",2];Ha.FLASH.toString=H;Ha.FLASH.__enum__=Ha;Ha.CUSTOM=["CUSTOM",
3];Ha.CUSTOM.toString=H;Ha.CUSTOM.__enum__=Ha;var tb=h["lime.graphics.RenderContext"]={__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};tb.OPENGL=function(a){a=["OPENGL",0,a];a.__enum__=tb;a.toString=H;return a};tb.CANVAS=function(a){a=["CANVAS",1,a];a.__enum__=tb;a.toString=H;return a};tb.DOM=function(a){a=["DOM",2,a];a.__enum__=tb;a.toString=H;return a};tb.FLASH=function(a){a=["FLASH",3,a];a.__enum__=tb;a.toString=H;return a};tb.CAIRO=function(a){a=["CAIRO",
4,a];a.__enum__=tb;a.toString=H;return a};tb.CONSOLE=function(a){a=["CONSOLE",5,a];a.__enum__=tb;a.toString=H;return a};tb.CUSTOM=function(a){a=["CUSTOM",6,a];a.__enum__=tb;a.toString=H;return a};tb.NONE=["NONE",7];tb.NONE.toString=H;tb.NONE.__enum__=tb;var zf=function(a){this.onRender=new gb;this.onContextRestored=new Ef;this.onContextLost=new gb;this.window=a;this.backend=new yf(this);this.window.renderer=this};h["lime.graphics.Renderer"]=zf;zf.__name__=["lime","graphics","Renderer"];zf.prototype=
{create:function(){this.backend.create()},flip:function(){this.backend.flip()},__class__:zf};var Ga=h["lime.graphics.RendererType"]={__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};Ga.OPENGL=["OPENGL",0];Ga.OPENGL.toString=H;Ga.OPENGL.__enum__=Ga;Ga.CANVAS=["CANVAS",1];Ga.CANVAS.toString=H;Ga.CANVAS.__enum__=Ga;Ga.DOM=["DOM",2];Ga.DOM.toString=H;Ga.DOM.__enum__=Ga;Ga.FLASH=["FLASH",3];Ga.FLASH.toString=H;Ga.FLASH.__enum__=Ga;Ga.CAIRO=["CAIRO",4];Ga.CAIRO.toString=
H;Ga.CAIRO.__enum__=Ga;Ga.CONSOLE=["CONSOLE",5];Ga.CONSOLE.toString=H;Ga.CONSOLE.__enum__=Ga;Ga.CUSTOM=["CUSTOM",6];Ga.CUSTOM.toString=H;Ga.CUSTOM.__enum__=Ga;var pg=function(){};h["lime.graphics.cairo.Cairo"]=pg;pg.__name__=["lime","graphics","cairo","Cairo"];pg.prototype={arc:function(a,b,c,d,e){},clip:function(){},curveTo:function(a,b,c,d,e,f){},identityMatrix:function(){},lineTo:function(a,b){},moveTo:function(a,b){},newPath:function(){},paint:function(){},paintWithAlpha:function(a){},rectangle:function(a,
b,c,d){},restore:function(){},save:function(){},setSourceRGB:function(a,b,c){},get_currentPoint:function(){return null},get_hasCurrentPoint:function(){return!1},set_matrix:function(a){return a},set_source:function(a){return a},__class__:pg,__properties__:{set_source:"set_source",set_matrix:"set_matrix",get_hasCurrentPoint:"get_hasCurrentPoint",get_currentPoint:"get_currentPoint"}};var qg={};h["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=qg;qg.__name__=["lime","graphics","cairo",
"_CairoImageSurface","CairoImageSurface_Impl_"];qg.fromImage=function(a){return null};var Gd={};h["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=Gd;Gd.__name__=["lime","graphics","cairo","_CairoPattern","CairoPattern_Impl_"];Gd.__properties__={set_filter:"set_filter"};Gd.createForSurface=function(a){return 0};Gd.set_filter=function(a,b){return b};var rg={};h["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=rg;rg.__name__=["lime","graphics","cairo","_CairoSurface","CairoSurface_Impl_"];
rg.flush=function(a){};var p=function(){};h["lime.graphics.opengl.GL"]=p;p.__name__=["lime","graphics","opengl","GL"];p.stencilFunc=function(a,b,c){p.context.stencilFunc(a,b,c)};p.stencilOp=function(a,b,c){p.context.stencilOp(a,b,c)};p.uniform2fv=function(a,b){p.context.uniform2fv(a,b)};p.uniform3fv=function(a,b){p.context.uniform3fv(a,b)};p.uniform4fv=function(a,b){p.context.uniform4fv(a,b)};p.uniformMatrix2fv=function(a,b,c){p.context.uniformMatrix2fv(a,b,c)};p.uniformMatrix3fv=function(a,b,c){p.context.uniformMatrix3fv(a,
b,c)};p.uniformMatrix4fv=function(a,b,c){p.context.uniformMatrix4fv(a,b,c)};p.useProgram=function(a){p.__currentProgram=a;p.context.useProgram(a)};var X=function(){};h["lime.graphics.utils.ImageCanvasUtil"]=X;X.__name__=["lime","graphics","utils","ImageCanvasUtil"];X.colorTransform=function(a,b,c){X.convertToData(a);hb.colorTransform(a,b,c)};X.convertToCanvas=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage?(null==c.__srcCanvas&&(X.createCanvas(a,c.__srcImage.width,c.__srcImage.height),
c.__srcContext.drawImage(c.__srcImage,0,0)),c.__srcImage=null):null==c.__srcCanvas&&null!=c.data?(a.set_transparent(!0),X.createCanvas(a,c.width,c.height),X.createImageData(a),c.__srcContext.putImageData(c.__srcImageData,0,0)):a.type==Ha.DATA&&null!=c.__srcImageData&&a.dirty&&(c.__srcContext.putImageData(c.__srcImageData,0,0),a.dirty=!1);b?(c.data=null,c.__srcImageData=null):null==c.data&&null!=c.__srcImageData&&(c.data=c.__srcImageData.data);a.type=Ha.CANVAS};X.convertToData=function(a,b){null==
b&&(b=!1);var c=a.buffer;null!=c.__srcImage&&X.convertToCanvas(a);if(null!=c.__srcCanvas&&null==c.data)X.createImageData(a),a.type==Ha.CANVAS&&(a.dirty=!1);else if(a.type==Ha.CANVAS&&null!=c.__srcCanvas&&a.dirty){if(null==c.__srcImageData)X.createImageData(a);else{c.__srcImageData=c.__srcContext.getImageData(0,0,c.width,c.height);var d=c.__srcImageData.data.buffer,d=null!=d?new fc(d):null;c.data=d}a.dirty=!1}b&&(a.buffer.__srcCanvas=null,a.buffer.__srcContext=null);a.type=Ha.DATA};X.copyChannel=function(a,
b,c,d,e,f){X.convertToData(b);X.convertToData(a);hb.copyChannel(a,b,c,d,e,f)};X.copyPixels=function(a,b,c,d,e,f,g){null==g&&(g=!1);null==d||d.x>=a.width||d.y>=a.height||null==c||1>c.width||1>c.height||(null!=e&&e.get_transparent()&&(null==f&&(f=new Kc),b=a.clone(),b.copyChannel(e,new kc(f.x,f.y,c.width,c.height),new Kc(c.x,c.y),zb.ALPHA,zb.ALPHA)),X.convertToCanvas(a,!0),g||a.get_transparent()&&b.get_transparent()&&a.buffer.__srcContext.clearRect(d.x+a.offsetX,d.y+a.offsetY,c.width+a.offsetX,c.height+
a.offsetY),X.convertToCanvas(b),null!=b.buffer.get_src()&&a.buffer.__srcContext.drawImage(b.buffer.get_src(),c.x+b.offsetX|0,c.y+b.offsetY|0,c.width|0,c.height|0,d.x+a.offsetX|0,d.y+a.offsetY|0,c.width|0,c.height|0),a.dirty=!0,a.version++)};X.createCanvas=function(a,b,c){var d=a.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),d.__srcCanvas.width=b,d.__srcCanvas.height=c,a.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):(a.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque",
"true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=!1)};X.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer,b=null!=b?new fc(b):null;
a.data=b}};X.fillRect=function(a,b,c,d){X.convertToCanvas(a);var e,f;1==d?(d=c>>16&255,e=c>>8&255,f=c&255,c=a.get_transparent()?c>>24&255:255):(d=c>>24&255,e=c>>16&255,f=c>>8&255,c=a.get_transparent()?c&255:255);0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==c?a.buffer.__srcCanvas.width=a.buffer.width:(a.buffer.__srcContext.fillStyle="rgba("+d+", "+e+", "+f+", "+c/255+")",a.buffer.__srcContext.fillRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY),
a.dirty=!0,a.version++)};X.setPixel32=function(a,b,c,d,e){X.convertToData(a);hb.setPixel32(a,b,c,d,e)};X.setPixels=function(a,b,c,d){X.convertToData(a);hb.setPixels(a,b,c,d)};X.sync=function(a,b){a.type==Ha.CANVAS?X.convertToCanvas(a,b):X.convertToData(a,b)};var hb=function(){};h["lime.graphics.utils.ImageDataUtil"]=hb;hb.__name__=["lime","graphics","utils","ImageDataUtil"];hb.colorTransform=function(a,b,c){var d=a.buffer.data;if(null!=d){var e=a.buffer.format,f=a.buffer.premultiplied;b=new qc(a,
b);var g=Sa.getAlphaTable(c),n=Sa.getRedTable(c),v=Sa.getGreenTable(c);c=Sa.getBlueTable(c);for(var h,k,x,q=0,l=b.height;q<l;){h=q++;h=b.offset+b.stride*h;for(var m=0,p=b.width;m<p;){k=m++;k=h+4*k;switch(e){case 2:x=(d[k+2]&255)<<24|(d[k+1]&255)<<16|(d[k]&255)<<8|d[k+3]&255;break;case 0:x=(d[k]&255)<<24|(d[k+1]&255)<<16|(d[k+2]&255)<<8|d[k+3]&255;break;case 1:x=(d[k+1]&255)<<24|(d[k+2]&255)<<16|(d[k+3]&255)<<8|d[k]&255}if(f&&0!=(x&255)&&255!=(x&255)){B.unmult=255/(x&255);var r;r=Math.round((x>>24&
255)*B.unmult);r=B.__clamp[r];var t;t=Math.round((x>>16&255)*B.unmult);t=B.__clamp[t];var z=Math.round((x>>8&255)*B.unmult);x=(r&255)<<24|(t&255)<<16|(B.__clamp[z]&255)<<8|x&255}x=(n[x>>24&255]&255)<<24|(v[x>>16&255]&255)<<16|(c[x>>8&255]&255)<<8|g[x&255]&255;f&&(0==(x&255)?0!=x&&(x=0):255!=(x&255)&&(B.a16=B.__alpha16[x&255],x=((x>>24&255)*B.a16>>16&255)<<24|((x>>16&255)*B.a16>>16&255)<<16|((x>>8&255)*B.a16>>16&255)<<8|x&255));switch(e){case 2:d[k]=x>>8&255;d[k+1]=x>>16&255;d[k+2]=x>>24&255;d[k+3]=
x&255;break;case 0:d[k]=x>>24&255;d[k+1]=x>>16&255;d[k+2]=x>>8&255;d[k+3]=x&255;break;case 1:d[k]=x&255,d[k+1]=x>>24&255,d[k+2]=x>>16&255,d[k+3]=x>>8&255}}}a.dirty=!0;a.version++}};hb.copyChannel=function(a,b,c,d,e,f){var g;switch(f[1]){case 0:g=0;break;case 1:g=1;break;case 2:g=2;break;case 3:g=3}var n;switch(e[1]){case 0:n=0;break;case 1:n=1;break;case 2:n=2;break;case 3:n=3}e=b.buffer.data;f=a.buffer.data;if(null!=e&&null!=f){c=new qc(b,c);d=new qc(a,new kc(d.x,d.y,c.width,c.height));var v=b.buffer.format,
h=a.buffer.format;b=b.buffer.premultiplied;for(var k=a.buffer.premultiplied,x,q,l,m,p=0,r=0,t=d.height;r<t;){q=r++;x=c.offset+c.stride*q;q=d.offset+d.stride*q;for(var z=0,u=d.width;z<u;){z++;switch(v){case 2:l=(e[x+2]&255)<<24|(e[x+1]&255)<<16|(e[x]&255)<<8|e[x+3]&255;break;case 0:l=(e[x]&255)<<24|(e[x+1]&255)<<16|(e[x+2]&255)<<8|e[x+3]&255;break;case 1:l=(e[x+1]&255)<<24|(e[x+2]&255)<<16|(e[x+3]&255)<<8|e[x]&255}if(b&&0!=(l&255)&&255!=(l&255)){B.unmult=255/(l&255);var w;w=Math.round((l>>24&255)*
B.unmult);w=B.__clamp[w];var y;y=Math.round((l>>16&255)*B.unmult);y=B.__clamp[y];var A=Math.round((l>>8&255)*B.unmult);l=(w&255)<<24|(y&255)<<16|(B.__clamp[A]&255)<<8|l&255}switch(h){case 2:m=(f[q+2]&255)<<24|(f[q+1]&255)<<16|(f[q]&255)<<8|f[q+3]&255;break;case 0:m=(f[q]&255)<<24|(f[q+1]&255)<<16|(f[q+2]&255)<<8|f[q+3]&255;break;case 1:m=(f[q+1]&255)<<24|(f[q+2]&255)<<16|(f[q+3]&255)<<8|f[q]&255}k&&0!=(m&255)&&255!=(m&255)&&(B.unmult=255/(m&255),w=Math.round((m>>24&255)*B.unmult),w=B.__clamp[w],y=
Math.round((m>>16&255)*B.unmult),y=B.__clamp[y],A=Math.round((m>>8&255)*B.unmult),m=(w&255)<<24|(y&255)<<16|(B.__clamp[A]&255)<<8|m&255);switch(n){case 0:p=l>>24&255;break;case 1:p=l>>16&255;break;case 2:p=l>>8&255;break;case 3:p=l&255}switch(g){case 0:m=(p&255)<<24|(m>>16&255)<<16|(m>>8&255)<<8|m&255;p;break;case 1:m=(m>>24&255)<<24|(p&255)<<16|(m>>8&255)<<8|m&255;p;break;case 2:m=(m>>24&255)<<24|(m>>16&255)<<16|(p&255)<<8|m&255;p;break;case 3:m=(m>>24&255)<<24|(m>>16&255)<<16|(m>>8&255)<<8|p&255,
p}k&&(0==(m&255)?0!=m&&(m=0):255!=(m&255)&&(B.a16=B.__alpha16[m&255],m=((m>>24&255)*B.a16>>16&255)<<24|((m>>16&255)*B.a16>>16&255)<<16|((m>>8&255)*B.a16>>16&255)<<8|m&255));switch(h){case 2:f[q]=m>>8&255;f[q+1]=m>>16&255;f[q+2]=m>>24&255;f[q+3]=m&255;break;case 0:f[q]=m>>24&255;f[q+1]=m>>16&255;f[q+2]=m>>8&255;f[q+3]=m&255;break;case 1:f[q]=m&255,f[q+1]=m>>24&255,f[q+2]=m>>16&255,f[q+3]=m>>8&255}x+=4;q+=4}}a.dirty=!0;a.version++}};hb.copyPixels=function(a,b,c,d,e,f,g){null==g&&(g=!1);var n=b.buffer.data,
v=a.buffer.data;if(null!=n&&null!=v){c=new qc(b,c);d=new qc(a,new kc(d.x,d.y,c.width,c.height));var h=b.buffer.format,k=a.buffer.format,x=b.buffer.premultiplied,q=a.buffer.premultiplied,l;if(g&&b.get_transparent()){var m,p,r,t,z;if(null==e){var w=0;for(b=d.height;w<b;){f=w++;e=c.offset+c.stride*f;f=d.offset+d.stride*f;g=0;for(var y=d.width;g<y;){g++;switch(h){case 2:l=(n[e+2]&255)<<24|(n[e+1]&255)<<16|(n[e]&255)<<8|n[e+3]&255;break;case 0:l=(n[e]&255)<<24|(n[e+1]&255)<<16|(n[e+2]&255)<<8|n[e+3]&255;
break;case 1:l=(n[e+1]&255)<<24|(n[e+2]&255)<<16|(n[e+3]&255)<<8|n[e]&255}if(x&&0!=(l&255)&&255!=(l&255)){B.unmult=255/(l&255);var u;u=Math.round((l>>24&255)*B.unmult);u=B.__clamp[u];var A;A=Math.round((l>>16&255)*B.unmult);A=B.__clamp[A];var E=Math.round((l>>8&255)*B.unmult);l=(u&255)<<24|(A&255)<<16|(B.__clamp[E]&255)<<8|l&255}switch(k){case 2:z=(v[f+2]&255)<<24|(v[f+1]&255)<<16|(v[f]&255)<<8|v[f+3]&255;break;case 0:z=(v[f]&255)<<24|(v[f+1]&255)<<16|(v[f+2]&255)<<8|v[f+3]&255;break;case 1:z=(v[f+
1]&255)<<24|(v[f+2]&255)<<16|(v[f+3]&255)<<8|v[f]&255}q&&0!=(z&255)&&255!=(z&255)&&(B.unmult=255/(z&255),u=Math.round((z>>24&255)*B.unmult),u=B.__clamp[u],A=Math.round((z>>16&255)*B.unmult),A=B.__clamp[A],E=Math.round((z>>8&255)*B.unmult),z=(u&255)<<24|(A&255)<<16|(B.__clamp[E]&255)<<8|z&255);m=(l&255)/255;p=(z&255)/255;r=1-m;t=m+p*r;0==t?z=0:(u=Math.round(((l>>24&255)*m+(z>>24&255)*p*r)/t),u=B.__clamp[u],z=(u&255)<<24|(z>>16&255)<<16|(z>>8&255)<<8|z&255,u,u=Math.round(((l>>16&255)*m+(z>>16&255)*
p*r)/t),u=B.__clamp[u],z=(z>>24&255)<<24|(u&255)<<16|(z>>8&255)<<8|z&255,u,u=Math.round(((l>>8&255)*m+(z>>8&255)*p*r)/t),u=B.__clamp[u],z=(z>>24&255)<<24|(z>>16&255)<<16|(u&255)<<8|z&255,u,u=Math.round(255*t),u=B.__clamp[u],z=(z>>24&255)<<24|(z>>16&255)<<16|(z>>8&255)<<8|u&255,u);q&&(0==(z&255)?0!=z&&(z=0):255!=(z&255)&&(B.a16=B.__alpha16[z&255],z=((z>>24&255)*B.a16>>16&255)<<24|((z>>16&255)*B.a16>>16&255)<<16|((z>>8&255)*B.a16>>16&255)<<8|z&255));switch(k){case 2:v[f]=z>>8&255;v[f+1]=z>>16&255;v[f+
2]=z>>24&255;v[f+3]=z&255;break;case 0:v[f]=z>>24&255;v[f+1]=z>>16&255;v[f+2]=z>>8&255;v[f+3]=z&255;break;case 1:v[f]=z&255,v[f+1]=z>>24&255,v[f+2]=z>>16&255,v[f+3]=z>>8&255}e+=4;f+=4}}}else{null==f&&(f=new Kc);b=e.buffer.data;g=e.buffer.format;y=e.buffer.premultiplied;u=new qc(e,new kc(f.x,f.y,d.width,d.height));var C;A=0;for(E=u.height;A<E;){C=A++;e=c.offset+c.stride*C;f=d.offset+d.stride*C;C=u.offset+u.stride*C;for(var D=0,F=u.width;D<F;){D++;switch(h){case 2:l=(n[e+2]&255)<<24|(n[e+1]&255)<<16|
(n[e]&255)<<8|n[e+3]&255;break;case 0:l=(n[e]&255)<<24|(n[e+1]&255)<<16|(n[e+2]&255)<<8|n[e+3]&255;break;case 1:l=(n[e+1]&255)<<24|(n[e+2]&255)<<16|(n[e+3]&255)<<8|n[e]&255}x&&0!=(l&255)&&255!=(l&255)&&(B.unmult=255/(l&255),t=Math.round((l>>24&255)*B.unmult),t=B.__clamp[t],m=Math.round((l>>16&255)*B.unmult),m=B.__clamp[m],p=Math.round((l>>8&255)*B.unmult),l=(t&255)<<24|(m&255)<<16|(B.__clamp[p]&255)<<8|l&255);switch(k){case 2:z=(v[f+2]&255)<<24|(v[f+1]&255)<<16|(v[f]&255)<<8|v[f+3]&255;break;case 0:z=
(v[f]&255)<<24|(v[f+1]&255)<<16|(v[f+2]&255)<<8|v[f+3]&255;break;case 1:z=(v[f+1]&255)<<24|(v[f+2]&255)<<16|(v[f+3]&255)<<8|v[f]&255}q&&0!=(z&255)&&255!=(z&255)&&(B.unmult=255/(z&255),t=Math.round((z>>24&255)*B.unmult),t=B.__clamp[t],m=Math.round((z>>16&255)*B.unmult),m=B.__clamp[m],p=Math.round((z>>8&255)*B.unmult),z=(t&255)<<24|(m&255)<<16|(B.__clamp[p]&255)<<8|z&255);switch(g){case 2:w=(b[C+2]&255)<<24|(b[C+1]&255)<<16|(b[C]&255)<<8|b[C+3]&255;break;case 0:w=(b[C]&255)<<24|(b[C+1]&255)<<16|(b[C+
2]&255)<<8|b[C+3]&255;break;case 1:w=(b[C+1]&255)<<24|(b[C+2]&255)<<16|(b[C+3]&255)<<8|b[C]&255}y&&0!=(w&255)&&255!=(w&255)&&(B.unmult=255/(w&255),t=Math.round((w>>24&255)*B.unmult),t=B.__clamp[t],m=Math.round((w>>16&255)*B.unmult),m=B.__clamp[m],p=Math.round((w>>8&255)*B.unmult),w=(t&255)<<24|(m&255)<<16|(B.__clamp[p]&255)<<8|w&255);m=(w&255)/255;p=(z&255)/255;r=1-m;t=m+p*r;if(0==t)z=0;else{var G;G=Math.round(((l>>24&255)*m+(z>>24&255)*p*r)/t);G=B.__clamp[G];z=(G&255)<<24|(z>>16&255)<<16|(z>>8&255)<<
8|z&255;G;G=Math.round(((l>>16&255)*m+(z>>16&255)*p*r)/t);G=B.__clamp[G];z=(z>>24&255)<<24|(G&255)<<16|(z>>8&255)<<8|z&255;G;m=Math.round(((l>>8&255)*m+(z>>8&255)*p*r)/t);m=B.__clamp[m];z=(z>>24&255)<<24|(z>>16&255)<<16|(m&255)<<8|z&255;m;t=Math.round(255*t);t=B.__clamp[t];z=(z>>24&255)<<24|(z>>16&255)<<16|(z>>8&255)<<8|t&255;t}q&&(0==(z&255)?0!=z&&(z=0):255!=(z&255)&&(B.a16=B.__alpha16[z&255],z=((z>>24&255)*B.a16>>16&255)<<24|((z>>16&255)*B.a16>>16&255)<<16|((z>>8&255)*B.a16>>16&255)<<8|z&255));
switch(k){case 2:v[f]=z>>8&255;v[f+1]=z>>16&255;v[f+2]=z>>24&255;v[f+3]=z&255;break;case 0:v[f]=z>>24&255;v[f+1]=z>>16&255;v[f+2]=z>>8&255;v[f+3]=z&255;break;case 1:v[f]=z&255,v[f+1]=z>>24&255,v[f+2]=z>>16&255,v[f+3]=z>>8&255}e+=4;f+=4}}}}else for(z=0,w=d.height;z<w;)for(f=z++,e=c.offset+c.stride*f,f=d.offset+d.stride*f,b=0,g=d.width;b<g;){b++;switch(h){case 2:l=(n[e+2]&255)<<24|(n[e+1]&255)<<16|(n[e]&255)<<8|n[e+3]&255;break;case 0:l=(n[e]&255)<<24|(n[e+1]&255)<<16|(n[e+2]&255)<<8|n[e+3]&255;break;
case 1:l=(n[e+1]&255)<<24|(n[e+2]&255)<<16|(n[e+3]&255)<<8|n[e]&255}x&&0!=(l&255)&&255!=(l&255)&&(B.unmult=255/(l&255),y=Math.round((l>>24&255)*B.unmult),y=B.__clamp[y],u=Math.round((l>>16&255)*B.unmult),u=B.__clamp[u],A=Math.round((l>>8&255)*B.unmult),l=(y&255)<<24|(u&255)<<16|(B.__clamp[A]&255)<<8|l&255);q&&(0==(l&255)?0!=l&&(l=0):255!=(l&255)&&(B.a16=B.__alpha16[l&255],l=((l>>24&255)*B.a16>>16&255)<<24|((l>>16&255)*B.a16>>16&255)<<16|((l>>8&255)*B.a16>>16&255)<<8|l&255));switch(k){case 2:v[f]=
l>>8&255;v[f+1]=l>>16&255;v[f+2]=l>>24&255;v[f+3]=l&255;break;case 0:v[f]=l>>24&255;v[f+1]=l>>16&255;v[f+2]=l>>8&255;v[f+3]=l&255;break;case 1:v[f]=l&255,v[f+1]=l>>24&255,v[f+2]=l>>16&255,v[f+3]=l>>8&255}e+=4;f+=4}a.dirty=!0;a.version++}};hb.fillRect=function(a,b,c,d){switch(d){case 1:c=(c>>16&255)<<24|(c>>8&255)<<16|(c&255)<<8|c>>24&255;break;case 2:c=(c>>8&255)<<24|(c>>16&255)<<16|(c>>24&255)<<8|c&255;break}a.get_transparent()||(c=(c>>24&255)<<24|(c>>16&255)<<16|(c>>8&255)<<8|255,255);d=a.buffer.data;
if(null!=d){var e=a.buffer.format;a.buffer.premultiplied&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(B.a16=B.__alpha16[c&255],c=((c>>24&255)*B.a16>>16&255)<<24|((c>>16&255)*B.a16>>16&255)<<16|((c>>8&255)*B.a16>>16&255)<<8|c&255));b=new qc(a,b);for(var f,g=0,n=b.height;g<n;){f=g++;f=b.offset+b.stride*f;for(var v=0,h=b.width;v<h;){var k=v++,k=f+4*k;switch(e){case 2:d[k]=c>>8&255;d[k+1]=c>>16&255;d[k+2]=c>>24&255;d[k+3]=c&255;break;case 0:d[k]=c>>24&255;d[k+1]=c>>16&255;d[k+2]=c>>8&255;d[k+3]=c&255;break;
case 1:d[k]=c&255,d[k+1]=c>>24&255,d[k+2]=c>>16&255,d[k+3]=c>>8&255}}}a.dirty=!0;a.version++}};hb.multiplyAlpha=function(a){var b=a.buffer.data;if(null!=b&&a.buffer.transparent){for(var c=a.buffer.format,d=b.length/4|0,e,f=0;f<d;){var g=f++,n=4*g;switch(c){case 2:e=(b[n+2]&255)<<24|(b[n+1]&255)<<16|(b[n]&255)<<8|b[n+3]&255;break;case 0:e=(b[n]&255)<<24|(b[n+1]&255)<<16|(b[n+2]&255)<<8|b[n+3]&255;break;case 1:e=(b[n+1]&255)<<24|(b[n+2]&255)<<16|(b[n+3]&255)<<8|b[n]&255}g*=4;0==(e&255)?0!=e&&(e=0):
255!=(e&255)&&(B.a16=B.__alpha16[e&255],e=((e>>24&255)*B.a16>>16&255)<<24|((e>>16&255)*B.a16>>16&255)<<16|((e>>8&255)*B.a16>>16&255)<<8|e&255);switch(c){case 2:b[g]=e>>8&255;b[g+1]=e>>16&255;b[g+2]=e>>24&255;b[g+3]=e&255;break;case 0:b[g]=e>>24&255;b[g+1]=e>>16&255;b[g+2]=e>>8&255;b[g+3]=e&255;break;case 1:b[g]=e&255,b[g+1]=e>>24&255,b[g+2]=e>>16&255,b[g+3]=e>>8&255}}a.buffer.premultiplied=!0;a.dirty=!0;a.version++}};hb.setFormat=function(a,b){var c=a.buffer.data;if(null!=c){var d,e=c.length/4|0,
f,g,n,v,h,k,l,q,m,p,r,t;switch(a.get_format()){case 0:f=0;g=1;n=2;v=3;break;case 1:f=1;g=2;n=3;v=0;break;case 2:f=2,g=1,n=0,v=3}switch(b){case 0:h=0;k=1;l=2;q=3;break;case 1:h=1;k=2;l=3;q=0;break;case 2:h=2,k=1,l=0,q=3}for(var u=0;u<e;)d=4*u++,m=c[d+f],p=c[d+g],r=c[d+n],t=c[d+v],c[d+h]=m,c[d+k]=p,c[d+l]=r,c[d+q]=t;a.buffer.format=b;a.dirty=!0;a.version++}};hb.setPixel32=function(a,b,c,d,e){switch(e){case 1:d=(d>>16&255)<<24|(d>>8&255)<<16|(d&255)<<8|d>>24&255;break;case 2:d=(d>>8&255)<<24|(d>>16&
255)<<16|(d>>24&255)<<8|d&255;break}a.get_transparent()||(d=(d>>24&255)<<24|(d>>16&255)<<16|(d>>8&255)<<8|255,255);e=a.buffer.data;b=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);a.buffer.premultiplied&&(0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(B.a16=B.__alpha16[d&255],d=((d>>24&255)*B.a16>>16&255)<<24|((d>>16&255)*B.a16>>16&255)<<16|((d>>8&255)*B.a16>>16&255)<<8|d&255));switch(a.buffer.format){case 2:e[b]=d>>8&255;e[b+1]=d>>16&255;e[b+2]=d>>24&255;e[b+3]=d&255;break;case 0:e[b]=d>>24&255;e[b+1]=d>>
16&255;e[b+2]=d>>8&255;e[b+3]=d&255;break;case 1:e[b]=d&255,e[b+1]=d>>24&255,e[b+2]=d>>16&255,e[b+3]=d>>8&255}a.dirty=!0;a.version++};hb.setPixels=function(a,b,c,d){if(null!=a.buffer.data){var e=a.buffer.data,f=a.buffer.format,g=a.buffer.premultiplied;b=new qc(a,b);for(var n,h,k=a.get_transparent(),l=0,x=0,q=b.height;x<q;){n=x++;n=b.offset+b.stride*n;for(var m=0,p=b.width;m<p;){var r=m++;h=c.b[l+3]|c.b[l+2]<<8|c.b[l+1]<<16|c.b[l]<<24;l+=4;switch(d){case 1:var t=0;h=t=(h>>16&255)<<24|(h>>8&255)<<16|
(h&255)<<8|h>>24&255;break;case 2:t=0;h=t=(h>>8&255)<<24|(h>>16&255)<<16|(h>>24&255)<<8|h&255;break}k||(h=(h>>24&255)<<24|(h>>16&255)<<16|(h>>8&255)<<8|255,255);r=n+4*r;g&&(0==(h&255)?0!=h&&(h=0):255!=(h&255)&&(B.a16=B.__alpha16[h&255],h=((h>>24&255)*B.a16>>16&255)<<24|((h>>16&255)*B.a16>>16&255)<<16|((h>>8&255)*B.a16>>16&255)<<8|h&255));switch(f){case 2:e[r]=h>>8&255;e[r+1]=h>>16&255;e[r+2]=h>>24&255;e[r+3]=h&255;break;case 0:e[r]=h>>24&255;e[r+1]=h>>16&255;e[r+2]=h>>8&255;e[r+3]=h&255;break;case 1:e[r]=
h&255,e[r+1]=h>>24&255,e[r+2]=h>>16&255,e[r+3]=h>>8&255}}}a.dirty=!0;a.version++}};hb.unmultiplyAlpha=function(a){var b=a.buffer.data;if(null!=b){for(var c=a.buffer.format,d=b.length/4|0,e,f=0;f<d;){var g=f++,n=4*g;switch(c){case 2:e=(b[n+2]&255)<<24|(b[n+1]&255)<<16|(b[n]&255)<<8|b[n+3]&255;break;case 0:e=(b[n]&255)<<24|(b[n+1]&255)<<16|(b[n+2]&255)<<8|b[n+3]&255;break;case 1:e=(b[n+1]&255)<<24|(b[n+2]&255)<<16|(b[n+3]&255)<<8|b[n]&255}if(0!=(e&255)&&255!=(e&255)){B.unmult=255/(e&255);var n=Math.round((e>>
24&255)*B.unmult),n=B.__clamp[n],h;h=Math.round((e>>16&255)*B.unmult);h=B.__clamp[h];var k=Math.round((e>>8&255)*B.unmult);e=(n&255)<<24|(h&255)<<16|(B.__clamp[k]&255)<<8|e&255}g*=4;switch(c){case 2:b[g]=e>>8&255;b[g+1]=e>>16&255;b[g+2]=e>>24&255;b[g+3]=e&255;break;case 0:b[g]=e>>24&255;b[g+1]=e>>16&255;b[g+2]=e>>8&255;b[g+3]=e&255;break;case 1:b[g]=e&255,b[g+1]=e>>24&255,b[g+2]=e>>16&255,b[g+3]=e>>8&255}}a.buffer.premultiplied=!1;a.dirty=!0;a.version++}};var qc=function(a,b){this.image=a;null==b?
this.rect=a.get_rect():(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+a.offsetY)+4*(this.x+a.offsetX)};h["lime.graphics.utils._ImageDataUtil.ImageDataView"]=qc;
qc.__name__=["lime","graphics","utils","_ImageDataUtil","ImageDataView"];qc.prototype={__class__:qc};var Sa={};h["lime.math._ColorMatrix.ColorMatrix_Impl_"]=Sa;Sa.__name__=["lime","math","_ColorMatrix","ColorMatrix_Impl_"];Sa.getAlphaTable=function(a){if(null==Sa.__alphaTable){var b;b=new fc(256);Sa.__alphaTable=b}Sa.__alphaTable[0]=0;for(var c=1;256>c;){var d=c++;b=Math.floor(d*a[18]+255*a[19]);255<b&&(b=255);0>b&&(b=0);Sa.__alphaTable[d]=b}return Sa.__alphaTable};Sa.getBlueTable=function(a){if(null==
Sa.__blueTable){var b;b=new fc(256);Sa.__blueTable=b}for(var c=0;256>c;){var d=c++;b=Math.floor(d*a[12]+255*a[14]);255<b&&(b=255);0>b&&(b=0);Sa.__blueTable[d]=b}return Sa.__blueTable};Sa.getGreenTable=function(a){if(null==Sa.__greenTable){var b;b=new fc(256);Sa.__greenTable=b}for(var c=0;256>c;){var d=c++;b=Math.floor(d*a[6]+255*a[9]);255<b&&(b=255);0>b&&(b=0);Sa.__greenTable[d]=b}return Sa.__greenTable};Sa.getRedTable=function(a){if(null==Sa.__redTable){var b;b=new fc(256);Sa.__redTable=b}for(var c=
0;256>c;){var d=c++;b=Math.floor(d*a[0]+255*a[4]);255<b&&(b=255);0>b&&(b=0);Sa.__redTable[d]=b}return Sa.__redTable};Sa.__toFlashColorTransform=function(a){return null};var oa={};h["lime.math._Matrix4.Matrix4_Impl_"]=oa;oa.__name__=["lime","math","_Matrix4","Matrix4_Impl_"];oa._new=function(a){if(null==a||16!=a.length)a=oa.__identity,a=null!=a?new Float32Array(a):null;return a};oa.append=function(a,b){var c=a[0],d=a[4],e=a[8],f=a[12],g=a[1],n=a[5],h=a[9],k=a[13],l=a[2],x=a[6],q=a[10],m=a[14],p=a[3],
r=a[7],t=a[11],u=a[15],z=oa.get(b,0),w=oa.get(b,4),y=oa.get(b,8),B=oa.get(b,12),A=oa.get(b,1),C=oa.get(b,5),E=oa.get(b,9),G=oa.get(b,13),D=oa.get(b,2),F=oa.get(b,6),I=oa.get(b,10),H=oa.get(b,14),K=oa.get(b,3),N=oa.get(b,7),J=oa.get(b,11),O=oa.get(b,15);a[0]=c*z+g*w+l*y+p*B;a[1]=c*A+g*C+l*E+p*G;a[2]=c*D+g*F+l*I+p*H;a[3]=c*K+g*N+l*J+p*O;a[4]=d*z+n*w+x*y+r*B;a[5]=d*A+n*C+x*E+r*G;a[6]=d*D+n*F+x*I+r*H;a[7]=d*K+n*N+x*J+r*O;a[8]=e*z+h*w+q*y+t*B;a[9]=e*A+h*C+q*E+t*G;a[10]=e*D+h*F+q*I+t*H;a[11]=e*K+h*N+q*
J+t*O;a[12]=f*z+k*w+m*y+u*B;a[13]=f*A+k*C+m*E+u*G;a[14]=f*D+k*F+m*I+u*H;a[15]=f*K+k*N+m*J+u*O};oa.createOrtho=function(a,b,c,d,e,f){var g=1/(b-a),n=1/(d-c),h=1/(f-e);return oa._new(function(k){k=[2*g,0,0,0,0,2*n,0,0,0,0,-2*h,0,-(a+b)*g,-(c+d)*n,-(e+f)*h,1];return null!=k?new Float32Array(k):null}(this))};oa.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1};oa.get=function(a,b){return a[b]};oa.set=function(a,
b,c){return a[b]=c};var kc=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};h["lime.math.Rectangle"]=kc;kc.__name__=["lime","math","Rectangle"];kc.prototype={offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__toFlashRectangle:function(){return null},__class__:kc};var Kc=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["lime.math.Vector2"]=Kc;Kc.__name__=
["lime","math","Vector2"];Kc.prototype={offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b){this.x=a;this.y=b},__toFlashPoint:function(){return null},__class__:Kc};var wf=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.w=d;this.x=a;this.y=b;this.z=c};h["lime.math.Vector4"]=wf;wf.__name__=["lime","math","Vector4"];wf.prototype={__class__:wf};var B={};h["lime.math.color._RGBA.RGBA_Impl_"]=B;B.__name__=["lime","math","color","_RGBA","RGBA_Impl_"];var xe=function(){this.promise=
new ad};h["lime.net.HTTPRequest"]=xe;xe.__name__=["lime","net","HTTPRequest"];xe.prototype={load:function(a){var b=this;this.bytesTotal=this.bytesLoaded=0;var c=new XMLHttpRequest;c.addEventListener("progress",l(this,this.request_onProgress),!1);c.onreadystatechange=function(){4==c.readyState&&(null!=c.status&&200<=c.status&&400>=c.status?(b.bytes=Cc.ofData(c.response),b.promise.complete(b.bytes)):b.promise.error(c.status))};c.open("GET",a,!0);c.responseType="arraybuffer";c.send("");return this.promise.future},
request_onProgress:function(a){this.promise.progress(a.loaded/a.total)},__class__:xe};var cd=function(){};h["lime.system.Clipboard"]=cd;cd.__name__=["lime","system","Clipboard"];cd.__properties__={set_text:"set_text",get_text:"get_text"};cd.get_text=function(){return null};cd.set_text=function(a){return null};var De=function(){};h["lime.system.System"]=De;De.__name__=["lime","system","System"];De.embed=Wd.lime.embed=function(a,b,c,d,e){var f=null,f="string"==typeof a?window.document.getElementById(u.__cast(a,
String)):null==a?window.document.createElement("div"):a;a=null;null!=d&&""!=d&&(d=da.replace(d,"#",""),a=-1<d.indexOf("0x")?w.parseInt(d):w.parseInt("0x"+d));null==b&&(b=0);null==c&&(c=0);Pa.config.windows[0].background=a;Pa.config.windows[0].element=f;Pa.config.windows[0].width=b;Pa.config.windows[0].height=c;Pa.config.assetsPrefix=e;Pa.create()};De.getTimer=function(){return(new Date).getTime()};var Bf=function(a,b){null==b&&(b=1);null==a&&(a=0);this.onError=new Ed;this.onComplete=new Ed;this.doWork=
new Ed;this.minThreads=a;this.maxThreads=b;this.currentThreads=0};h["lime.system.ThreadPool"]=Bf;Bf.__name__=["lime","system","ThreadPool"];Bf.prototype={queue:function(a){this.doWork.dispatch(a)},sendComplete:function(a){this.onComplete.dispatch(a)},sendError:function(a){this.onError.dispatch(a)},__class__:Bf};var jb=function(a){this.onDisconnect=new gb;this.onButtonUp=new Be;this.onButtonDown=new Be;this.onAxisMove=new Ff;this.id=a;this.connected=!0};h["lime.ui.Gamepad"]=jb;jb.__name__=["lime",
"ui","Gamepad"];jb.__connect=function(a){if(!jb.devices.h.hasOwnProperty(a)){var b=new jb(a);jb.devices.h[a]=b;jb.onConnect.dispatch(b)}};jb.__disconnect=function(a){var b=jb.devices.h[a];null!=b&&(b.connected=!1);jb.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};jb.prototype={get_guid:function(){return db.__getDeviceData()[this.id].id},get_name:function(){return db.__getDeviceData()[this.id].id},__class__:jb,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var db=function(a){this.onTrackballMove=
new ze;this.onHatMove=new Cf;this.onDisconnect=new gb;this.onButtonUp=new $c;this.onButtonDown=new $c;this.onAxisMove=new ze;this.id=a;this.connected=!0};h["lime.ui.Joystick"]=db;db.__name__=["lime","ui","Joystick"];db.__connect=function(a){if(!db.devices.h.hasOwnProperty(a)){var b=new db(a);db.devices.h[a]=b;db.onConnect.dispatch(b)}};db.__disconnect=function(a){var b=db.devices.h[a];null!=b&&(b.connected=!1);db.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};db.__getDeviceData=function(){return navigator.getGamepads?
navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null};db.prototype={__class__:db};var ub={};h["lime.ui._KeyModifier.KeyModifier_Impl_"]=ub;ub.__name__=["lime","ui","_KeyModifier","KeyModifier_Impl_"];ub.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"};ub.get_altKey=function(a){return 0<(a&256)||0<(a&512)};ub.get_ctrlKey=function(a){return 0<(a&64)||0<(a&128)};ub.get_metaKey=function(a){return 0<
(a&1024)||0<(a&2048)};ub.get_shiftKey=function(a){return 0<(a&1)||0<(a&2)};var Dc=function(){};h["lime.ui.Mouse"]=Dc;Dc.__name__=["lime","ui","Mouse"];Dc.__properties__={set_cursor:"set_cursor"};Dc.set_cursor=function(a){return Zc.set_cursor(a)};var Q=h["lime.ui.MouseCursor"]={__ename__:!0,__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};Q.ARROW=["ARROW",0];Q.ARROW.toString=H;Q.ARROW.__enum__=Q;Q.CROSSHAIR=["CROSSHAIR",
1];Q.CROSSHAIR.toString=H;Q.CROSSHAIR.__enum__=Q;Q.DEFAULT=["DEFAULT",2];Q.DEFAULT.toString=H;Q.DEFAULT.__enum__=Q;Q.MOVE=["MOVE",3];Q.MOVE.toString=H;Q.MOVE.__enum__=Q;Q.POINTER=["POINTER",4];Q.POINTER.toString=H;Q.POINTER.__enum__=Q;Q.RESIZE_NESW=["RESIZE_NESW",5];Q.RESIZE_NESW.toString=H;Q.RESIZE_NESW.__enum__=Q;Q.RESIZE_NS=["RESIZE_NS",6];Q.RESIZE_NS.toString=H;Q.RESIZE_NS.__enum__=Q;Q.RESIZE_NWSE=["RESIZE_NWSE",7];Q.RESIZE_NWSE.toString=H;Q.RESIZE_NWSE.__enum__=Q;Q.RESIZE_WE=["RESIZE_WE",8];
Q.RESIZE_WE.toString=H;Q.RESIZE_WE.__enum__=Q;Q.TEXT=["TEXT",9];Q.TEXT.toString=H;Q.TEXT.__enum__=Q;Q.WAIT=["WAIT",10];Q.WAIT.toString=H;Q.WAIT.__enum__=Q;Q.WAIT_ARROW=["WAIT_ARROW",11];Q.WAIT_ARROW.toString=H;Q.WAIT_ARROW.__enum__=Q;Q.CUSTOM=["CUSTOM",12];Q.CUSTOM.toString=H;Q.CUSTOM.__enum__=Q;var Ib=function(a,b,c,d,e,f,g){this.x=a;this.y=b;this.id=c;this.dx=d;this.dy=e;this.pressure=f;this.device=g};h["lime.ui.Touch"]=Ib;Ib.__name__=["lime","ui","Touch"];Ib.prototype={__class__:Ib};var dd=function(a){this.onTextInput=
new Ae;this.onTextEdit=new Df;this.onRestore=new gb;this.onResize=new we;this.onMove=new bd;this.onMouseWheel=new bd;this.onMouseUp=new ye;this.onMouseMoveRelative=new bd;this.onMouseMove=new bd;this.onMouseDown=new ye;this.onMinimize=new gb;this.onLeave=new gb;this.onKeyUp=new Ce;this.onKeyDown=new Ce;this.onFullscreen=new gb;this.onFocusOut=new gb;this.onFocusIn=new gb;this.onEnter=new gb;this.onDropFile=new Ae;this.onDeactivate=new gb;this.onCreate=new gb;this.onClose=new gb;this.onActivate=new gb;
this.config=a;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=a&&(Object.prototype.hasOwnProperty.call(a,"width")&&(this.__width=a.width),Object.prototype.hasOwnProperty.call(a,"height")&&(this.__height=a.height),Object.prototype.hasOwnProperty.call(a,"x")&&(this.__x=a.x),Object.prototype.hasOwnProperty.call(a,"y")&&(this.__y=a.y),Object.prototype.hasOwnProperty.call(a,"fullscreen")&&(this.__fullscreen=a.fullscreen),Object.prototype.hasOwnProperty.call(a,
"borderless")&&(this.__borderless=a.borderless),Object.prototype.hasOwnProperty.call(a,"resizable")&&(this.__resizable=a.resizable),Object.prototype.hasOwnProperty.call(a,"title")&&(this.__title=a.title));this.backend=new na(this)};h["lime.ui.Window"]=dd;dd.__name__=["lime","ui","Window"];dd.prototype={close:function(){this.backend.close()},create:function(a){this.application=a;this.backend.create(a);null!=this.renderer&&this.renderer.create()},resize:function(a,b){this.backend.resize(a,b);this.__width=
a;this.__height=b},set_fullscreen:function(a){return this.__fullscreen=this.backend.setFullscreen(a)},set_height:function(a){this.resize(this.__width,a);return this.__height},set_width:function(a){this.resize(a,this.__height);return this.__width},__class__:dd,__properties__:{set_width:"set_width",set_height:"set_height",set_fullscreen:"set_fullscreen"}};var Cc=function(a,b){sb.call(this,b)};h["lime.utils.Bytes"]=Cc;Cc.__name__=["lime","utils","Bytes"];Cc.alloc=function(a){a=sb.alloc(a);return new Cc(a.length,
a.b.bufferValue)};Cc.ofData=function(a){a=sb.ofData(a);return new Cc(a.length,a.b.bufferValue)};Cc.__super__=sb;Cc.prototype=r(sb.prototype,{__class__:Cc});var Hd=function(){};h["lime.utils.GLUtils"]=Hd;Hd.__name__=["lime","utils","GLUtils"];Hd.compileShader=function(a,b){var c=p.context.createShader(b);p.context.shaderSource(c,a);p.context.compileShader(c);if(0==p.context.getShaderParameter(c,35713))switch(b){case 35633:throw new m("Error compiling vertex shader");case 35632:throw new m("Error compiling fragment shader");
default:throw new m("Error compiling unknown shader type");}return c};Hd.createProgram=function(a,b){var c=Hd.compileShader(a,35633),d=Hd.compileShader(b,35632),e=p.context.createProgram();p.context.attachShader(e,c);p.context.attachShader(e,d);p.context.linkProgram(e);if(0==p.context.getProgramParameter(e,35714))throw new m("Unable to initialize the shader program.");return e};var Wb=function(){};h["lime.utils.Log"]=Wb;Wb.__name__=["lime","utils","Log"];Wb.info=function(a,b){3<=Wb.level&&Tc.log("["+
b.className+"] "+a)};var sg=function(){};h["lime.utils.compress.Deflate"]=sg;sg.__name__=["lime","utils","compress","Deflate"];sg.decompress=function(a){a=pako.inflateRaw(a.b.bufferValue);return sb.ofData(a)};var tg=function(){};h["lime.utils.compress.LZMA"]=tg;tg.__name__=["lime","utils","compress","LZMA"];tg.decompress=function(a){return null};var ug=function(){};h["lime.utils.compress.Zlib"]=ug;ug.__name__=["lime","utils","compress","Zlib"];ug.decompress=function(a){a=pako.inflate(a.b.bufferValue);
return sb.ofData(a)};var Kf=function(){};h["openfl.IAssetCache"]=Kf;Kf.__name__=["openfl","IAssetCache"];Kf.prototype={__class__:Kf,__properties__:{get_enabled:"get_enabled"}};var Ee=function(){this.__enabled=!0;this.bitmapData=new ja;this.font=new ja;this.sound=new ja};h["openfl.AssetCache"]=Ee;Ee.__name__=["openfl","AssetCache"];Ee.__interfaces__=[Kf];Ee.prototype={getBitmapData:function(a){return this.bitmapData.get(a)},getSound:function(a){return this.sound.get(a)},hasBitmapData:function(a){return this.bitmapData.exists(a)},
hasSound:function(a){return this.sound.exists(a)},setBitmapData:function(a,b){this.bitmapData.set(a,b)},setSound:function(a,b){this.sound.set(a,b)},get_enabled:function(){return this.__enabled},__class__:Ee,__properties__:{get_enabled:"get_enabled"}};var Xa=function(){};h["openfl.Assets"]=Xa;Xa.__name__=["openfl","Assets"];Xa.getBitmapData=function(a,b){null==b&&(b=!0);if(b&&Xa.cache.get_enabled()&&Xa.cache.hasBitmapData(a)){var c=Xa.cache.getBitmapData(a);if(Xa.isValidBitmapData(c))return c}c=Y.getImage(a,
!1);return null!=c?(c=vb.fromImage(c),b&&Xa.cache.get_enabled()&&Xa.cache.setBitmapData(a,c),c):null};Xa.getSound=function(a,b){null==b&&(b=!0);if(b&&Xa.cache.get_enabled()&&Xa.cache.hasSound(a)){var c=Xa.cache.getSound(a);if(Xa.isValidSound(c))return c}c=Y.getAudioBuffer(a,!1);return null!=c?(c=ed.fromAudioBuffer(c),b&&Xa.cache.get_enabled()&&Xa.cache.setSound(a,c),c):null};Xa.getText=function(a){return Y.getText(a)};Xa.isValidBitmapData=function(a){return null!=a&&null!=a.image};Xa.isValidSound=
function(a){return!0};var Fe=function(){yb.call(this);this.__currentFrame=0;this.__currentLabels=[];this.__totalFrames=0;this.enabled=!0};h["openfl.display.MovieClip"]=Fe;Fe.__name__=["openfl","display","MovieClip"];Fe.__super__=yb;Fe.prototype=r(yb.prototype,{__class__:Fe});var wc=function(){ea.call(this);this.applicationDomain=fd.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};h["openfl.display.LoaderInfo"]=wc;wc.__name__=["openfl","display","LoaderInfo"];
wc.create=function(a){var b=new wc;b.uncaughtErrorEvents=new Ge;null!=a?b.loader=a:b.url=wc.__rootURL;return b};wc.__super__=ea;wc.prototype=r(ea.prototype,{__class__:wc});var fd=function(a){this.parentDomain=null!=a?a:fd.currentDomain};h["openfl.system.ApplicationDomain"]=fd;fd.__name__=["openfl","system","ApplicationDomain"];fd.prototype={__class__:fd};var Ge=function(){ea.call(this)};h["openfl.events.UncaughtErrorEvents"]=Ge;Ge.__name__=["openfl","events","UncaughtErrorEvents"];Ge.__super__=ea;
Ge.prototype=r(ea.prototype,{__class__:Ge});var wb=function(a,b,c,d,e,f,g,n){null==n&&(n=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=b;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=e;this.greenOffset=f;this.blueOffset=g;this.alphaOffset=n};h["openfl.geom.ColorTransform"]=wb;wb.__name__=["openfl","geom","ColorTransform"];wb.prototype={__clone:function(){return new wb(this.redMultiplier,
this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(a){this.redMultiplier*=a.redMultiplier;this.greenMultiplier*=a.greenMultiplier;this.blueMultiplier*=a.blueMultiplier;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=a.redOffset;this.greenOffset+=a.greenOffset;this.blueOffset+=a.blueOffset;this.alphaOffset+=a.alphaOffset},__equals:function(a,b){null==b&&(b=!1);return null!=a&&this.redMultiplier==
a.redMultiplier&&this.greenMultiplier==a.greenMultiplier&&this.blueMultiplier==a.blueMultiplier&&(b||this.alphaMultiplier==a.alphaMultiplier)&&this.redOffset==a.redOffset&&this.greenOffset==a.greenOffset&&this.blueOffset==a.blueOffset&&this.alphaOffset==a.alphaOffset},__toLimeColorMatrix:function(){if(null==wb.__limeColorMatrix){var a;a=new Float32Array(20);wb.__limeColorMatrix=a}wb.__limeColorMatrix[0]=this.redMultiplier;wb.__limeColorMatrix[4]=this.redOffset/255;wb.__limeColorMatrix[6]=this.greenMultiplier;
wb.__limeColorMatrix[9]=this.greenOffset/255;wb.__limeColorMatrix[12]=this.blueMultiplier;wb.__limeColorMatrix[14]=this.blueOffset/255;wb.__limeColorMatrix[18]=this.alphaMultiplier;wb.__limeColorMatrix[19]=this.alphaOffset/255;return wb.__limeColorMatrix},__class__:wb};var Qa=function(){};h["openfl.Lib"]=Qa;Qa.__name__=["openfl","Lib"];Qa.embed=Wd.openfl.embed=function(a,b,c,d,e){De.embed(a,b,c,d,e)};Qa.getTimer=function(){return De.getTimer()};var gd=function(){};h["openfl._Vector.IVector"]=gd;gd.__name__=
["openfl","_Vector","IVector"];gd.prototype={__class__:gd};var zd=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};h["openfl._Vector.FloatVector"]=zd;zd.__name__=["openfl","_Vector","FloatVector"];zd.__interfaces__=[gd];zd.prototype={copy:function(){return new zd(null,this.fixed,this.__array.slice())},get:function(a){return this.__array[a]},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,b){return!this.fixed||a<
this.__array.length?this.__array[a]=b:b},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:zd,__properties__:{set_length:"set_length",get_length:"get_length"}};var Ad=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};h["openfl._Vector.FunctionVector"]=
Ad;Ad.__name__=["openfl","_Vector","FunctionVector"];Ad.__interfaces__=[gd];Ad.prototype={get:function(a){return a>=this.__array.length?null:this.__array[a]},indexOf:function(a,b){null==b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(T.compareMethods(this.__array[e],a))return e}return-1},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},slice:function(a,b){null==b&&(b=16777215);
null==a&&(a=0);return new Ad(null,null,this.__array.slice(a,b))},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=null}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Ad,__properties__:{set_length:"set_length",get_length:"get_length"}};var ge=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};h["openfl._Vector.IntVector"]=
ge;ge.__name__=["openfl","_Vector","IntVector"];ge.__interfaces__=[gd];ge.prototype={get:function(a){return this.__array[a]},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},
__class__:ge,__properties__:{set_length:"set_length",get_length:"get_length"}};var tc=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};h["openfl._Vector.ObjectVector"]=tc;tc.__name__=["openfl","_Vector","ObjectVector"];tc.__interfaces__=[gd];tc.prototype={concat:function(a){return null==a?new tc(null,null,this.__array.slice()):new tc(null,null,this.__array.concat(u.__cast(a,tc).__array))},copy:function(){return new tc(null,null,this.__array.slice())},get:function(a){return this.__array[a]},
indexOf:function(a,b){null==b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(this.__array[e]==a)return e}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},sort:function(a){this.__array.sort(a)},splice:function(a,b){return new tc(null,null,this.__array.splice(a,b))},unshift:function(a){this.fixed||this.__array.unshift(a)},
get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;)b++,this.__array.push(null);else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:tc,__properties__:{set_length:"set_length",get_length:"get_length"}};var He=function(){};h["openfl._internal.renderer.AbstractBlendModeManager"]=He;He.__name__=["openfl","_internal","renderer","AbstractBlendModeManager"];He.prototype={setBlendMode:function(a){},
__class__:He};var Ie=function(a){this.renderSession=a};h["openfl._internal.renderer.AbstractFilterManager"]=Ie;Ie.__name__=["openfl","_internal","renderer","AbstractFilterManager"];Ie.prototype={pushObject:function(a){return null},popObject:function(a){},__class__:Ie};var rc=function(a){this.renderSession=a};h["openfl._internal.renderer.AbstractMaskManager"]=rc;rc.__name__=["openfl","_internal","renderer","AbstractMaskManager"];rc.prototype={pushMask:function(a){},pushObject:function(a,b){},pushRect:function(a,
b){},popMask:function(){},popObject:function(a,b){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:rc};var Qb=function(a){this.stage=a;this.width=a.stageWidth;this.height=a.stageHeight};h["openfl._internal.renderer.AbstractRenderer"]=Qb;Qb.__name__=["openfl","_internal","renderer","AbstractRenderer"];Qb.prototype={clear:function(){},render:function(){},resize:function(a,b){this.width=a;this.height=b},__class__:Qb};var Je=function(){};h["openfl._internal.renderer.AbstractShaderManager"]=
Je;Je.__name__=["openfl","_internal","renderer","AbstractShaderManager"];Je.prototype={setShader:function(a){},__class__:Je};var Jb=function(){null==Jb.empty?(this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],this.copyOnWrite=!0):this.clear()};h["openfl._internal.renderer.DrawCommandBuffer"]=Jb;Jb.__name__=["openfl","_internal","renderer","DrawCommandBuffer"];Jb.prototype={append:function(a){if(0==this.get_length())return this.types=a.types,this.b=a.b,this.i=a.i,this.f=a.f,
this.o=a.o,this.ff=a.ff,this.ii=a.ii,this.copyOnWrite=a.copyOnWrite=!0,a;for(var b=new Ec(a),c=0,d=a.types;c<d.length;){var e=d[c];++c;switch(e[1]){case 0:e=b.readBeginBitmapFill();this.beginBitmapFill(Da.get_bitmap(e),Da.get_matrix(e),Da.get_repeat(e),Da.get_smooth(e));break;case 1:e=b.readBeginFill();this.beginFill(pb.get_color(e),pb.get_alpha(e));break;case 2:e=b.readBeginGradientFill();this.beginGradientFill(V.get_type(e),V.get_colors(e),V.get_alphas(e),V.get_ratios(e),V.get_matrix(e),V.get_spreadMethod(e),
V.get_interpolationMethod(e),V.get_focalPointRatio(e));break;case 3:e=b.readCubicCurveTo();this.cubicCurveTo(R.get_controlX1(e),R.get_controlY1(e),R.get_controlX2(e),R.get_controlY2(e),R.get_anchorX(e),R.get_anchorY(e));break;case 4:e=b.readCurveTo();this.curveTo(sa.get_controlX(e),sa.get_controlY(e),sa.get_anchorX(e),sa.get_anchorY(e));break;case 5:e=b.readDrawCircle();this.drawCircle(Ca.get_x(e),Ca.get_y(e),Ca.get_radius(e));break;case 6:e=b.readDrawEllipse();this.drawEllipse(ua.get_x(e),ua.get_y(e),
ua.get_width(e),ua.get_height(e));break;case 7:e=b.readDrawRect();this.drawRect(ba.get_x(e),ba.get_y(e),ba.get_width(e),ba.get_height(e));break;case 8:e=b.readDrawRoundRect();this.drawRoundRect(Z.get_x(e),Z.get_y(e),Z.get_width(e),Z.get_height(e),Z.get_ellipseWidth(e),Z.get_ellipseHeight(e));break;case 10:e=b.readDrawTriangles();this.drawTriangles(Kb.get_vertices(e),Kb.get_indices(e),Kb.get_uvtData(e),Kb.get_culling(e));break;case 11:b.readEndFill();this.endFill();break;case 12:e=b.readLineBitmapStyle();
this.lineBitmapStyle(kb.get_bitmap(e),kb.get_matrix(e),kb.get_repeat(e),kb.get_smooth(e));break;case 13:e=b.readLineGradientStyle();this.lineGradientStyle(ta.get_type(e),ta.get_colors(e),ta.get_alphas(e),ta.get_ratios(e),ta.get_matrix(e),ta.get_spreadMethod(e),ta.get_interpolationMethod(e),ta.get_focalPointRatio(e));break;case 14:e=b.readLineStyle();this.lineStyle(ka.get_thickness(e),ka.get_color(e),ka.get_alpha(e),ka.get_pixelHinting(e),ka.get_scaleMode(e),ka.get_caps(e),ka.get_joints(e),ka.get_miterLimit(e));
break;case 15:e=b.readLineTo();this.lineTo(Ta.get_x(e),Ta.get_y(e));break;case 16:e=b.readMoveTo();this.moveTo(Ka.get_x(e),Ka.get_y(e));break;case 17:e=b.readOverrideMatrix(),this.overrideMatrix(Id.get_matrix(e))}}b.destroy();return a},beginBitmapFill:function(a,b,c,d){this.prepareWrite();this.types.push(y.BEGIN_BITMAP_FILL);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},beginFill:function(a,b){this.prepareWrite();this.types.push(y.BEGIN_FILL);this.i.push(a);this.f.push(b)},beginGradientFill:function(a,
b,c,d,e,f,g,n){this.prepareWrite();this.types.push(y.BEGIN_GRADIENT_FILL);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(n)},clear:function(){this.types=Jb.empty.types;this.b=Jb.empty.b;this.i=Jb.empty.i;this.f=Jb.empty.f;this.o=Jb.empty.o;this.ff=Jb.empty.ff;this.ii=Jb.empty.ii;this.copyOnWrite=!0},cubicCurveTo:function(a,b,c,d,e,f){this.prepareWrite();this.types.push(y.CUBIC_CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);
this.f.push(d);this.f.push(e);this.f.push(f)},curveTo:function(a,b,c,d){this.prepareWrite();this.types.push(y.CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawCircle:function(a,b,c){this.prepareWrite();this.types.push(y.DRAW_CIRCLE);this.f.push(a);this.f.push(b);this.f.push(c)},drawEllipse:function(a,b,c,d){this.prepareWrite();this.types.push(y.DRAW_ELLIPSE);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRect:function(a,b,c,d){this.prepareWrite();this.types.push(y.DRAW_RECT);
this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRoundRect:function(a,b,c,d,e,f){this.prepareWrite();this.types.push(y.DRAW_ROUND_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.o.push(f)},drawTriangles:function(a,b,c,d){this.prepareWrite();this.types.push(y.DRAW_TRIANGLES);this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(d)},endFill:function(){this.prepareWrite();this.types.push(y.END_FILL)},lineBitmapStyle:function(a,b,c,d){this.prepareWrite();
this.types.push(y.LINE_BITMAP_STYLE);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},lineGradientStyle:function(a,b,c,d,e,f,g,n){this.prepareWrite();this.types.push(y.LINE_GRADIENT_STYLE);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(n)},lineStyle:function(a,b,c,d,e,f,g,n){this.prepareWrite();this.types.push(y.LINE_STYLE);this.o.push(a);this.i.push(b);this.f.push(c);this.b.push(d);this.o.push(e);this.o.push(f);
this.o.push(g);this.f.push(n)},lineTo:function(a,b){this.prepareWrite();this.types.push(y.LINE_TO);this.f.push(a);this.f.push(b)},moveTo:function(a,b){this.prepareWrite();this.types.push(y.MOVE_TO);this.f.push(a);this.f.push(b)},prepareWrite:function(){this.copyOnWrite&&(this.types=this.types.slice(),this.b=this.b.slice(),this.i=this.i.slice(),this.f=this.f.slice(),this.o=this.o.slice(),this.ff=this.ff.slice(),this.ii=this.ii.slice(),this.copyOnWrite=!1)},overrideMatrix:function(a){this.prepareWrite();
this.types.push(y.OVERRIDE_MATRIX);this.o.push(a)},get_length:function(){return this.types.length},__class__:Jb,__properties__:{get_length:"get_length"}};var Ec=function(a){this.buffer=a;this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0;this.prev=y.UNKNOWN};h["openfl._internal.renderer.DrawCommandReader"]=Ec;Ec.__name__=["openfl","_internal","renderer","DrawCommandReader"];Ec.prototype={advance:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=
1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=
2;break;case 17:this.oPos+=1}},bool:function(a){return this.buffer.b[this.bPos+a]},destroy:function(){this.buffer=null;this.reset()},fArr:function(a){return this.buffer.ff[this.ffPos+a]},"float":function(a){return this.buffer.f[this.fPos+a]},iArr:function(a){return this.buffer.ii[this.iiPos+a]},"int":function(a){return this.buffer.i[this.iPos+a]},obj:function(a){return this.buffer.o[this.oPos+a]},readBeginBitmapFill:function(){this.advance();this.prev=y.BEGIN_BITMAP_FILL;return Da._new(this)},readBeginFill:function(){this.advance();
this.prev=y.BEGIN_FILL;return pb._new(this)},readBeginGradientFill:function(){this.advance();this.prev=y.BEGIN_GRADIENT_FILL;return V._new(this)},readCubicCurveTo:function(){this.advance();this.prev=y.CUBIC_CURVE_TO;return R._new(this)},readCurveTo:function(){this.advance();this.prev=y.CURVE_TO;return sa._new(this)},readDrawCircle:function(){this.advance();this.prev=y.DRAW_CIRCLE;return Ca._new(this)},readDrawEllipse:function(){this.advance();this.prev=y.DRAW_ELLIPSE;return ua._new(this)},readDrawRect:function(){this.advance();
this.prev=y.DRAW_RECT;return ba._new(this)},readDrawRoundRect:function(){this.advance();this.prev=y.DRAW_ROUND_RECT;return Z._new(this)},readDrawTriangles:function(){this.advance();this.prev=y.DRAW_TRIANGLES;return Kb._new(this)},readEndFill:function(){this.advance();this.prev=y.END_FILL;return vg._new(this)},readLineBitmapStyle:function(){this.advance();this.prev=y.LINE_BITMAP_STYLE;return kb._new(this)},readLineGradientStyle:function(){this.advance();this.prev=y.LINE_GRADIENT_STYLE;return ta._new(this)},
readLineStyle:function(){this.advance();this.prev=y.LINE_STYLE;return ka._new(this)},readLineTo:function(){this.advance();this.prev=y.LINE_TO;return Ta._new(this)},readMoveTo:function(){this.advance();this.prev=y.MOVE_TO;return Ka._new(this)},readOverrideMatrix:function(){this.advance();this.prev=y.OVERRIDE_MATRIX;return Id._new(this)},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(a){this.advance();this.prev=a},__class__:Ec};var Da={};h["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=
Da;Da.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginBitmapFillView_Impl_"];Da.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"};Da._new=function(a){return a};Da.get_bitmap=function(a){return a.obj(0)};Da.get_matrix=function(a){return a.obj(1)};Da.get_repeat=function(a){return a.bool(0)};Da.get_smooth=function(a){return a.bool(1)};var pb={};h["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=pb;
pb.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginFillView_Impl_"];pb.__properties__={get_alpha:"get_alpha",get_color:"get_color"};pb._new=function(a){return a};pb.get_color=function(a){return a["int"](0)};pb.get_alpha=function(a){return a["float"](0)};var V={};h["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=V;V.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginGradientFillView_Impl_"];V.__properties__={get_focalPointRatio:"get_focalPointRatio",
get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};V._new=function(a){return a};V.get_type=function(a){return a.obj(0)};V.get_colors=function(a){return a.iArr(0)};V.get_alphas=function(a){return a.fArr(0)};V.get_ratios=function(a){return a.iArr(1)};V.get_matrix=function(a){return a.obj(1)};V.get_spreadMethod=function(a){return a.obj(2)};V.get_interpolationMethod=
function(a){return a.obj(3)};V.get_focalPointRatio=function(a){return a["float"](0)};var R={};h["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=R;R.__name__=["openfl","_internal","renderer","_DrawCommandReader","CubicCurveToView_Impl_"];R.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"};R._new=function(a){return a};R.get_controlX1=function(a){return a["float"](0)};
R.get_controlY1=function(a){return a["float"](1)};R.get_controlX2=function(a){return a["float"](2)};R.get_controlY2=function(a){return a["float"](3)};R.get_anchorX=function(a){return a["float"](4)};R.get_anchorY=function(a){return a["float"](5)};var sa={};h["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=sa;sa.__name__=["openfl","_internal","renderer","_DrawCommandReader","CurveToView_Impl_"];sa.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY:"get_controlY",
get_controlX:"get_controlX"};sa._new=function(a){return a};sa.get_controlX=function(a){return a["float"](0)};sa.get_controlY=function(a){return a["float"](1)};sa.get_anchorX=function(a){return a["float"](2)};sa.get_anchorY=function(a){return a["float"](3)};var Ca={};h["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=Ca;Ca.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawCircleView_Impl_"];Ca.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"};
Ca._new=function(a){return a};Ca.get_x=function(a){return a["float"](0)};Ca.get_y=function(a){return a["float"](1)};Ca.get_radius=function(a){return a["float"](2)};var ua={};h["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=ua;ua.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawEllipseView_Impl_"];ua.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};ua._new=function(a){return a};ua.get_x=function(a){return a["float"](0)};
ua.get_y=function(a){return a["float"](1)};ua.get_width=function(a){return a["float"](2)};ua.get_height=function(a){return a["float"](3)};var ba={};h["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=ba;ba.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRectView_Impl_"];ba.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};ba._new=function(a){return a};ba.get_x=function(a){return a["float"](0)};ba.get_y=function(a){return a["float"](1)};
ba.get_width=function(a){return a["float"](2)};ba.get_height=function(a){return a["float"](3)};var Z={};h["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=Z;Z.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRoundRectView_Impl_"];Z.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};Z._new=function(a){return a};Z.get_x=function(a){return a["float"](0)};
Z.get_y=function(a){return a["float"](1)};Z.get_width=function(a){return a["float"](2)};Z.get_height=function(a){return a["float"](3)};Z.get_ellipseWidth=function(a){return a["float"](4)};Z.get_ellipseHeight=function(a){return a.obj(0)};var Kb={};h["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=Kb;Kb.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTrianglesView_Impl_"];Kb.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",
get_vertices:"get_vertices"};Kb._new=function(a){return a};Kb.get_vertices=function(a){return a.obj(0)};Kb.get_indices=function(a){return a.obj(1)};Kb.get_uvtData=function(a){return a.obj(2)};Kb.get_culling=function(a){return a.obj(3)};var vg={};h["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=vg;vg.__name__=["openfl","_internal","renderer","_DrawCommandReader","EndFillView_Impl_"];vg._new=function(a){return a};var kb={};h["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=
kb;kb.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineBitmapStyleView_Impl_"];kb.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"};kb._new=function(a){return a};kb.get_bitmap=function(a){return a.obj(0)};kb.get_matrix=function(a){return a.obj(1)};kb.get_repeat=function(a){return a.bool(0)};kb.get_smooth=function(a){return a.bool(1)};var ta={};h["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=
ta;ta.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineGradientStyleView_Impl_"];ta.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};ta._new=function(a){return a};ta.get_type=function(a){return a.obj(0)};ta.get_colors=function(a){return a.iArr(0)};ta.get_alphas=function(a){return a.fArr(0)};
ta.get_ratios=function(a){return a.iArr(1)};ta.get_matrix=function(a){return a.obj(1)};ta.get_spreadMethod=function(a){return a.obj(2)};ta.get_interpolationMethod=function(a){return a.obj(3)};ta.get_focalPointRatio=function(a){return a["float"](0)};var ka={};h["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=ka;ka.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineStyleView_Impl_"];ka.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",
get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"};ka._new=function(a){return a};ka.get_thickness=function(a){return a.obj(0)};ka.get_color=function(a){return a["int"](0)};ka.get_alpha=function(a){return a["float"](0)};ka.get_pixelHinting=function(a){return a.bool(0)};ka.get_scaleMode=function(a){return a.obj(1)};ka.get_caps=function(a){return a.obj(2)};ka.get_joints=function(a){return a.obj(3)};ka.get_miterLimit=
function(a){return a["float"](1)};var Ta={};h["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=Ta;Ta.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineToView_Impl_"];Ta.__properties__={get_y:"get_y",get_x:"get_x"};Ta._new=function(a){return a};Ta.get_x=function(a){return a["float"](0)};Ta.get_y=function(a){return a["float"](1)};var Ka={};h["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=Ka;Ka.__name__=["openfl","_internal","renderer","_DrawCommandReader",
"MoveToView_Impl_"];Ka.__properties__={get_y:"get_y",get_x:"get_x"};Ka._new=function(a){return a};Ka.get_x=function(a){return a["float"](0)};Ka.get_y=function(a){return a["float"](1)};var Id={};h["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=Id;Id.__name__=["openfl","_internal","renderer","_DrawCommandReader","OverrideMatrixView_Impl_"];Id.__properties__={get_matrix:"get_matrix"};Id._new=function(a){return a};Id.get_matrix=function(a){return a.obj(0)};var y=h["openfl._internal.renderer.DrawCommandType"]=
{__ename__:!0,__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX UNKNOWN".split(" ")};y.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];y.BEGIN_BITMAP_FILL.toString=H;y.BEGIN_BITMAP_FILL.__enum__=y;y.BEGIN_FILL=["BEGIN_FILL",1];y.BEGIN_FILL.toString=H;y.BEGIN_FILL.__enum__=y;y.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",
2];y.BEGIN_GRADIENT_FILL.toString=H;y.BEGIN_GRADIENT_FILL.__enum__=y;y.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];y.CUBIC_CURVE_TO.toString=H;y.CUBIC_CURVE_TO.__enum__=y;y.CURVE_TO=["CURVE_TO",4];y.CURVE_TO.toString=H;y.CURVE_TO.__enum__=y;y.DRAW_CIRCLE=["DRAW_CIRCLE",5];y.DRAW_CIRCLE.toString=H;y.DRAW_CIRCLE.__enum__=y;y.DRAW_ELLIPSE=["DRAW_ELLIPSE",6];y.DRAW_ELLIPSE.toString=H;y.DRAW_ELLIPSE.__enum__=y;y.DRAW_RECT=["DRAW_RECT",7];y.DRAW_RECT.toString=H;y.DRAW_RECT.__enum__=y;y.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",
8];y.DRAW_ROUND_RECT.toString=H;y.DRAW_ROUND_RECT.__enum__=y;y.DRAW_TILES=["DRAW_TILES",9];y.DRAW_TILES.toString=H;y.DRAW_TILES.__enum__=y;y.DRAW_TRIANGLES=["DRAW_TRIANGLES",10];y.DRAW_TRIANGLES.toString=H;y.DRAW_TRIANGLES.__enum__=y;y.END_FILL=["END_FILL",11];y.END_FILL.toString=H;y.END_FILL.__enum__=y;y.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",12];y.LINE_BITMAP_STYLE.toString=H;y.LINE_BITMAP_STYLE.__enum__=y;y.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",13];y.LINE_GRADIENT_STYLE.toString=H;y.LINE_GRADIENT_STYLE.__enum__=
y;y.LINE_STYLE=["LINE_STYLE",14];y.LINE_STYLE.toString=H;y.LINE_STYLE.__enum__=y;y.LINE_TO=["LINE_TO",15];y.LINE_TO.toString=H;y.LINE_TO.__enum__=y;y.MOVE_TO=["MOVE_TO",16];y.MOVE_TO.toString=H;y.MOVE_TO.__enum__=y;y.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",17];y.OVERRIDE_MATRIX.toString=H;y.OVERRIDE_MATRIX.__enum__=y;y.UNKNOWN=["UNKNOWN",18];y.UNKNOWN.toString=H;y.UNKNOWN.__enum__=y;var hd=function(){this.allowSmoothing=!0};h["openfl._internal.renderer.RenderSession"]=hd;hd.__name__=["openfl","_internal",
"renderer","RenderSession"];hd.prototype={__class__:hd};var wg=function(){};h["openfl._internal.renderer.cairo.CairoBitmap"]=wg;wg.__name__=["openfl","_internal","renderer","cairo","CairoBitmap"];wg.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.cairo;if(null!=a.bitmapData&&a.bitmapData.__isValid){b.maskManager.pushObject(a);var d=a.__renderTransform;b.roundPixels?(d=d.__toMatrix3(),d.tx=Math.round(d.tx),d.ty=Math.round(d.ty),c.set_matrix(d)):c.set_matrix(d.__toMatrix3());d=
a.bitmapData.getSurface();null!=d&&(d=Gd.createForSurface(d),Gd.set_filter(d,b.allowSmoothing&&a.smoothing?1:3),c.set_source(d),1==a.__worldAlpha?c.paint():c.paintWithAlpha(a.__worldAlpha));b.maskManager.popObject(a)}}};var fg=function(){};h["openfl._internal.renderer.cairo.CairoDisplayObject"]=fg;fg.__name__=["openfl","_internal","renderer","cairo","CairoDisplayObject"];fg.render=function(a,b){};var Fa=function(){};h["openfl._internal.renderer.cairo.CairoGraphics"]=Fa;Fa.__name__=["openfl","_internal",
"renderer","cairo","CairoGraphics"];Fa.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var g=-e+e*Fa.SIN45,n=-e+e*Fa.TAN22,h=-f+f*Fa.SIN45,k=-f+f*Fa.TAN22;Fa.cairo.moveTo(c,d-f);Fa.quadraticCurveTo(c,d+k,c+g,d+h);Fa.quadraticCurveTo(c+n,d,c-e,d);Fa.cairo.lineTo(a+e,d);Fa.quadraticCurveTo(a-n,d,a-g,d+h);Fa.quadraticCurveTo(a,d+k,a,d-f);Fa.cairo.lineTo(a,b+f);Fa.quadraticCurveTo(a,b-k,a-g,b-h);Fa.quadraticCurveTo(a-n,b,a+e,b);Fa.cairo.lineTo(c-
e,b);Fa.quadraticCurveTo(c+n,b,c+g,b-h);Fa.quadraticCurveTo(c,b-k,c,b+f);Fa.cairo.lineTo(c,d-f)};Fa.quadraticCurveTo=function(a,b,c,d){var e=null;Fa.cairo.get_hasCurrentPoint()?e=Fa.cairo.get_currentPoint():(Fa.cairo.moveTo(a,b),e=new Kc(a,b));Fa.cairo.curveTo(e.x+.6666666666666666*(a-e.x),e.y+.6666666666666666*(b-e.y),c+.6666666666666666*(a-c),d+.6666666666666666*(b-d),c,d)};Fa.renderMask=function(a,b){if(0!=a.__commands.get_length()){for(var c=b.cairo,d=new Ec(a.__commands),e=0,f=a.__commands.types;e<
f.length;){var g=f[e];++e;switch(g[1]){case 3:g=d.readCubicCurveTo();c.curveTo(R.get_controlX1(g)-0,R.get_controlY1(g)-0,R.get_controlX2(g)-0,R.get_controlY2(g)-0,R.get_anchorX(g)-0,R.get_anchorY(g)-0);R.get_anchorX(g);R.get_anchorX(g);break;case 4:g=d.readCurveTo();Fa.quadraticCurveTo(sa.get_controlX(g)-0,sa.get_controlY(g)-0,sa.get_anchorX(g)-0,sa.get_anchorY(g)-0);sa.get_anchorX(g);sa.get_anchorY(g);break;case 5:g=d.readDrawCircle();c.arc(Ca.get_x(g)-0,Ca.get_y(g)-0,Ca.get_radius(g),0,2*Math.PI);
break;case 6:var n=d.readDrawEllipse(),g=ua.get_x(n),h=ua.get_y(n),k=ua.get_width(n),l=ua.get_height(n),g=g-0,h=h-0,n=k/2*.5522848,x=l/2*.5522848,q=g+k,m=h+l,k=g+k/2,l=h+l/2;c.moveTo(g,l);c.curveTo(g,l-x,k-n,h,k,h);c.curveTo(k+n,h,q,l-x,q,l);c.curveTo(q,l+x,k+n,m,k,m);c.curveTo(k-n,m,g,l+x,g,l);break;case 7:g=d.readDrawRect();c.rectangle(ba.get_x(g)-0,ba.get_y(g)-0,ba.get_width(g),ba.get_height(g));break;case 8:g=d.readDrawRoundRect();Fa.drawRoundRect(Z.get_x(g)-0,Z.get_y(g)-0,Z.get_width(g),Z.get_height(g),
Z.get_ellipseWidth(g),Z.get_ellipseHeight(g));break;case 15:g=d.readLineTo();c.lineTo(Ta.get_x(g)-0,Ta.get_y(g)-0);Ta.get_x(g);Ta.get_y(g);break;case 16:g=d.readMoveTo();c.moveTo(Ka.get_x(g)-0,Ka.get_y(g)-0);Ka.get_x(g);Ka.get_y(g);break;default:d.skip(g)}}d.destroy()}};var Lf=function(a){this.renderSession=a};h["openfl._internal.renderer.cairo.CairoMaskManager"]=Lf;Lf.__name__=["openfl","_internal","renderer","cairo","CairoMaskManager"];Lf.__super__=rc;Lf.prototype=r(rc.prototype,{pushMask:function(a){var b=
this.renderSession.cairo;b.save();var c=a.__getRenderTransform();b.set_matrix(c.__toMatrix3());b.newPath();a.__renderCairoMask(this.renderSession);b.clip()},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){var c=this.renderSession.cairo;c.save();c.set_matrix(new he(b.a,b.c,b.b,b.d,b.tx,b.ty));c.newPath();c.rectangle(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.cairo.restore()},
popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){this.renderSession.cairo.restore()},__class__:Lf});var Ke=function(){};h["openfl._internal.renderer.cairo.CairoRenderer"]=Ke;Ke.__name__=["openfl","_internal","renderer","cairo","CairoRenderer"];Ke.__super__=Qb;Ke.prototype=r(Qb.prototype,{render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.cairo.identityMatrix();this.stage.__clearBeforeRender&&
(this.cairo.setSourceRGB(this.stage.__colorSplit[0],this.stage.__colorSplit[1],this.stage.__colorSplit[2]),this.cairo.paint());this.stage.__renderCairo(this.renderSession)},__class__:Ke});var xg=function(){};h["openfl._internal.renderer.cairo.CairoTextField"]=xg;xg.__name__=["openfl","_internal","renderer","cairo","CairoTextField"];xg.render=function(a,b,c){};var yg=function(){};h["openfl._internal.renderer.canvas.CanvasBitmap"]=yg;yg.__name__=["openfl","_internal","renderer","canvas","CanvasBitmap"];
yg.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.context;if(null!=a.bitmapData&&a.bitmapData.__isValid){b.maskManager.pushObject(a,!1);X.convertToCanvas(a.bitmapData.image);c.globalAlpha=a.__worldAlpha;var d=a.__renderTransform,e=a.__scrollRect;b.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);b.allowSmoothing&&a.smoothing||(c.mozImageSmoothingEnabled=!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1);null==e?c.drawImage(a.bitmapData.image.get_src(),
0,0):c.drawImage(a.bitmapData.image.get_src(),e.x,e.y,e.width,e.height,e.x,e.y,e.width,e.height);b.allowSmoothing&&a.smoothing||(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);b.maskManager.popObject(a,!1)}}};var gg=function(){};h["openfl._internal.renderer.canvas.CanvasDisplayObject"]=gg;gg.__name__=["openfl","_internal","renderer","canvas","CanvasDisplayObject"];gg.render=function(a,b){if(!(null==a.opaqueBackground&&null==a.__graphics||!a.__renderable||0>=
a.__worldAlpha)){if(null!=a.opaqueBackground&&0<a.get_width()&&0<a.get_height()){b.maskManager.pushObject(a);var c=b.context,d=a.__renderTransform;b.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);d=a.opaqueBackground;c.fillStyle="rgb("+(d>>16&255)+","+(d>>8&255)+","+(d&255)+")";c.fillRect(0,0,a.get_width(),a.get_height());b.maskManager.popObject(a)}null!=a.__graphics&&zg.render(a,b)}};var k=function(){};h["openfl._internal.renderer.canvas.CanvasGraphics"]=
k;k.__name__=["openfl","_internal","renderer","canvas","CanvasGraphics"];k.closePath=function(a){null==a&&(a=!1);null!=k.context.strokeStyle&&(a||k.context.closePath(),k.context.stroke(),a&&k.context.closePath(),k.context.beginPath())};k.createBitmapFill=function(a,b){X.convertToCanvas(a.image);return k.context.createPattern(a.image.get_src(),b?"repeat":"no-repeat")};k.createGradientPattern=function(a,b,c,d,e,f,g,n){f=null;switch(a){case 1:null==e&&(e=new U);f=e.transformPoint(new fa(1638.4,0));f=
k.context.createRadialGradient(e.tx,e.ty,0,e.tx,e.ty,(f.x-e.tx)/2);break;case 0:e=null!=e?e:new U,f=e.transformPoint(new fa(-819.2,0)),e=e.transformPoint(new fa(819.2,0)),f=k.context.createLinearGradient(f.x,f.y,e.x,e.y)}e=0;for(a=b.length;e<a;){var h=e++,l=b[h];g=c[h];n=(l&16711680)>>>16;var m=(l&65280)>>>8,l=l&255,h=d[h]/255;0>h&&(h=0);1<h&&(h=1);f.addColorStop(h,"rgba("+n+", "+m+", "+l+", "+g+")")}return f};k.createTempPatternCanvas=function(a,b,c,d){var e=window.document.createElement("canvas"),
f=e.getContext("2d");e.width=c;e.height=d;f.fillStyle=f.createPattern(a.image.get_src(),b?"repeat":"no-repeat");f.beginPath();f.moveTo(0,0);f.lineTo(0,d);f.lineTo(c,d);f.lineTo(c,0);f.lineTo(0,0);f.closePath();k.hitTesting||f.fill();return e};k.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var g=-e+e*k.SIN45,n=-e+e*k.TAN22,h=-f+f*k.SIN45,l=-f+f*k.TAN22;k.context.moveTo(c,d-f);k.context.quadraticCurveTo(c,d+l,c+g,d+h);k.context.quadraticCurveTo(c+
n,d,c-e,d);k.context.lineTo(a+e,d);k.context.quadraticCurveTo(a-n,d,a-g,d+h);k.context.quadraticCurveTo(a,d+l,a,d-f);k.context.lineTo(a,b+f);k.context.quadraticCurveTo(a,b-l,a-g,b-h);k.context.quadraticCurveTo(a-n,b,a+e,b);k.context.lineTo(c-e,b);k.context.quadraticCurveTo(c+n,b,c+g,b-h);k.context.quadraticCurveTo(c,b-l,c,b+f);k.context.lineTo(c,d-f)};k.endFill=function(){k.context.beginPath();k.playCommands(k.fillCommands,!1);k.fillCommands.clear()};k.endStroke=function(){k.context.beginPath();k.playCommands(k.strokeCommands,
!0);k.context.closePath();k.strokeCommands.clear()};k.hitTest=function(a,b,c){k.bounds=a.__bounds;k.graphics=a;if(!(0==a.__commands.get_length()||null==k.bounds||0>=k.bounds.width||0>=k.bounds.height)){k.hitTesting=!0;b-=k.bounds.x;c-=k.bounds.y;null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));k.context=a.__context;k.fillCommands.clear();k.strokeCommands.clear();k.hasFill=!1;k.hasStroke=!1;k.bitmapFill=null;k.bitmapRepeat=!1;k.context.beginPath();
var d=new Ec(a.__commands),e=0;for(a=a.__commands.types;e<a.length;){var f=a[e];++e;switch(f[1]){case 3:f=d.readCubicCurveTo();k.fillCommands.cubicCurveTo(R.get_controlX1(f),R.get_controlY1(f),R.get_controlX2(f),R.get_controlY2(f),R.get_anchorX(f),R.get_anchorY(f));k.strokeCommands.cubicCurveTo(R.get_controlX1(f),R.get_controlY1(f),R.get_controlX2(f),R.get_controlY2(f),R.get_anchorX(f),R.get_anchorY(f));break;case 4:f=d.readCurveTo();k.fillCommands.curveTo(sa.get_controlX(f),sa.get_controlY(f),sa.get_anchorX(f),
sa.get_anchorY(f));k.strokeCommands.curveTo(sa.get_controlX(f),sa.get_controlY(f),sa.get_anchorX(f),sa.get_anchorY(f));break;case 15:f=d.readLineTo();k.fillCommands.lineTo(Ta.get_x(f),Ta.get_y(f));k.strokeCommands.lineTo(Ta.get_x(f),Ta.get_y(f));break;case 16:f=d.readMoveTo();k.fillCommands.moveTo(Ka.get_x(f),Ka.get_y(f));k.strokeCommands.moveTo(Ka.get_x(f),Ka.get_y(f));break;case 13:f=d.readLineGradientStyle();k.strokeCommands.lineGradientStyle(ta.get_type(f),ta.get_colors(f),ta.get_alphas(f),ta.get_ratios(f),
ta.get_matrix(f),ta.get_spreadMethod(f),ta.get_interpolationMethod(f),ta.get_focalPointRatio(f));break;case 12:f=d.readLineBitmapStyle();k.strokeCommands.lineBitmapStyle(kb.get_bitmap(f),kb.get_matrix(f),kb.get_repeat(f),kb.get_smooth(f));break;case 14:f=d.readLineStyle();k.strokeCommands.lineStyle(ka.get_thickness(f),ka.get_color(f),1,ka.get_pixelHinting(f),ka.get_scaleMode(f),ka.get_caps(f),ka.get_joints(f),ka.get_miterLimit(f));break;case 11:d.readEndFill();k.endFill();k.endStroke();if(k.hasFill&&
k.context.isPointInPath(b,c)||k.hasStroke&&k.context.isPointInStroke(b,c))return d.destroy(),!0;k.hasFill=!1;k.bitmapFill=null;break;case 0:case 1:case 2:k.endFill();k.endStroke();if(k.hasFill&&k.context.isPointInPath(b,c)||k.hasStroke&&k.context.isPointInStroke(b,c))return d.destroy(),!0;f==y.BEGIN_BITMAP_FILL?(f=d.readBeginBitmapFill(),k.fillCommands.beginBitmapFill(Da.get_bitmap(f),Da.get_matrix(f),Da.get_repeat(f),Da.get_smooth(f)),k.strokeCommands.beginBitmapFill(Da.get_bitmap(f),Da.get_matrix(f),
Da.get_repeat(f),Da.get_smooth(f))):f==y.BEGIN_GRADIENT_FILL?(f=d.readBeginGradientFill(),k.fillCommands.beginGradientFill(V.get_type(f),V.get_colors(f),V.get_alphas(f),V.get_ratios(f),V.get_matrix(f),V.get_spreadMethod(f),V.get_interpolationMethod(f),V.get_focalPointRatio(f)),k.strokeCommands.beginGradientFill(V.get_type(f),V.get_colors(f),V.get_alphas(f),V.get_ratios(f),V.get_matrix(f),V.get_spreadMethod(f),V.get_interpolationMethod(f),V.get_focalPointRatio(f))):(f=d.readBeginFill(),k.fillCommands.beginFill(pb.get_color(f),
1),k.strokeCommands.beginFill(pb.get_color(f),1));break;case 5:f=d.readDrawCircle();k.fillCommands.drawCircle(Ca.get_x(f),Ca.get_y(f),Ca.get_radius(f));k.strokeCommands.drawCircle(Ca.get_x(f),Ca.get_y(f),Ca.get_radius(f));break;case 6:f=d.readDrawEllipse();k.fillCommands.drawEllipse(ua.get_x(f),ua.get_y(f),ua.get_width(f),ua.get_height(f));k.strokeCommands.drawEllipse(ua.get_x(f),ua.get_y(f),ua.get_width(f),ua.get_height(f));break;case 7:f=d.readDrawRect();k.fillCommands.drawRect(ba.get_x(f),ba.get_y(f),
ba.get_width(f),ba.get_height(f));k.strokeCommands.drawRect(ba.get_x(f),ba.get_y(f),ba.get_width(f),ba.get_height(f));break;case 8:f=d.readDrawRoundRect();k.fillCommands.drawRoundRect(Z.get_x(f),Z.get_y(f),Z.get_width(f),Z.get_height(f),Z.get_ellipseWidth(f),Z.get_ellipseHeight(f));k.strokeCommands.drawRoundRect(Z.get_x(f),Z.get_y(f),Z.get_width(f),Z.get_height(f),Z.get_ellipseWidth(f),Z.get_ellipseHeight(f));break;default:d.skip(f)}}0<k.fillCommands.get_length()&&k.endFill();0<k.strokeCommands.get_length()&&
k.endStroke();d.destroy();if(k.hasFill&&k.context.isPointInPath(b,c)||k.hasStroke&&k.context.isPointInStroke(b,c))return!0}return!1};k.normalizeUVT=function(a,b){null==b&&(b=!1);for(var c=-Infinity,d=-Infinity,e=a.get_length(),f=1,g=e+1;f<g;)d=f++,b&&0==d%3||(d=a.get(d-1),c<d&&(c=d));f=E.toFloatVector(null);g=1;for(e+=1;g<e;)d=g++,b&&0==d%3||(d=a.get(d-1)/c,f.push(d));return{max:c,uvt:f}};k.playCommands=function(a,b){null==b&&(b=!1);k.bounds=k.graphics.__bounds;for(var c=k.bounds.x,d=k.bounds.y,e=
0,f=0,g=!1,n=0,h=0,l=new Ec(a),m=0,x=a.types;m<x.length;){var q=x[m];++m;switch(q[1]){case 3:q=l.readCubicCurveTo();k.context.bezierCurveTo(R.get_controlX1(q)-c,R.get_controlY1(q)-d,R.get_controlX2(q)-c,R.get_controlY2(q)-d,R.get_anchorX(q)-c,R.get_anchorY(q)-d);break;case 4:q=l.readCurveTo();k.context.quadraticCurveTo(sa.get_controlX(q)-c,sa.get_controlY(q)-d,sa.get_anchorX(q)-c,sa.get_anchorY(q)-d);break;case 5:q=l.readDrawCircle();k.context.moveTo(Ca.get_x(q)-c+Ca.get_radius(q),Ca.get_y(q)-d);
k.context.arc(Ca.get_x(q)-c,Ca.get_y(q)-d,Ca.get_radius(q),0,2*Math.PI,!0);break;case 6:var p=l.readDrawEllipse(),q=ua.get_x(p),r=ua.get_y(p),t=ua.get_width(p),u=ua.get_height(p),q=q-c,r=r-d,p=t/2*.5522848,w=u/2*.5522848,z=q+t,y=r+u,t=q+t/2,u=r+u/2;k.context.moveTo(q,u);k.context.bezierCurveTo(q,u-w,t-p,r,t,r);k.context.bezierCurveTo(t+p,r,z,u-w,z,u);k.context.bezierCurveTo(z,u+w,t+p,y,t,y);k.context.bezierCurveTo(t-p,y,q,u+w,q,u);break;case 8:q=l.readDrawRoundRect();k.drawRoundRect(Z.get_x(q)-c,
Z.get_y(q)-d,Z.get_width(q),Z.get_height(q),Z.get_ellipseWidth(q),Z.get_ellipseHeight(q));break;case 15:f=l.readLineTo();k.context.lineTo(Ta.get_x(f)-c,Ta.get_y(f)-d);e=Ta.get_x(f);f=Ta.get_y(f);break;case 16:h=l.readMoveTo();k.context.moveTo(Ka.get_x(h)-c,Ka.get_y(h)-d);e=Ka.get_x(h);f=Ka.get_y(h);g=!0;n=Ka.get_x(h);h=Ka.get_y(h);break;case 14:q=l.readLineStyle();b&&k.closePath(k.hasStroke);k.context.moveTo(e-c,f-d);if(null==ka.get_thickness(q))k.hasStroke=!1;else{0<ka.get_thickness(q)?k.context.lineWidth=
ka.get_thickness(q):k.context.lineWidth=1;null==ka.get_joints(q)?k.context.lineJoin="round":k.context.lineJoin=Ag.toString(ka.get_joints(q)).toLowerCase();if(null==ka.get_caps(q))k.context.lineCap="round";else switch(ka.get_caps(q)){case 0:k.context.lineCap="butt";break;default:k.context.lineCap=Bg.toString(ka.get_caps(q)).toLowerCase()}k.context.miterLimit=ka.get_miterLimit(q);1==ka.get_alpha(q)?k.context.strokeStyle="#"+da.hex(ka.get_color(q)&16777215,6):(r=(ka.get_color(q)&16711680)>>>16,p=(ka.get_color(q)&
65280)>>>8,w=ka.get_color(q)&255,k.context.strokeStyle="rgba("+r+", "+p+", "+w+", "+ka.get_alpha(q)+")");k.hasStroke=!0}break;case 13:q=l.readLineGradientStyle();b&&k.hasStroke&&k.closePath();k.context.moveTo(e-c,f-d);k.context.strokeStyle=k.createGradientPattern(ta.get_type(q),ta.get_colors(q),ta.get_alphas(q),ta.get_ratios(q),ta.get_matrix(q),ta.get_spreadMethod(q),ta.get_interpolationMethod(q),ta.get_focalPointRatio(q));k.hasStroke=!0;break;case 12:q=l.readLineBitmapStyle();b&&k.hasStroke&&k.closePath();
k.context.moveTo(e-c,f-d);k.context.strokeStyle=k.createBitmapFill(kb.get_bitmap(q),kb.get_repeat(q));k.hasStroke=!0;break;case 0:q=l.readBeginBitmapFill();k.bitmapFill=Da.get_bitmap(q);k.context.fillStyle=k.createBitmapFill(Da.get_bitmap(q),!0);k.hasFill=!0;null!=Da.get_matrix(q)?(k.pendingMatrix=Da.get_matrix(q),k.inversePendingMatrix=Da.get_matrix(q).clone(),k.inversePendingMatrix.invert()):(k.pendingMatrix=null,k.inversePendingMatrix=null);break;case 1:q=l.readBeginFill();.005>pb.get_alpha(q)?
k.hasFill=!1:(1==pb.get_alpha(q)?k.context.fillStyle="#"+da.hex(pb.get_color(q),6):(r=(pb.get_color(q)&16711680)>>>16,p=(pb.get_color(q)&65280)>>>8,w=pb.get_color(q)&255,k.context.fillStyle="rgba("+r+", "+p+", "+w+", "+pb.get_alpha(q)+")"),k.bitmapFill=null,k.hasFill=!0);break;case 2:q=l.readBeginGradientFill();k.context.fillStyle=k.createGradientPattern(V.get_type(q),V.get_colors(q),V.get_alphas(q),V.get_ratios(q),V.get_matrix(q),V.get_spreadMethod(q),V.get_interpolationMethod(q),V.get_focalPointRatio(q));
k.bitmapFill=null;k.hasFill=!0;break;case 7:q=l.readDrawRect();r=!1;null!=k.bitmapFill&&(y=z=t=p=0,w=!0,null!=k.pendingMatrix?0!=k.pendingMatrix.b||0!=k.pendingMatrix.c?w=!1:(z=k.inversePendingMatrix.transformPoint(new fa(ba.get_x(q),ba.get_y(q))),t=k.inversePendingMatrix.transformPoint(new fa(ba.get_x(q)+ba.get_width(q),ba.get_y(q)+ba.get_height(q))),p=z.y,y=z.x,z=t.y,t=t.x):(p=ba.get_y(q),y=ba.get_x(q),z=ba.get_y(q)+ba.get_height(q),t=ba.get_x(q)+ba.get_width(q)),w&&0<=p&&0<=y&&t<=k.bitmapFill.width&&
z<=k.bitmapFill.height&&(r=!0,k.hitTesting||k.context.drawImage(k.bitmapFill.image.get_src(),y,p,t-y,z-p,ba.get_x(q)-c,ba.get_y(q)-d,ba.get_width(q),ba.get_height(q))));r||k.context.rect(ba.get_x(q)-c,ba.get_y(q)-d,ba.get_width(q),ba.get_height(q));break;default:l.skip(q)}}l.destroy();b&&k.hasStroke&&(k.hasFill&&g?k.context.lineTo(n-c,h-d):g&&e==n&&f==h&&k.closePath(!0),k.hitTesting||k.context.stroke());b||!k.hasFill&&null==k.bitmapFill||(k.context.translate(-k.bounds.x,-k.bounds.y),null!=k.pendingMatrix?
(k.context.transform(k.pendingMatrix.a,k.pendingMatrix.b,k.pendingMatrix.c,k.pendingMatrix.d,k.pendingMatrix.tx,k.pendingMatrix.ty),k.hitTesting||k.context.fill(),k.context.transform(k.inversePendingMatrix.a,k.inversePendingMatrix.b,k.inversePendingMatrix.c,k.inversePendingMatrix.d,k.inversePendingMatrix.tx,k.inversePendingMatrix.ty)):k.hitTesting||k.context.fill(),k.context.translate(k.bounds.x,k.bounds.y),k.context.closePath())};k.render=function(a,b,c){a.__update();if(a.__dirty){k.hitTesting=!1;
k.graphics=a;k.bounds=a.__bounds;b=a.__width;c=a.__height;if(!a.__visible||0==a.__commands.get_length()||null==k.bounds||1>b||1>c)a.__canvas=null,a.__context=null,a.__bitmap=null;else{null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));k.context=a.__context;a.__canvas.width=b;a.__canvas.height=c;b=a.__renderTransform;k.context.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);k.fillCommands.clear();k.strokeCommands.clear();k.hasFill=!1;k.hasStroke=
!1;k.bitmapFill=null;k.bitmapRepeat=!1;b=new Ec(a.__commands);c=0;var d=a.__commands.types;try{for(;c<d.length;){var e=d[c];++c;switch(e[1]){case 3:var f=b.readCubicCurveTo();k.fillCommands.cubicCurveTo(R.get_controlX1(f),R.get_controlY1(f),R.get_controlX2(f),R.get_controlY2(f),R.get_anchorX(f),R.get_anchorY(f));k.strokeCommands.cubicCurveTo(R.get_controlX1(f),R.get_controlY1(f),R.get_controlX2(f),R.get_controlY2(f),R.get_anchorX(f),R.get_anchorY(f));break;case 4:var g=b.readCurveTo();k.fillCommands.curveTo(sa.get_controlX(g),
sa.get_controlY(g),sa.get_anchorX(g),sa.get_anchorY(g));k.strokeCommands.curveTo(sa.get_controlX(g),sa.get_controlY(g),sa.get_anchorX(g),sa.get_anchorY(g));break;case 15:var n=b.readLineTo();k.fillCommands.lineTo(Ta.get_x(n),Ta.get_y(n));k.strokeCommands.lineTo(Ta.get_x(n),Ta.get_y(n));break;case 16:var h=b.readMoveTo();k.fillCommands.moveTo(Ka.get_x(h),Ka.get_y(h));k.strokeCommands.moveTo(Ka.get_x(h),Ka.get_y(h));break;case 11:b.readEndFill();k.endFill();k.endStroke();k.hasFill=!1;k.bitmapFill=null;
break;case 14:var l=b.readLineStyle();k.strokeCommands.lineStyle(ka.get_thickness(l),ka.get_color(l),ka.get_alpha(l),ka.get_pixelHinting(l),ka.get_scaleMode(l),ka.get_caps(l),ka.get_joints(l),ka.get_miterLimit(l));break;case 13:var m=b.readLineGradientStyle();k.strokeCommands.lineGradientStyle(ta.get_type(m),ta.get_colors(m),ta.get_alphas(m),ta.get_ratios(m),ta.get_matrix(m),ta.get_spreadMethod(m),ta.get_interpolationMethod(m),ta.get_focalPointRatio(m));break;case 12:var x=b.readLineBitmapStyle();
k.strokeCommands.lineBitmapStyle(kb.get_bitmap(x),kb.get_matrix(x),kb.get_repeat(x),kb.get_smooth(x));break;case 0:case 1:case 2:k.endFill();k.endStroke();if(e==y.BEGIN_BITMAP_FILL){var q=b.readBeginBitmapFill();k.fillCommands.beginBitmapFill(Da.get_bitmap(q),Da.get_matrix(q),Da.get_repeat(q),Da.get_smooth(q));k.strokeCommands.beginBitmapFill(Da.get_bitmap(q),Da.get_matrix(q),Da.get_repeat(q),Da.get_smooth(q))}else if(e==y.BEGIN_GRADIENT_FILL){var p=b.readBeginGradientFill();k.fillCommands.beginGradientFill(V.get_type(p),
V.get_colors(p),V.get_alphas(p),V.get_ratios(p),V.get_matrix(p),V.get_spreadMethod(p),V.get_interpolationMethod(p),V.get_focalPointRatio(p));k.strokeCommands.beginGradientFill(V.get_type(p),V.get_colors(p),V.get_alphas(p),V.get_ratios(p),V.get_matrix(p),V.get_spreadMethod(p),V.get_interpolationMethod(p),V.get_focalPointRatio(p))}else{var r=b.readBeginFill();k.fillCommands.beginFill(pb.get_color(r),pb.get_alpha(r));k.strokeCommands.beginFill(pb.get_color(r),pb.get_alpha(r))}break;case 5:var t=b.readDrawCircle();
k.fillCommands.drawCircle(Ca.get_x(t),Ca.get_y(t),Ca.get_radius(t));k.strokeCommands.drawCircle(Ca.get_x(t),Ca.get_y(t),Ca.get_radius(t));break;case 6:var u=b.readDrawEllipse();k.fillCommands.drawEllipse(ua.get_x(u),ua.get_y(u),ua.get_width(u),ua.get_height(u));k.strokeCommands.drawEllipse(ua.get_x(u),ua.get_y(u),ua.get_width(u),ua.get_height(u));break;case 7:var B=b.readDrawRect();k.fillCommands.drawRect(ba.get_x(B),ba.get_y(B),ba.get_width(B),ba.get_height(B));k.strokeCommands.drawRect(ba.get_x(B),
ba.get_y(B),ba.get_width(B),ba.get_height(B));break;case 8:var z=b.readDrawRoundRect();k.fillCommands.drawRoundRect(Z.get_x(z),Z.get_y(z),Z.get_width(z),Z.get_height(z),Z.get_ellipseWidth(z),Z.get_ellipseHeight(z));k.strokeCommands.drawRoundRect(Z.get_x(z),Z.get_y(z),Z.get_width(z),Z.get_height(z),Z.get_ellipseWidth(z),Z.get_ellipseHeight(z));break;case 10:k.endFill();k.endStroke();var A=b.readDrawTriangles(),C=Kb.get_vertices(A),G=Kb.get_indices(A),D=Kb.get_uvtData(A),F=null,I=null==k.bitmapFill;
if(I&&null!=D)throw"__break__";if(!I){if(null==D)for(var D=E.toFloatVector(null),H=0,K=w["int"](C.get_length()/2);H<K;){var N=H++,J=C.get(2*N)/k.bitmapFill.width;D.push(J);var L=C.get(2*N+1)/k.bitmapFill.height;D.push(L)}var M=D.get_length()!=C.get_length(),P=k.normalizeUVT(D,M),S=P.max,D=P.uvt,F=1<S?k.createTempPatternCanvas(k.bitmapFill,k.bitmapRepeat,k.bounds.width|0,k.bounds.height|0):k.createTempPatternCanvas(k.bitmapFill,k.bitmapRepeat,k.bitmapFill.width,k.bitmapFill.height)}for(var H=0,O=G.get_length(),
Q,T,U,W,X,Y,ca,fa,ja,aa,ea,da,ga,ha,ia,qa,ra,la,ma,na,oa,pa,va,wa,xa,ya,za,Aa;H<O;){Q=H;T=H+1;U=H+2;W=2*G.get(Q);X=2*G.get(Q)+1;Y=2*G.get(T);ca=2*G.get(T)+1;fa=2*G.get(U);ja=2*G.get(U)+1;aa=C.get(W);ea=C.get(X);da=C.get(Y);ga=C.get(ca);ha=C.get(fa);ia=C.get(ja);switch(Kb.get_culling(A)){case 2:if(!(0>(da-aa)*(ia-ea)-(ga-ea)*(ha-aa))){H+=3;continue}break;case 0:if(0>(da-aa)*(ia-ea)-(ga-ea)*(ha-aa)){H+=3;continue}}I?(k.context.beginPath(),k.context.moveTo(aa,ea),k.context.lineTo(da,ga),k.context.lineTo(ha,
ia),k.context.closePath(),k.hitTesting||k.context.fill()):(k.context.save(),k.context.beginPath(),k.context.moveTo(aa,ea),k.context.lineTo(da,ga),k.context.lineTo(ha,ia),k.context.closePath(),k.context.clip(),qa=D.get(W)*F.width,la=D.get(Y)*F.width,na=D.get(fa)*F.width,ra=D.get(X)*F.height,ma=D.get(ca)*F.height,oa=D.get(ja)*F.height,pa=qa*(oa-ma)-la*oa+na*ma+(la-na)*ra,0!=pa&&(va=-(ra*(ha-da)-ma*ha+oa*da+(ma-oa)*aa)/pa,wa=(ma*ia+ra*(ga-ia)-oa*ga+(oa-ma)*ea)/pa,xa=(qa*(ha-da)-la*ha+na*da+(la-na)*aa)/
pa,ya=-(la*ia+qa*(ga-ia)-na*ga+(na-la)*ea)/pa,za=(qa*(oa*da-ma*ha)+ra*(la*ha-na*da)+(na*ma-la*oa)*aa)/pa,Aa=(qa*(oa*ga-ma*ia)+ra*(la*ia-na*ga)+(na*ma-la*oa)*ea)/pa,k.context.transform(va,wa,xa,ya,za,Aa),k.context.drawImage(F,0,0),k.context.restore()));H+=3}break;default:b.skip(e)}}}catch(Ba){if("__break__"!=Ba)throw Ba;}0<k.fillCommands.get_length()&&k.endFill();0<k.strokeCommands.get_length()&&k.endStroke();b.destroy();a.__bitmap=vb.fromCanvas(a.__canvas)}a.set___dirty(!1)}};k.renderMask=function(a,
b){if(0!=a.__commands.get_length()){k.context=b.context;for(var c=new Ec(a.__commands),d=0,e=a.__commands.types;d<e.length;){var f=e[d];++d;switch(f[1]){case 3:f=c.readCubicCurveTo();k.context.bezierCurveTo(R.get_controlX1(f)-0,R.get_controlY1(f)-0,R.get_controlX2(f)-0,R.get_controlY2(f)-0,R.get_anchorX(f)-0,R.get_anchorY(f)-0);R.get_anchorX(f);R.get_anchorY(f);break;case 4:f=c.readCurveTo();k.context.quadraticCurveTo(sa.get_controlX(f)-0,sa.get_controlY(f)-0,sa.get_anchorX(f)-0,sa.get_anchorY(f)-
0);sa.get_anchorX(f);sa.get_anchorY(f);break;case 5:f=c.readDrawCircle();k.context.arc(Ca.get_x(f)-0,Ca.get_y(f)-0,Ca.get_radius(f),0,2*Math.PI,!0);break;case 6:var g=c.readDrawEllipse(),f=ua.get_x(g),n=ua.get_y(g),h=ua.get_width(g),l=ua.get_height(g),f=f-0,n=n-0,g=h/2*.5522848,m=l/2*.5522848,x=f+h,q=n+l,h=f+h/2,l=n+l/2;k.context.moveTo(f,l);k.context.bezierCurveTo(f,l-m,h-g,n,h,n);k.context.bezierCurveTo(h+g,n,x,l-m,x,l);k.context.bezierCurveTo(x,l+m,h+g,q,h,q);k.context.bezierCurveTo(h-g,q,f,l+
m,f,l);break;case 7:f=c.readDrawRect();k.context.rect(ba.get_x(f)-0,ba.get_y(f)-0,ba.get_width(f),ba.get_height(f));break;case 8:f=c.readDrawRoundRect();k.drawRoundRect(Z.get_x(f)-0,Z.get_y(f)-0,Z.get_width(f),Z.get_height(f),Z.get_ellipseWidth(f),Z.get_ellipseHeight(f));break;case 15:f=c.readLineTo();k.context.lineTo(Ta.get_x(f)-0,Ta.get_y(f)-0);Ta.get_x(f);Ta.get_y(f);break;case 16:f=c.readMoveTo();k.context.moveTo(Ka.get_x(f)-0,Ka.get_y(f)-0);Ka.get_x(f);Ka.get_y(f);break;default:c.skip(f)}}c.destroy()}};
var Jd=function(a){this.renderSession=a};h["openfl._internal.renderer.canvas.CanvasMaskManager"]=Jd;Jd.__name__=["openfl","_internal","renderer","canvas","CanvasMaskManager"];Jd.__super__=rc;Jd.prototype=r(rc.prototype,{pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__getRenderTransform();b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.beginPath();a.__renderCanvasMask(this.renderSession);b.clip()},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,
a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){var c=this.renderSession.context;c.save();c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){this.renderSession.context.restore()},__class__:Jd});var Le=function(a,b){Qb.call(this,
a);this.context=b;this.renderSession=new hd;this.renderSession.context=b;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new Jd(this.renderSession)};h["openfl._internal.renderer.canvas.CanvasRenderer"]=Le;Le.__name__=["openfl","_internal","renderer","canvas","CanvasRenderer"];Le.__super__=Qb;Le.prototype=r(Qb.prototype,{render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=
1;!this.stage.__transparent&&this.stage.__clearBeforeRender?(this.context.fillStyle=this.stage.__colorString,this.context.fillRect(0,0,this.stage.stageWidth,this.stage.stageHeight)):this.stage.__transparent&&this.stage.__clearBeforeRender&&this.context.clearRect(0,0,this.stage.stageWidth,this.stage.stageHeight);this.stage.__renderCanvas(this.renderSession)},__class__:Le});var zg=function(){};h["openfl._internal.renderer.canvas.CanvasShape"]=zg;zg.__name__=["openfl","_internal","renderer","canvas",
"CanvasShape"];zg.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=a.__graphics;if(null!=c){k.render(c,b,a.__renderTransform);var d=c.__width,e=c.__height;if(null!=c.__canvas){var f=b.context,g=a.__scrollRect;0<d&&0<e&&(null==g||0<g.width&&0<g.height)&&(b.maskManager.pushObject(a),f.globalAlpha=a.__worldAlpha,d=c.__worldTransform,b.roundPixels?f.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):f.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),f.drawImage(c.__canvas,0,0),b.maskManager.popObject(a))}}}};
var qa=function(){};h["openfl._internal.renderer.canvas.CanvasTextField"]=qa;qa.__name__=["openfl","_internal","renderer","canvas","CanvasTextField"];qa.render=function(a,b,c){c=a.__textEngine;var d=c.bounds,e=a.__graphics;a.__dirty&&(a.__updateLayout(),null==e.__bounds&&(e.__bounds=new I),e.__bounds.copyFrom(d));e.__update();if(a.__dirty||e.__dirty){var f=e.__width,g=e.__height;if(!(null!=c.text&&""!=c.text||c.background||c.border||c.__hasFocus||1==c.type&&c.selectable)||(0>=c.width||0>=c.height)&&
2!=c.autoSize)a.__graphics.__canvas=null,a.__graphics.__context=null,a.__graphics.__bitmap=null,a.__graphics.set___dirty(!1),a.__dirty=!1;else{null==a.__graphics.__canvas&&(a.__graphics.__canvas=window.document.createElement("canvas"),a.__graphics.__context=a.__graphics.__canvas.getContext("2d"));qa.context=e.__context;e.__canvas.width=f;e.__canvas.height=g;f=e.__renderTransform;b.roundPixels?qa.context.setTransform(f.a,f.b,f.c,f.d,f.tx|0,f.ty|0):qa.context.setTransform(f.a,f.b,f.c,f.d,f.tx,f.ty);
if(null!=c.text&&""!=c.text||c.__hasFocus){f=c.text;!b.allowSmoothing||0==c.antiAliasType&&400==c.sharpness?(e.__context.mozImageSmoothingEnabled=!1,e.__context.msImageSmoothingEnabled=!1,e.__context.imageSmoothingEnabled=!1):(e.__context.mozImageSmoothingEnabled=!0,e.__context.msImageSmoothingEnabled=!0,e.__context.imageSmoothingEnabled=!0);if(c.border||c.background)qa.context.rect(.5,.5,d.width-1,d.height-1),c.background&&(qa.context.fillStyle="#"+da.hex(c.backgroundColor,6),qa.context.fill()),
c.border&&(qa.context.lineWidth=1,qa.context.strokeStyle="#"+da.hex(c.borderColor,6),qa.context.stroke());qa.context.textBaseline="top";qa.context.textAlign="start";b=-a.get_scrollH();for(var g=d=0,n=a.get_scrollV()-1;g<n;)var h=g++,d=d-c.lineHeights[h];for(var k,g=0,n=(new wa("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),h=0,l=c.layoutGroups;h<l.length;){var m=l[h];++h;if(!(m.lineIndex<a.get_scrollV()-1)){if(m.lineIndex>a.get_scrollV()+c.bottomScrollV-2)break;qa.context.font=
Oa.getFont(m.format);qa.context.fillStyle="#"+da.hex(m.format.color,6);n&&(g=.185*m.format.size);qa.context.fillText(f.substring(m.startIndex,m.endIndex),m.offsetX+b,m.offsetY+g+d);if(-1<a.__caretIndex&&c.selectable)if(a.__selectionIndex==a.__caretIndex){if(a.__showCursor&&m.startIndex<=a.__caretIndex&&m.endIndex>=a.__caretIndex){for(var q=k=0,p=a.__caretIndex-m.startIndex;q<p;){var r=q++;if(m.advances.length<=r)break;k+=m.advances[r]}qa.context.fillRect(m.offsetX+k,m.offsetY,1,m.height)}}else if(m.startIndex<=
a.__caretIndex&&m.endIndex>=a.__caretIndex||m.startIndex<=a.__selectionIndex&&m.endIndex>=a.__selectionIndex)k=w["int"](Math.min(a.__selectionIndex,a.__caretIndex)),q=w["int"](Math.max(a.__selectionIndex,a.__caretIndex)),m.startIndex>k&&(k=m.startIndex),m.endIndex<q&&(q=m.endIndex),p=a.getCharBoundaries(k),q>=c.text.length?(r=a.getCharBoundaries(c.text.length-1),r.x+=r.width+2):r=a.getCharBoundaries(q),null!=p&&null!=r&&(qa.context.fillStyle="#000000",qa.context.fillRect(p.x,p.y,r.x-p.x,m.height),
qa.context.fillStyle="#FFFFFF",qa.context.fillText(f.substring(k,q),b+p.x,m.offsetY+g+d))}}}else{if(c.border||c.background)c.border?qa.context.rect(.5,.5,d.width-1,d.height-1):qa.context.rect(0,0,d.width,d.height),c.background&&(qa.context.fillStyle="#"+da.hex(c.backgroundColor,6),qa.context.fill()),c.border&&(qa.context.lineWidth=1,qa.context.lineCap="square",qa.context.strokeStyle="#"+da.hex(c.borderColor,6),qa.context.stroke());if(-1<a.__caretIndex&&c.selectable&&a.__showCursor){f=-a.get_scrollH();
d=b=0;for(g=a.get_scrollV()-1;d<g;)n=d++,b-=c.lineHeights[n];qa.context.beginPath();qa.context.strokeStyle="#"+da.hex(a.get_defaultTextFormat().color,6);qa.context.moveTo(f+2.5,b+2.5);qa.context.lineWidth=1;qa.context.lineTo(f+2.5,b+Oa.getFormatHeight(a.get_defaultTextFormat())-1);qa.context.stroke();qa.context.closePath()}}e.__bitmap=vb.fromCanvas(a.__graphics.__canvas);e.__visible=!0;a.__dirty=!1;e.set___dirty(!1)}}};var Me=function(){};h["openfl._internal.renderer.dom.DOMBitmap"]=Me;Me.__name__=
["openfl","_internal","renderer","dom","DOMBitmap"];Me.renderCanvas=function(a,b){null!=a.__image&&(b.element.removeChild(a.__image),a.__image=null);null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"),b.allowSmoothing&&a.smoothing||(a.__context.mozImageSmoothingEnabled=!1,a.__context.msImageSmoothingEnabled=!1,a.__context.imageSmoothingEnabled=!1),Rb.initializeElement(a,a.__canvas,b));X.convertToCanvas(a.bitmapData.image);a.__canvas.width=
a.bitmapData.width;a.__canvas.height=a.bitmapData.height;a.__context.globalAlpha=a.__worldAlpha;a.__context.drawImage(a.bitmapData.image.buffer.__srcCanvas,0,0);Rb.applyStyle(a,b,!0,!1,!0)};Me.renderImage=function(a,b){null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null);null==a.__image&&(a.__image=window.document.createElement("img"),a.__image.src=a.bitmapData.image.buffer.__srcImage.src,Rb.initializeElement(a,a.__image,b));Rb.applyStyle(a,b,!0,!0,!0)};var Ne=function(a){this.renderSession=
a};h["openfl._internal.renderer.dom.DOMMaskManager"]=Ne;Ne.__name__=["openfl","_internal","renderer","dom","DOMMaskManager"];Ne.__super__=rc;Ne.prototype=r(rc.prototype,{pushMask:function(a){},pushObject:function(a,b){null!=a.__mask&&this.renderSession.maskManager.pushMask(a.__mask)},pushRect:function(a,b){},popMask:function(){},popObject:function(a,b){null!=a.__mask&&this.renderSession.maskManager.popMask()},__class__:Ne});var Rb=function(a,b){Qb.call(this,a);this.element=b;this.renderSession=new hd;
this.renderSession.element=b;this.renderSession.roundPixels=!0;var c=window.getComputedStyle(document.documentElement,""),c=(Array.prototype.slice.call(c).join("").match(/-(moz|webkit|ms)-/)||""===c.OLink&&["","o"])[1];"WebKit|Moz|MS|O".match(new RegExp("("+c+")","i"));c[0].toUpperCase();c.substr(1);this.renderSession.vendorPrefix=c;this.renderSession.transformProperty="webkit"==c?"-webkit-transform":"transform";this.renderSession.transformOriginProperty="webkit"==c?"-webkit-transform-origin":"transform-origin";
this.renderSession.maskManager=new Ne(this.renderSession);this.renderSession.renderer=this};h["openfl._internal.renderer.dom.DOMRenderer"]=Rb;Rb.__name__=["openfl","_internal","renderer","dom","DOMRenderer"];Rb.applyStyle=function(a,b,c,d,e){var f=a.__style;c&&a.__worldTransformChanged&&f.setProperty(b.transformProperty,a.__renderTransform.to3DString(b.roundPixels),null);a.__worldZ!=++b.z&&(a.__worldZ=b.z,f.setProperty("z-index",null==a.__worldZ?"null":""+a.__worldZ,null));d&&a.__worldAlphaChanged&&
(1>a.__worldAlpha?f.setProperty("opacity",null==a.__worldAlpha?"null":""+a.__worldAlpha,null):f.removeProperty("opacity"));e&&a.__worldClipChanged&&(null==a.__worldClip?f.removeProperty("clip"):(b=I.__temp,c=U.__temp,c.copyFrom(a.__renderTransform),c.invert(),a.__worldClip.__transform(b,c),f.setProperty("clip","rect("+b.y+"px, "+b.get_right()+"px, "+b.get_bottom()+"px, "+b.x+"px)",null)))};Rb.initializeElement=function(a,b,c){var d=a.__style=b.style;d.setProperty("position","absolute",null);d.setProperty("top",
"0",null);d.setProperty("left","0",null);d.setProperty(c.transformOriginProperty,"0 0 0",null);c.element.appendChild(b);a.__worldAlphaChanged=!0;a.__worldClipChanged=!0;a.__worldTransformChanged=!0;a.__worldVisibleChanged=!0;a.__worldZ=-1};Rb.__super__=Qb;Rb.prototype=r(Qb.prototype,{render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.element.style.background=this.stage.__transparent?"none":this.stage.__colorString;this.renderSession.z=1;this.stage.__renderDOM(this.renderSession)},
__class__:Rb});var hg=function(){};h["openfl._internal.renderer.dom.DOMShape"]=hg;hg.__name__=["openfl","_internal","renderer","dom","DOMShape"];hg.render=function(a,b){var c=a.__graphics;if(null!=a.stage&&a.__worldVisible&&a.__renderable&&null!=c){if(c.__dirty||a.__worldAlphaChanged||null==a.__canvas&&null!=c.__canvas){var d=U.__temp;d.identity();k.render(c,b,d);null!=c.__canvas?(null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"),Rb.initializeElement(a,
a.__canvas,b)),a.__canvas.width=c.__canvas.width,a.__canvas.height=c.__canvas.height,a.__context.globalAlpha=a.__worldAlpha,a.__context.drawImage(c.__canvas,0,0)):null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null)}if(null!=a.__canvas){if(a.__worldTransformChanged||c.__transformDirty)c.__transformDirty=!1,d=U.__temp,d.identity(),d.translate(c.__bounds.x,c.__bounds.y),d.concat(a.__renderTransform),a.__style.setProperty(b.transformProperty,b.roundPixels?"matrix3d("+
d.a+", "+d.b+", 0, 0, "+d.c+", "+d.d+", 0, 0, 0, 0, 1, 0, "+(d.tx|0)+", "+(d.ty|0)+", 0, 1)":"matrix3d("+d.a+", "+d.b+", 0, 0, "+d.c+", "+d.d+", 0, 0, 0, 0, 1, 0, "+d.tx+", "+d.ty+", 0, 1)",null);Rb.applyStyle(a,b,!1,!1,!0)}}else null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null)};var Cg=function(){};h["openfl._internal.renderer.dom.DOMTextField"]=Cg;Cg.__name__=["openfl","_internal","renderer","dom","DOMTextField"];Cg.render=function(a,b){var c=a.__textEngine;if(null!=
a.stage&&a.__worldVisible&&a.__renderable){if(a.__dirty||null==a.__div)if(""!=c.text||c.background||c.border||1==c.type){null==a.__div&&(a.__div=window.document.createElement("div"),Rb.initializeElement(a,a.__div,b),a.__style.setProperty("outline","none",null),a.__div.addEventListener("input",function(b){b.preventDefault();a.get_htmlText()!=a.__div.innerHTML&&(a.set_htmlText(a.__div.innerHTML),a.__dirty=!1)},!0));c.multiline?a.__style.setProperty("word-wrap","break-word",null):a.__style.setProperty("white-space",
"nowrap",null);a.__style.setProperty("overflow","hidden",null);c.selectable?a.__style.setProperty("cursor","text",null):a.__style.setProperty("cursor","inherit",null);a.__div.contentEditable=1==c.type;var d=a.__style;a.__div.innerHTML=c.text;c.background?d.setProperty("background-color","#"+da.hex(c.backgroundColor,6),null):d.removeProperty("background-color");c.border?d.setProperty("border","solid 1px #"+da.hex(c.borderColor,6),null):d.removeProperty("border");d.setProperty("font",Oa.getFont(a.__textFormat),
null);d.setProperty("color","#"+da.hex(a.__textFormat.color,6),null);2!=c.autoSize?d.setProperty("width","auto",null):d.setProperty("width",c.width+"px",null);d.setProperty("height",c.height+"px",null);switch(a.__textFormat.align){case 0:d.setProperty("text-align","center",null);break;case 4:d.setProperty("text-align","right",null);break;default:d.setProperty("text-align","left",null)}a.__dirty=!1}else null!=a.__div&&(b.element.removeChild(a.__div),a.__div=null);null!=a.__div&&Rb.applyStyle(a,b,!0,
!0,!1)}else null!=a.__div&&(b.element.removeChild(a.__div),a.__div=null,a.__style=null)};var Dg=function(){};h["openfl._internal.renderer.opengl.GLBitmap"]=Dg;Dg.__name__=["openfl","_internal","renderer","opengl","GLBitmap"];Dg.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)&&null!=a.bitmapData&&a.bitmapData.__isValid){var c=b.renderer,d=b.gl;b.blendModeManager.setBlendMode(a.get_blendMode());b.maskManager.pushObject(a);var e=b.filterManager.pushObject(a);e.get_data().uImage0.input=a.bitmapData;
e.get_data().uImage0.smoothing=b.allowSmoothing&&(a.smoothing||b.upscaled);e.get_data().uMatrix.value=c.getMatrix(a.__renderTransform);b.shaderManager.setShader(e);d.bindBuffer(d.ARRAY_BUFFER,a.bitmapData.getBuffer(d,a.__worldAlpha));d.vertexAttribPointer(e.get_data().aPosition.index,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(e.get_data().aTexCoord.index,2,d.FLOAT,!1,24,12);d.vertexAttribPointer(e.get_data().aAlpha.index,1,d.FLOAT,!1,24,20);d.drawArrays(d.TRIANGLE_STRIP,0,4);b.filterManager.popObject(a);
b.maskManager.popObject(a)}};var Oe=function(a){this.gl=a;this.setBlendMode(10);a.enable(a.BLEND)};h["openfl._internal.renderer.opengl.GLBlendModeManager"]=Oe;Oe.__name__=["openfl","_internal","renderer","opengl","GLBlendModeManager"];Oe.__super__=He;Oe.prototype=r(He.prototype,{setBlendMode:function(a){if(this.currentBlendMode!=a)switch(this.currentBlendMode=a,a){case 0:this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(this.gl.ONE,this.gl.ONE);break;case 9:this.gl.blendEquation(this.gl.FUNC_ADD);
this.gl.blendFunc(this.gl.DST_COLOR,this.gl.ONE_MINUS_SRC_ALPHA);break;case 12:this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_COLOR);break;case 14:this.gl.blendEquation(this.gl.FUNC_REVERSE_SUBTRACT);this.gl.blendFunc(this.gl.ONE,this.gl.ONE);break;default:this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)}},__class__:Oe});var ig=function(){};h["openfl._internal.renderer.opengl.GLDisplayObject"]=ig;
ig.__name__=["openfl","_internal","renderer","opengl","GLDisplayObject"];ig.render=function(a,b){if(!(null==a.opaqueBackground&&null==a.__graphics||!a.__renderable||0>=a.__worldAlpha)){if(null!=a.opaqueBackground&&0<a.get_width()&&0<a.get_height()){b.maskManager.pushObject(a);var c=b.gl,d=I.__temp;d.setTo(0,0,a.get_width(),a.get_height());b.maskManager.pushRect(d,a.__renderTransform);d=a.opaqueBackground;c.clearColor((d>>16&255)/255,(d>>8&255)/255,(d&255)/255,1);c.clear(c.COLOR_BUFFER_BIT);b.maskManager.popRect();
b.maskManager.popObject(a)}null!=a.__graphics&&Eg.render(a,b)}};var Pe=function(a){this.renderSession=a;this.gl=a.gl};h["openfl._internal.renderer.opengl.GLFilterManager"]=Pe;Pe.__name__=["openfl","_internal","renderer","opengl","GLFilterManager"];Pe.__super__=Ie;Pe.prototype=r(Ie.prototype,{pushObject:function(a){return null!=a.__filters&&0<a.__filters.length?a.__filters[0].__initShader(this.renderSession):this.renderSession.shaderManager.defaultShader},popObject:function(a){},__class__:Pe});var Qe=
function(a){this.renderSession=a;this.gl=a.gl;this.clipRects=[];this.numClipRects=0;this.tempRect=new I};h["openfl._internal.renderer.opengl.GLMaskManager"]=Qe;Qe.__name__=["openfl","_internal","renderer","opengl","GLMaskManager"];Qe.__super__=rc;Qe.prototype=r(rc.prototype,{pushMask:function(a){this.pushRect(a.getBounds(a),a.__getRenderTransform())},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},
pushRect:function(a,b){this.numClipRects==this.clipRects.length&&(this.clipRects[this.numClipRects]=new I);var c=this.clipRects[this.numClipRects];a.__transform(c,b);if(0<this.numClipRects){var d=this.clipRects[this.numClipRects-1];c.__contract(d.x,d.y,d.width,d.height)}0>c.height&&(c.height=0);0>c.width&&(c.width=0);this.scissorRect(c);this.numClipRects++},popMask:function(){this.popRect()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},
popRect:function(){0<this.numClipRects&&(this.numClipRects--,0<this.numClipRects?this.scissorRect(this.clipRects[this.numClipRects-1]):this.scissorRect())},scissorRect:function(a){if(null!=a){var b=this.renderSession.renderer;this.gl.enable(this.gl.SCISSOR_TEST);var c=this.tempRect;a.__transform(c,b.displayMatrix);a=Math.floor(c.x);var b=Math.floor(b.height-c.y-c.height),d=Math.ceil(c.width),c=Math.ceil(c.height);0>d&&(d=0);0>c&&(c=0);this.gl.scissor(a,b,d,c)}else this.gl.disable(this.gl.SCISSOR_TEST)},
__class__:Qe});var Se=function(a,b){Qb.call(this,a);this.gl=b;this.matrix=oa._new();this.values=[];this.renderSession=new hd;this.renderSession.gl=b;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.blendModeManager=new Oe(b);this.renderSession.filterManager=new Pe(this.renderSession);this.renderSession.shaderManager=new Re(b);this.renderSession.maskManager=new Qe(this.renderSession);null!=a.window&&this.resize(a.window.__width,a.window.__height)};h["openfl._internal.renderer.opengl.GLRenderer"]=
Se;Se.__name__=["openfl","_internal","renderer","opengl","GLRenderer"];Se.__super__=Qb;Se.prototype=r(Qb.prototype,{clear:function(){this.stage.__transparent?this.gl.clearColor(0,0,0,0):this.gl.clearColor(this.stage.__colorSplit[0],this.stage.__colorSplit[1],this.stage.__colorSplit[2],1);this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;null!=c.context3D&&(this.renderSession.blendModeManager.setBlendMode(null),null!=this.renderSession.shaderManager.currentShader&&
(this.renderSession.shaderManager.setShader(null),null!=c.context3D.__program&&c.context3D.__program.__use()))}},getMatrix:function(a){var b=U.__temp;b.copyFrom(a);b.concat(this.displayMatrix);this.renderSession.roundPixels&&(b.tx=Math.round(b.tx),b.ty=Math.round(b.ty));oa.identity(this.matrix);oa.set(this.matrix,0,b.a);oa.set(this.matrix,1,b.b);oa.set(this.matrix,4,b.c);oa.set(this.matrix,5,b.d);oa.set(this.matrix,12,b.tx);oa.set(this.matrix,13,b.ty);oa.append(this.matrix,this.projection);for(a=
0;16>a;)b=a++,this.values[b]=oa.get(this.matrix,b);return this.values},render:function(){this.gl.viewport(this.offsetX,this.offsetY,this.displayWidth,this.displayHeight);this.renderSession.allowSmoothing=2!=this.stage.quality;this.renderSession.upscaled=1!=this.displayMatrix.a||1!=this.displayMatrix.d;this.stage.__renderGL(this.renderSession);if(0<this.offsetX||0<this.offsetY)this.gl.clearColor(0,0,0,1),this.gl.enable(this.gl.SCISSOR_TEST),0<this.offsetX&&(this.gl.scissor(0,0,this.offsetX,this.height),
this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.scissor(this.offsetX+this.displayWidth,0,this.width,this.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT)),0<this.offsetY&&(this.gl.scissor(0,0,this.width,this.offsetY),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.scissor(0,this.offsetY+this.displayHeight,this.width,this.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT)),this.gl.disable(this.gl.SCISSOR_TEST)},resize:function(a,b){Qb.prototype.resize.call(this,a,b);this.displayMatrix=this.stage.__displayMatrix;
this.offsetX=Math.round(this.displayMatrix.__transformX(0,0));this.offsetY=Math.round(this.displayMatrix.__transformY(0,0));this.displayWidth=Math.round(this.displayMatrix.__transformX(this.stage.stageWidth,0)-this.offsetX);this.displayHeight=Math.round(this.displayMatrix.__transformY(0,this.stage.stageHeight)-this.offsetY);this.projection=oa.createOrtho(this.offsetX,this.displayWidth+this.offsetX,this.displayHeight+this.offsetY,this.offsetY,-1E3,1E3)},__class__:Se});var Re=function(a){this.gl=a;
this.defaultShader=new Mf;this.defaultShader.gl=a;this.defaultShader.__init()};h["openfl._internal.renderer.opengl.GLShaderManager"]=Re;Re.__name__=["openfl","_internal","renderer","opengl","GLShaderManager"];Re.__super__=Je;Re.prototype=r(Je.prototype,{setShader:function(a){this.currentShader==a?null!=this.currentShader&&this.currentShader.__update():(null!=this.currentShader&&this.currentShader.__disable(),null==a?(this.currentShader=null,this.gl.useProgram(null)):(this.currentShader=a,null==this.currentShader.gl&&
(this.currentShader.gl=this.gl,this.currentShader.__init()),this.gl.useProgram(a.glProgram),this.currentShader.__enable(),this.currentShader.__update()))},__class__:Re});var Eg=function(){};h["openfl._internal.renderer.opengl.GLShape"]=Eg;Eg.__name__=["openfl","_internal","renderer","opengl","GLShape"];Eg.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=a.__graphics;if(null!=c&&(k.render(c,b,a.__renderTransform),null!=c.__bitmap&&c.__visible)){var d=b.renderer,e=b.gl;b.blendModeManager.setBlendMode(a.get_blendMode());
b.maskManager.pushObject(a);var f=b.filterManager.pushObject(a);f.get_data().uImage0.input=c.__bitmap;f.get_data().uImage0.smoothing=b.allowSmoothing;f.get_data().uMatrix.value=d.getMatrix(c.__worldTransform);b.shaderManager.setShader(f);e.bindBuffer(e.ARRAY_BUFFER,c.__bitmap.getBuffer(e,a.__worldAlpha));e.vertexAttribPointer(f.get_data().aPosition.index,3,e.FLOAT,!1,24,0);e.vertexAttribPointer(f.get_data().aTexCoord.index,2,e.FLOAT,!1,24,12);e.vertexAttribPointer(f.get_data().aAlpha.index,1,e.FLOAT,
!1,24,20);e.drawArrays(e.TRIANGLE_STRIP,0,4);b.filterManager.popObject(a);b.maskManager.popObject(a)}}};var Xb=function(){};h["openfl._internal.stage3D.AGALConverter"]=Xb;Xb.__name__=["openfl","_internal","stage3D","AGALConverter"];Xb.prefixFromType=function(a,b){switch(a){case 0:return"va";case 1:return b==Lb.VERTEX?"vc":"fc";case 2:return b==Lb.VERTEX?"vt":"ft";case 3:return"output_";case 4:return"v";case 5:return"sampler";default:throw new m(new ma("Invalid data!"));}};Xb.readUInt64=function(a){var b=
a.readInt();a=a.readInt();return new G(a,b)};Xb.convertToGLSL=function(a,b){a.position=0;a.__endian=1;var c=a.readByte()&255;if(176==c)return a.readUTF();if(160!=c)throw new m(new ma("Magic value must be 0xA0, may not be AGAL"));if(1!=a.readInt())throw new m(new ma("Version must be 1"));if(161!=(a.readByte()&255))throw new m(new ma("Shader type ID must be 0xA1"));for(var c=0==(a.readByte()&255)?Lb.VERTEX:Lb.FRAGMENT,d=new Nf,e=new mc;a.position<Kd.get_length(a);){var f=a.readInt(),g=a.readUnsignedInt(),
n=Xb.readUInt64(a),h=Xb.readUInt64(a),g=Ld.parse(g,c),n=id.parse(n,c,g.mask),k=id.parse(h,c,g.mask);e.b+="\t";switch(f){case 0:e.add(g.toGLSL()+" = "+n.toGLSL()+"; // mov");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);break;case 1:e.add(g.toGLSL()+" = "+n.toGLSL()+" + "+k.toGLSL()+"; // add");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;case 2:e.add(g.toGLSL()+" = "+n.toGLSL()+" - "+k.toGLSL()+"; // sub");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);
break;case 3:e.add(g.toGLSL()+" = "+n.toGLSL()+" * "+k.toGLSL()+"; // mul");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;case 4:e.add(g.toGLSL()+" = "+n.toGLSL()+" / "+k.toGLSL()+"; // div");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;case 5:e.add(g.toGLSL()+" = vec4(1) / "+n.toGLSL()+", "+k.toGLSL()+"; // rcp (untested)");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);break;case 6:e.add(g.toGLSL()+" = min("+n.toGLSL()+", "+k.toGLSL()+"); // min");
d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;case 7:e.add(g.toGLSL()+" = max("+n.toGLSL()+", "+k.toGLSL()+"); // max");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;case 8:e.add(g.toGLSL()+" = fract("+n.toGLSL()+"); // frc");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);break;case 9:e.add(g.toGLSL()+" = sqrt("+n.toGLSL()+"); // sqrt");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);break;case 10:e.add(g.toGLSL()+" = inversesqrt("+n.toGLSL()+"); // rsq");
d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);break;case 11:e.add(g.toGLSL()+" = pow("+n.toGLSL()+", "+k.toGLSL()+"); // pow");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;case 12:e.add(g.toGLSL()+" = log2("+n.toGLSL()+"); // log");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);break;case 13:e.add(g.toGLSL()+" = exp2("+n.toGLSL()+"); // exp");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);break;case 14:e.add(g.toGLSL()+" = normalize("+n.toGLSL()+"); // normalize");d.addDR(g,t.VECTOR_4);
d.addSR(n,t.VECTOR_4);break;case 15:e.add(g.toGLSL()+" = sin("+n.toGLSL()+"); // sin");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);break;case 16:e.add(g.toGLSL()+" = cos("+n.toGLSL()+"); // cos");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);break;case 17:n.sourceMask=k.sourceMask=7;e.add(g.toGLSL()+" = cross(vec3("+n.toGLSL()+"), vec3("+k.toGLSL()+")); // crs");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;case 18:n.sourceMask=k.sourceMask=7;e.add(g.toGLSL()+" = vec4(dot(vec3("+
n.toGLSL()+"), vec3("+k.toGLSL()+")))"+g.getWriteMask()+"; // dp3");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;case 19:n.sourceMask=k.sourceMask=15;e.add(g.toGLSL()+" = vec4(dot(vec4("+n.toGLSL()+"), vec4("+k.toGLSL()+")))"+g.getWriteMask()+"; // dp4");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;case 20:e.add(g.toGLSL()+" = abs("+n.toGLSL()+"); // abs");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);break;case 21:e.add(g.toGLSL()+" = -"+n.toGLSL()+
"; // neg");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);break;case 22:e.add(g.toGLSL()+" = clamp("+n.toGLSL()+", 0.0, 1.0); // saturate");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);break;case 23:f=d.getRegisterUsage(k);f!=t.VECTOR_4&&f!=t.VECTOR_4_ARRAY?(e.add(g.toGLSL()+" = "+n.toGLSL()+" * mat3("+k.toGLSL(!1)+"); // m33"),d.addDR(g,t.VECTOR_4),d.addSR(n,t.VECTOR_4),d.addSR(k,t.MATRIX_4_4)):(n.sourceMask=k.sourceMask=7,e.add(g.toGLSL()+" = vec3(dot("+n.toGLSL(!0)+","+k.toGLSL(!0,0)+"), dot("+n.toGLSL(!0)+
","+k.toGLSL(!0,1)+"),dot("+n.toGLSL(!0)+","+k.toGLSL(!0,2)+")); // m33"),d.addDR(g,t.VECTOR_4),d.addSR(n,t.VECTOR_4),d.addSR(k,t.VECTOR_4,0),d.addSR(k,t.VECTOR_4,1),d.addSR(k,t.VECTOR_4,2));break;case 24:f=d.getRegisterUsage(k);f!=t.VECTOR_4&&f!=t.VECTOR_4_ARRAY?(e.add(g.toGLSL()+" = "+n.toGLSL()+" * "+k.toGLSL(!1)+"; // m44"),d.addDR(g,t.VECTOR_4),d.addSR(n,t.VECTOR_4),d.addSR(k,t.MATRIX_4_4)):(n.sourceMask=k.sourceMask=15,e.add(g.toGLSL()+" = vec4(dot("+n.toGLSL(!0)+","+k.toGLSL(!0,0)+"), dot("+
n.toGLSL(!0)+","+k.toGLSL(!0,1)+"), dot("+n.toGLSL(!0)+","+k.toGLSL(!0,2)+"), dot("+n.toGLSL(!0)+","+k.toGLSL(!0,3)+")); // m44"),d.addDR(g,t.VECTOR_4),d.addSR(n,t.VECTOR_4),d.addSR(k,t.VECTOR_4,0),d.addSR(k,t.VECTOR_4,1),d.addSR(k,t.VECTOR_4,2),d.addSR(k,t.VECTOR_4,3));break;case 25:g.mask&=7;f=d.getRegisterUsage(k);f!=t.VECTOR_4&&f!=t.VECTOR_4_ARRAY?(e.add(g.toGLSL()+" = "+n.toGLSL()+" * "+k.toGLSL(!1)+"; // m34"),d.addDR(g,t.VECTOR_4),d.addSR(n,t.VECTOR_4),d.addSR(k,t.MATRIX_4_4)):(n.sourceMask=
k.sourceMask=15,e.add(g.toGLSL()+" = vec3(dot("+n.toGLSL(!0)+","+k.toGLSL(!0,0)+"), dot("+n.toGLSL(!0)+","+k.toGLSL(!0,1)+"),dot("+n.toGLSL(!0)+","+k.toGLSL(!0,2)+")); // m34"),d.addDR(g,t.VECTOR_4),d.addSR(n,t.VECTOR_4),d.addSR(k,t.VECTOR_4,0),d.addSR(k,t.VECTOR_4,1),d.addSR(k,t.VECTOR_4,2));break;case 39:n.sourceMask=15;e.add("if (any(lessThan("+n.toGLSL()+", vec4(0)))) discard;");d.addSR(n,t.VECTOR_4);break;case 40:k=Md.parse(h,c);switch(k.d){case 0:n.sourceMask=3;d.addSaR(k,t.SAMPLER_2D);e.add(g.toGLSL()+
" = texture2D("+k.toGLSL()+", "+n.toGLSL()+"); // tex");break;case 1:n.sourceMask=7,e.add(g.toGLSL()+" = textureCube("+k.toGLSL()+", "+n.toGLSL()+"); // tex"),d.addSaR(k,t.SAMPLER_CUBE)}d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);null!=b&&(b[k.n]=k.toSamplerState());break;case 41:n.sourceMask=k.sourceMask=15;e.add(g.toGLSL()+" = vec4(greaterThanEqual("+n.toGLSL()+", "+k.toGLSL()+"))"+g.getWriteMask()+"; // ste");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;case 42:n.sourceMask=
k.sourceMask=15;e.add(g.toGLSL()+" = vec4(lessThan("+n.toGLSL()+", "+k.toGLSL()+"))"+g.getWriteMask()+"; // slt");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;case 44:n.sourceMask=k.sourceMask=15;e.add(g.toGLSL()+" = vec4(equal("+n.toGLSL()+", "+k.toGLSL()+"))"+g.getWriteMask()+"; // seq");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;case 45:n.sourceMask=k.sourceMask=15;e.add(g.toGLSL()+" = vec4(notEqual("+n.toGLSL()+", "+k.toGLSL()+"))"+g.getWriteMask()+
"; // sne");d.addDR(g,t.VECTOR_4);d.addSR(n,t.VECTOR_4);d.addSR(k,t.VECTOR_4);break;default:throw new m(new ma("Opcode "+f));}e.b+="\n"}g=new mc;g.b+=w.string("// AGAL "+(c==Lb.VERTEX?"vertex":"fragment")+" shader\n");g.b+=w.string("#version 100\n");g.b+="precision highp float;\n";g.add(d.toGLSL(!1));c==Lb.VERTEX&&(g.b+="uniform vec4 vcPositionScale;\n");g.b+="void main() {\n";g.add(d.toGLSL(!0));g.b=null==e.b?g.b+"null":g.b+(""+e.b);c==Lb.VERTEX&&(g.b+="\tgl_Position *= vcPositionScale;\n");g.b+=
"}\n";return g.b};var Ld=function(){};h["openfl._internal.stage3D._AGALConverter.DestRegister"]=Ld;Ld.__name__=["openfl","_internal","stage3D","_AGALConverter","DestRegister"];Ld.parse=function(a,b){var c=new Ld;c.programType=b;c.type=a>>24&15;c.mask=a>>16&15;c.n=a&65535;return c};Ld.prototype={getWriteMask:function(){var a=".";0!=(this.mask&1)&&(a+="x");0!=(this.mask&2)&&(a+="y");0!=(this.mask&4)&&(a+="z");0!=(this.mask&8)&&(a+="w");return a},toGLSL:function(a){null==a&&(a=!0);var b;b=3==this.type?
this.programType==Lb.VERTEX?"gl_Position":"gl_FragColor":Xb.prefixFromType(this.type,this.programType)+this.n;a&&15!=this.mask&&(b+=this.getWriteMask());return b},__class__:Ld};var Lb=h["openfl._internal.stage3D._AGALConverter.ProgramType"]={__ename__:!0,__constructs__:["VERTEX","FRAGMENT"]};Lb.VERTEX=["VERTEX",0];Lb.VERTEX.toString=H;Lb.VERTEX.__enum__=Lb;Lb.FRAGMENT=["FRAGMENT",1];Lb.FRAGMENT.toString=H;Lb.FRAGMENT.__enum__=Lb;var Nf=function(){this.mEntries=[]};h["openfl._internal.stage3D.RegisterMap"]=
Nf;Nf.__name__=["openfl","_internal","stage3D","RegisterMap"];Nf.prototype={add:function(a,b,c,d){for(var e=0,f=this.mEntries;e<f.length;){var g=f[e];++e;if(g.type==a&&g.name==b&&g.number==c){if(g.usage!=d)throw new m(new ma("Cannot use register in multiple ways yet (mat4/vec4)"));return}}e=new Of;e.type=a;e.name=b;e.number=c;e.usage=d;this.mEntries.push(e)},addDR:function(a,b){this.add(a.type,a.toGLSL(!1),a.n,b)},addSaR:function(a,b){this.add(a.type,a.toGLSL(),a.n,b)},addSR:function(a,b,c){null==
c&&(c=0);0!=a.d?(this.add(a.itype,Xb.prefixFromType(a.itype,a.programType)+a.n,a.n,t.VECTOR_4),this.add(a.type,Xb.prefixFromType(a.type,a.programType)+a.o,a.o,t.VECTOR_4_ARRAY)):this.add(a.type,a.toGLSL(!1,c),a.n+c,b)},getRegisterUsage:function(a){return 0!=a.d?t.VECTOR_4_ARRAY:this.getUsage(a.type,a.toGLSL(!1),a.n)},getUsage:function(a,b,c){for(var d=0,e=this.mEntries;d<e.length;){var f=e[d];++d;if(f.type==a&&f.name==b&&f.number==c)return f.usage}return t.UNUSED},toGLSL:function(a){this.mEntries.sort(function(a,
b){return a.type!=b.type?u.__cast(a.type,lg)-u.__cast(b.type,lg):a.number-b.number});for(var b="",c=0,d=this.mEntries.length;c<d;){var e=c++,f=this.mEntries[e];if(!(a&&2!=f.type||!a&&2==f.type)&&3!=f.type){switch(f.type){case 0:b+="attribute ";break;case 1:b+="uniform ";break;case 2:b+="\t";break;case 3:break;case 4:b+="varying ";break;case 5:b+="uniform ";break;default:throw new m(new ma);}switch(f.usage[1]){case 1:b+="vec4 ";break;case 6:b+="vec4 ";break;case 2:b+="mat4 ";break;case 3:b+="sampler2D ";
break;case 5:b+="samplerCube ";break;case 0:Na.trace("Missing switch patten: RegisterUsage.UNUSED",{fileName:"AGALConverter.hx",lineNumber:750,className:"openfl._internal.stage3D.RegisterMap",methodName:"toGLSL"});break;case 4:Na.trace("Missing switch patten: RegisterUsage.SAMPLER_2D_ALPHA",{fileName:"AGALConverter.hx",lineNumber:754,className:"openfl._internal.stage3D.RegisterMap",methodName:"toGLSL"})}if(f.usage==t.SAMPLER_2D_ALPHA)b+="sampler2D ",b=null==f.name?b+"null":b+(""+f.name),b+=";\n",
b+="uniform ",b+="sampler2D ",b+=w.string(f.name+"_alpha");else if(f.usage==t.VECTOR_4_ARRAY){var g=128;e<this.mEntries.length-1&&(g=this.mEntries[e+1].number-f.number);b+=w.string(f.name+"["+g+"]")}else b=null==f.name?b+"null":b+(""+f.name);b+=";\n"}}return b},__class__:Nf};var Of=function(){};h["openfl._internal.stage3D._AGALConverter.RegisterMapEntry"]=Of;Of.__name__=["openfl","_internal","stage3D","_AGALConverter","RegisterMapEntry"];Of.prototype={__class__:Of};var t=h["openfl._internal.stage3D._AGALConverter.RegisterUsage"]=
{__ename__:!0,__constructs__:"UNUSED VECTOR_4 MATRIX_4_4 SAMPLER_2D SAMPLER_2D_ALPHA SAMPLER_CUBE VECTOR_4_ARRAY".split(" ")};t.UNUSED=["UNUSED",0];t.UNUSED.toString=H;t.UNUSED.__enum__=t;t.VECTOR_4=["VECTOR_4",1];t.VECTOR_4.toString=H;t.VECTOR_4.__enum__=t;t.MATRIX_4_4=["MATRIX_4_4",2];t.MATRIX_4_4.toString=H;t.MATRIX_4_4.__enum__=t;t.SAMPLER_2D=["SAMPLER_2D",3];t.SAMPLER_2D.toString=H;t.SAMPLER_2D.__enum__=t;t.SAMPLER_2D_ALPHA=["SAMPLER_2D_ALPHA",4];t.SAMPLER_2D_ALPHA.toString=H;t.SAMPLER_2D_ALPHA.__enum__=
t;t.SAMPLER_CUBE=["SAMPLER_CUBE",5];t.SAMPLER_CUBE.toString=H;t.SAMPLER_CUBE.__enum__=t;t.VECTOR_4_ARRAY=["VECTOR_4_ARRAY",6];t.VECTOR_4_ARRAY.toString=H;t.VECTOR_4_ARRAY.__enum__=t;var Md=function(){};h["openfl._internal.stage3D._AGALConverter.SamplerRegister"]=Md;Md.__name__=["openfl","_internal","stage3D","_AGALConverter","SamplerRegister"];Md.parse=function(a,b){var c=new Md;c.programType=b;var d;d=60;d=0==d?new G(a.high,a.low):32>d?new G(a.high>>d,a.high<<32-d|a.low>>>d):new G(a.high>>31,a.high>>
d-32);var e;e=new G(0,15);d=new G(d.high&e.high,d.low&e.low);c.f=d.low;d=56;d=0==d?new G(a.high,a.low):32>d?new G(a.high>>d,a.high<<32-d|a.low>>>d):new G(a.high>>31,a.high>>d-32);e=new G(0,15);d=new G(d.high&e.high,d.low&e.low);c.m=d.low;d=52;d=0==d?new G(a.high,a.low):32>d?new G(a.high>>d,a.high<<32-d|a.low>>>d):new G(a.high>>31,a.high>>d-32);e=new G(0,15);d=new G(d.high&e.high,d.low&e.low);c.w=d.low;d=48;d=0==d?new G(a.high,a.low):32>d?new G(a.high>>d,a.high<<32-d|a.low>>>d):new G(a.high>>31,a.high>>
d-32);e=new G(0,15);d=new G(d.high&e.high,d.low&e.low);c.s=d.low;d=44;d=0==d?new G(a.high,a.low):32>d?new G(a.high>>d,a.high<<32-d|a.low>>>d):new G(a.high>>31,a.high>>d-32);e=new G(0,15);d=new G(d.high&e.high,d.low&e.low);c.d=d.low;d=40;d=0==d?new G(a.high,a.low):32>d?new G(a.high>>d,a.high<<32-d|a.low>>>d):new G(a.high>>31,a.high>>d-32);e=new G(0,15);d=new G(d.high&e.high,d.low&e.low);c.t=d.low;d=32;d=0==d?new G(a.high,a.low):32>d?new G(a.high>>d,a.high<<32-d|a.low>>>d):new G(a.high>>31,a.high>>
d-32);e=new G(0,15);d=new G(d.high&e.high,d.low&e.low);c.type=d.low;d=16;d=0==d?new G(a.high,a.low):32>d?new G(a.high>>d,a.high<<32-d|a.low>>>d):new G(a.high>>31,a.high>>d-32);e=new G(0,255);d=new G(d.high&e.high,d.low&e.low);c.b=d.low;d=new G(0,65535);d=new G(a.high&d.high,a.low&d.low);c.n=d.low;return c};Md.prototype={toGLSL:function(){return Xb.prefixFromType(this.type,this.programType)+this.n},toSamplerState:function(){var a=0,b=0,c=0,d=0;switch(this.f){case 0:a=9728;break;case 1:a=9729;break;
default:throw new m(new ma);}switch(this.m){case 0:b=0!=this.f?9729:9728;break;case 1:b=0!=this.f?9986:9984;break;case 2:b=0!=this.f?9987:9985;break;default:throw new m(new ma);}switch(this.w){case 0:d=c=33071;break;case 1:d=c=10497;break;default:throw new m(new ma);}return new Te(b,a,c,d,(this.b<<24>>24)/8,0)},__class__:Md};var id=function(){};h["openfl._internal.stage3D._AGALConverter.SourceRegister"]=id;id.__name__=["openfl","_internal","stage3D","_AGALConverter","SourceRegister"];id.parse=function(a,
b,c){var d=new id;d.programType=b;b=63;b=0==b?new G(a.high,a.low):32>b?new G(a.high>>b,a.high<<32-b|a.low>>>b):new G(a.high>>31,a.high>>b-32);var e;e=new G(0,1);b=new G(b.high&e.high,b.low&e.low);d.d=b.low;b=48;b=0==b?new G(a.high,a.low):32>b?new G(a.high>>b,a.high<<32-b|a.low>>>b):new G(a.high>>31,a.high>>b-32);e=new G(0,3);b=new G(b.high&e.high,b.low&e.low);d.q=b.low;d.itype=function(b){b=40;b=0==b?new G(a.high,a.low):32>b?new G(a.high>>b,a.high<<32-b|a.low>>>b):new G(a.high>>31,a.high>>b-32);var c;
c=new G(0,15);return(new G(b.high&c.high,b.low&c.low)).low}(this);d.type=function(b){b=32;b=0==b?new G(a.high,a.low):32>b?new G(a.high>>b,a.high<<32-b|a.low>>>b):new G(a.high>>31,a.high>>b-32);var c;c=new G(0,15);return(new G(b.high&c.high,b.low&c.low)).low}(this);b=24;b=0==b?new G(a.high,a.low):32>b?new G(a.high>>b,a.high<<32-b|a.low>>>b):new G(a.high>>31,a.high>>b-32);e=new G(0,255);b=new G(b.high&e.high,b.low&e.low);d.s=b.low;b=16;b=0==b?new G(a.high,a.low):32>b?new G(a.high>>b,a.high<<32-b|a.low>>>
b):new G(a.high>>31,a.high>>b-32);e=new G(0,255);b=new G(b.high&e.high,b.low&e.low);d.o=b.low;b=new G(0,65535);b=new G(a.high&b.high,a.low&b.low);d.n=b.low;d.sourceMask=c;return d};id.prototype={toGLSL:function(a,b){null==b&&(b=0);null==a&&(a=!0);if(3==this.type)return this.programType==Lb.VERTEX?"gl_Position":"gl_FragColor";var c=228==this.s&&15==this.sourceMask,d="";if(5!=this.type&&!c)for(c=0;4>c;){var e=c++;if(0!=(this.sourceMask&1<<e))switch(this.s>>2*e&3){case 0:d+="x";break;case 1:d+="y";break;
case 2:d+="z";break;case 3:d+="w"}}c=Xb.prefixFromType(this.type,this.programType);0==this.d?c+=this.n+b:(c+=this.o,e=String.fromCharCode(M.cca("x",0)+this.q),e=Xb.prefixFromType(this.itype,this.programType)+this.n+"."+e,c+="[ int("+e+") +"+b+"]");a&&""!=d&&(c+="."+d);return c},__class__:id};var Pf=function(){this._registers=E.toFloatVector(null,4096);this.clearSettings()};h["openfl._internal.stage3D.Context3DStateCache"]=Pf;Pf.__name__=["openfl","_internal","stage3D","Context3DStateCache"];Pf.prototype=
{clearRegisters:function(){for(var a=0;4096>a;){var b=a++;this._registers.set(b,-999999999)}},clearSettings:function(){this._destBlendFactor=this._srcBlendFactor=null;this._depthTestMask=this._depthTestEnabled=!1;this._cullingMode=this._program=this._depthTestCompareMode=null;this._viewportHeight=this._viewportWidth=this._viewportOriginY=this._viewportOriginX=this._activeVertexArray=this._activeTexture=-1;this.clearRegisters()},updateActiveTextureSample:function(a){this._activeTexture=a;return!0},
updateBlendDestFactor:function(a){this._destBlendFactor=a;return!0},updateBlendSrcFactor:function(a){this._srcBlendFactor=a;return!0},updateCullingMode:function(a){this._cullingMode=a;return!0},updateDepthCompareMode:function(a){this._depthTestCompareMode=a;return!0},updateDepthTestEnabled:function(a){this._depthTestEnabled=a;return!0},updateDepthTestMask:function(a){this._depthTestMask=a;return!0},updateProgram3D:function(a){this._program=a;return!0},updateViewport:function(a,b,c,d){this._viewportOriginX=
a;this._viewportOriginY=b;this._viewportWidth=c;this._viewportHeight=d;return!0},__class__:Pf};var D=function(){};h["openfl._internal.stage3D.GLUtils"]=D;D.__name__=["openfl","_internal","stage3D","GLUtils"];D.CheckGLError=function(){if(D.debug){var a=p.context.getError();if(0!=a)throw new m(new ma("Error calling openGL api. Error: "+a+"\n"));}};var Te=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);this.minFilter=a;this.magFilter=b;this.wrapModeS=c;this.wrapModeT=d;this.lodBias=e;this.maxAniso=
f};h["openfl._internal.stage3D.SamplerState"]=Te;Te.__name__=["openfl","_internal","stage3D","SamplerState"];Te.prototype={equals:function(a){return this==a?!0:null==a?!1:this.minFilter==a.minFilter&&this.magFilter==a.magFilter&&this.wrapModeS==a.wrapModeS&&this.wrapModeT==a.wrapModeT&&this.lodBias==a.lodBias&&this.maxAniso==a.maxAniso},__class__:Te};var Ue=function(){};h["openfl._internal.stage3D.assembler.FS"]=Ue;Ue.__name__=["openfl","_internal","stage3D","assembler","FS"];Ue.prototype={__class__:Ue};
var Qf=function(){};h["openfl._internal.stage3D.assembler.Flags"]=Qf;Qf.__name__=["openfl","_internal","stage3D","assembler","Flags"];Qf.prototype={__class__:Qf};var pa=function(a,b,c,d,e,f,g,n,h,k){null==k&&(k=!1);null==h&&(h=!1);null==n&&(n=!1);this.a=new Ue;this.b=new Ue;this.flags=new Qf;this.dest=a;this.a.format=b;this.a.size=c;this.b.format=d;this.b.size=e;this.opcode=f;this.flags.simple=g;this.flags.horizontal=n;this.flags.fragonly=h;this.flags.matrix=k};h["openfl._internal.stage3D.assembler.Opcode"]=
pa;pa.__name__=["openfl","_internal","stage3D","assembler","Opcode"];pa.prototype={__class__:pa};var ha=function(){};h["openfl._internal.stage3D.assembler.OpcodeMap"]=ha;ha.__name__=["openfl","_internal","stage3D","assembler","OpcodeMap"];ha.__properties__={get_map:"get_map"};ha.get_map=function(){if(null==ha._map){ha._map=new ja;var a=new pa("vector","vector",4,"none",0,0,!0,!1,!1,!1);ha._map.set("mov",a);a=new pa("vector","vector",4,"vector",4,1,!0,!1,!1,!1);ha._map.set("add",a);a=new pa("vector",
"vector",4,"vector",4,2,!0,!1,!1,!1);ha._map.set("sub",a);a=new pa("vector","vector",4,"vector",4,3,!0,!1,!1,!1);ha._map.set("mul",a);a=new pa("vector","vector",4,"vector",4,4,!0,!1,!1,!1);ha._map.set("div",a);a=new pa("vector","vector",4,"none",0,5,!0,!1,!1,!1);ha._map.set("rcp",a);a=new pa("vector","vector",4,"vector",4,6,!0,!1,!1,!1);ha._map.set("min",a);a=new pa("vector","vector",4,"vector",4,7,!0,!1,!1,!1);ha._map.set("max",a);a=new pa("vector","vector",4,"none",0,8,!0,!1,!1,!1);ha._map.set("frc",
a);a=new pa("vector","vector",4,"none",0,9,!0,!1,!1,!1);ha._map.set("sqt",a);a=new pa("vector","vector",4,"none",0,10,!0,!1,!1,!1);ha._map.set("rsq",a);a=new pa("vector","vector",4,"vector",4,11,!0,!1,!1,!1);ha._map.set("pow",a);a=new pa("vector","vector",4,"none",0,12,!0,!1,!1,!1);ha._map.set("log",a);a=new pa("vector","vector",4,"none",0,13,!0,!1,!1,!1);ha._map.set("exp",a);a=new pa("vector","vector",4,"none",0,14,!0,!1,!1,!1);ha._map.set("nrm",a);a=new pa("vector","vector",4,"none",0,15,!0,!1,
!1,!1);ha._map.set("sin",a);a=new pa("vector","vector",4,"none",0,16,!0,!1,!1,!1);ha._map.set("cos",a);a=new pa("vector","vector",4,"vector",4,17,!0,!0,!1,!1);ha._map.set("crs",a);a=new pa("vector","vector",4,"vector",4,18,!0,!0,!1,!1);ha._map.set("dp3",a);a=new pa("vector","vector",4,"vector",4,19,!0,!0,!1,!1);ha._map.set("dp4",a);a=new pa("vector","vector",4,"none",0,20,!0,!1,!1,!1);ha._map.set("abs",a);a=new pa("vector","vector",4,"none",0,21,!0,!1,!1,!1);ha._map.set("neg",a);a=new pa("vector",
"vector",4,"none",0,22,!0,!1,!1,!1);ha._map.set("sat",a);a=new pa("vector","vector",4,"sampler",1,38,!0,!1,!0,!1);ha._map.set("ted",a);a=new pa("none","scalar",1,"none",0,39,!0,!1,!0,!1);ha._map.set("kil",a);a=new pa("vector","vector",4,"sampler",1,40,!0,!1,!0,!1);ha._map.set("tex",a);a=new pa("vector","matrix",3,"vector",3,23,!0,!1,!1,!0);ha._map.set("m33",a);a=new pa("vector","matrix",4,"vector",4,24,!0,!1,!1,!0);ha._map.set("m44",a);a=new pa("vector","matrix",3,"vector",4,25,!0,!1,!1,!0);ha._map.set("m43",
a);a=new pa("vector","vector",4,"vector",4,41,!0,!1,!1,!1);ha._map.set("sge",a);a=new pa("vector","vector",4,"vector",4,42,!0,!1,!1,!1);ha._map.set("slt",a);a=new pa("vector","vector",4,"vector",4,43,!0,!1,!1,!1);ha._map.set("sgn",a);a=new pa("vector","vector",4,"vector",4,44,!0,!1,!1,!1);ha._map.set("seq",a);a=new pa("vector","vector",4,"vector",4,45,!0,!1,!1,!1);ha._map.set("sne",a)}return ha._map};var Ve=function(a,b){null==b&&(b=0);null==a&&(a="");this.name=a;this.version=b;this.data=new jd(0);
this.data.__endian=1};h["openfl._internal.stage3D.assembler.Part"]=Ve;Ve.__name__=["openfl","_internal","stage3D","assembler","Part"];Ve.prototype={__class__:Ve};var Eb=function(a,b){this.code=a;this.desc=b};h["openfl._internal.stage3D.assembler.Reg"]=Eb;Eb.__name__=["openfl","_internal","stage3D","assembler","Reg"];Eb.prototype={__class__:Eb};var Za=function(){};h["openfl._internal.stage3D.assembler.RegMap"]=Za;Za.__name__=["openfl","_internal","stage3D","assembler","RegMap"];Za.__properties__={get_map:"get_map"};
Za.get_map=function(){null==Za._map&&(Za._map=new ja,Za._map.set("va",new Eb(0,"vertex attribute")),Za._map.set("fc",new Eb(1,"fragment constant")),Za._map.set("vc",new Eb(1,"vertex constant")),Za._map.set("ft",new Eb(2,"fragment temporary")),Za._map.set("vt",new Eb(2,"vertex temporary")),Za._map.set("vo",new Eb(3,"vertex output")),Za._map.set("op",new Eb(3,"vertex output")),Za._map.set("fd",new Eb(3,"fragment depth output")),Za._map.set("fo",new Eb(3,"fragment output")),Za._map.set("oc",new Eb(3,
"fragment output")),Za._map.set("v",new Eb(4,"varying")),Za._map.set("vi",new Eb(4,"varying output")),Za._map.set("fi",new Eb(4,"varying input")),Za._map.set("fs",new Eb(5,"sampler")));return Za._map};var eb=function(a,b,c){this.shift=a;this.mask=b;this.value=c};h["openfl._internal.stage3D.assembler.Sampler"]=eb;eb.__name__=["openfl","_internal","stage3D","assembler","Sampler"];eb.prototype={__class__:eb};var Ua=function(){};h["openfl._internal.stage3D.assembler.SamplerMap"]=Ua;Ua.__name__=["openfl",
"_internal","stage3D","assembler","SamplerMap"];Ua.__properties__={get_map:"get_map"};Ua.get_map=function(){null==Ua._map&&(Ua._map=new ja,Ua._map.set("rgba",new eb(8,15,0)),Ua._map.set("rg",new eb(8,15,5)),Ua._map.set("r",new eb(8,15,4)),Ua._map.set("compressed",new eb(8,15,1)),Ua._map.set("compressed_alpha",new eb(8,15,2)),Ua._map.set("dxt1",new eb(8,15,1)),Ua._map.set("dxt5",new eb(8,15,2)),Ua._map.set("2d",new eb(12,15,0)),Ua._map.set("cube",new eb(12,15,1)),Ua._map.set("3d",new eb(12,15,2)),
Ua._map.set("centroid",new eb(16,1,1)),Ua._map.set("ignoresampler",new eb(16,4,4)),Ua._map.set("clamp",new eb(20,15,0)),Ua._map.set("repeat",new eb(20,15,1)),Ua._map.set("wrap",new eb(20,15,1)),Ua._map.set("nomip",new eb(24,15,0)),Ua._map.set("mipnone",new eb(24,15,0)),Ua._map.set("mipnearest",new eb(24,15,1)),Ua._map.set("miplinear",new eb(24,15,2)),Ua._map.set("nearest",new eb(28,15,0)),Ua._map.set("linear",new eb(28,15,1)));return Ua._map};var Oa=function(a){this.textField=a;this.height=this.width=
100;this.text="";this.bounds=new I(0,0,0,0);this.type=0;this.autoSize=2;this.embedFonts=!1;this.selectable=!0;this.borderColor=0;this.border=!1;this.backgroundColor=16777215;this.background=!1;this.gridFitType=1;this.maxChars=0;this.multiline=!1;this.scrollH=this.sharpness=0;this.scrollV=1;this.wordWrap=!1;this.lineAscents=[];this.lineBreaks=[];this.lineDescents=[];this.lineLeadings=[];this.lineHeights=[];this.lineWidths=[];this.layoutGroups=[];this.textFormatRanges=[];Oa.__canvas=window.document.createElement("canvas");
Oa.__context=Oa.__canvas.getContext("2d")};h["openfl._internal.text.TextEngine"]=Oa;Oa.__name__=["openfl","_internal","text","TextEngine"];Oa.getFormatHeight=function(a){Oa.__context.font=Oa.getFont(a);return a.size+.185*a.size+a.leading};Oa.getFont=function(a){var b;b=a.italic?"italic ":"normal ";b+="normal ";b=a.bold?b+"bold ":b+"normal ";b+=a.size+"px";b+="/"+(a.size+a.leading+6)+"px ";switch(a.font){case "_sans":a="sans-serif";break;case "_serif":a="serif";break;case "_typewriter":a="monospace";
break;default:a="'"+a.font+"'"}return b+=""+a};Oa.prototype={getBounds:function(){var a;a=this.border?1:0;this.bounds.width=this.width+a;this.bounds.height=this.height+a},getLineBreakIndex:function(a){null==a&&(a=0);var b=this.text.indexOf("\n",a);a=this.text.indexOf("\r",a);return-1==b?a:-1==a?b:b<a?b:a},getLineMeasurements:function(){this.lineAscents.splice(0,this.lineAscents.length);this.lineDescents.splice(0,this.lineDescents.length);this.lineLeadings.splice(0,this.lineLeadings.length);this.lineHeights.splice(0,
this.lineHeights.length);this.lineWidths.splice(0,this.lineWidths.length);var a=0,b=0,c=null,d=0,e=0;this.textHeight=this.textWidth=0;this.numLines=1;for(var f=this.maxScrollH=this.bottomScrollV=0,g=this.layoutGroups;f<g.length;){var h=g[f];for(++f;h.lineIndex>this.numLines-1;)this.lineAscents.push(a),this.lineDescents.push(b),this.lineLeadings.push(null!=c?c:0),this.lineHeights.push(d),this.lineWidths.push(e),b=a=0,c=null,e=d=0,this.numLines++,this.textHeight<=this.height-2&&this.bottomScrollV++;
a=Math.max(a,h.ascent);b=Math.max(b,h.descent);c=null==c?h.leading:w["int"](Math.max(c,h.leading));d=Math.max(d,h.height);e=h.offsetX-2+h.width;e>this.textWidth&&(this.textWidth=e);this.textHeight=h.offsetY-2+h.ascent+h.descent}this.lineAscents.push(a);this.lineDescents.push(b);this.lineLeadings.push(null!=c?c:0);this.lineHeights.push(d);this.lineWidths.push(e);1==this.numLines?(this.bottomScrollV=1,0<c&&(this.textHeight+=c)):this.textHeight<=this.height-2&&this.bottomScrollV++;if(2!=this.autoSize)switch(this.autoSize){case 1:case 3:case 0:!this.wordWrap&&
this.width<this.textWidth+4&&(this.width=this.textWidth+4),this.height=this.textHeight+4,this.bottomScrollV=this.numLines}this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+4|0:0;this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){this.layoutGroups.splice(0,this.layoutGroups.length);var a=-1,b=null,c=W.__defaultTextFormat.clone(),d=0,e=0,f=0,g,h,k,l=0,m=0,x=0,q=this.text.indexOf(" "),p=this.getLineBreakIndex(),r=0,t=2,u=2,w=0,z=0,y=null;a<this.textFormatRanges.length-
1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),Oa.__context.font=Oa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,l=e+f+d,-1<q&&(m=Oa.__context.measureText(" ").width));for(var y=b.format,B;w<this.text.length;)if(-1<p&&(-1==q||p<q)&&b.end>=p){g=new kd(b.format,w,p);h=this.text;for(B=[];w<p;)k=w++,B.push(Oa.__context.measureText(h.charAt(k)).width);g.advances=B;g.offsetX=t;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=z;g.offsetY=u;t=g.advances;for(h=w=0;h<t.length;)B=t[h],++h,w+=B;g.width=
w;g.height=l;this.layoutGroups.push(g);u+=l;t=2;this.wordWrap&&g.offsetX+g.width>this.width-2&&(g.offsetY=u,g.offsetX=t,g.lineIndex++,u+=l,z++);b.end==p&&(a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),Oa.__context.font=Oa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,l=e+f+d,-1<q&&(m=Oa.__context.measureText(" ").width)),y=b.format);w=p+1;p=this.getLineBreakIndex(w);z++}else if(b.end>=q&&-1<q&&w<b.end)for(g=null,B=!1;w!=b.end;){-1==q&&(q=b.end);h=this.text;
k=[];for(var A=w;A<q;){var C=A++;k.push(Oa.__context.measureText(h.charAt(C)).width)}h=k;for(A=k=0;A<h.length;)C=h[A],++A,k+=C;this.wordWrap&&t+k>this.width-2&&(B=!0);if(B){u+=l;t=this.layoutGroups.length-1;for(r=0;;){g=this.layoutGroups[t];if(0<t&&g.startIndex>x)r++;else break;t--}z++;t=2;if(0<r)for(x=this.layoutGroups[this.layoutGroups.length-r].offsetX,r=this.layoutGroups.length-r,B=this.layoutGroups.length;r<B;)g=r++,g=this.layoutGroups[g],g.offsetX-=x,g.offsetY=u,g.lineIndex=z,t+=g.width;g=new kd(b.format,
w,q);g.advances=h;g.offsetX=t;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=z;g.offsetY=u;g.width=k;g.height=l;this.layoutGroups.push(g);t=k+m;r=m;B=!1}else null!=g&&w==q?(2!=b.format.align&&(g.endIndex=q),g.advances.push(m),r+=m):(null==g||2==y.align?(g=new kd(b.format,w,q),g.advances=h,g.offsetX=t,g.ascent=e,g.descent=f,g.leading=d,g.lineIndex=z,g.offsetY=u,g.width=k,g.height=l,this.layoutGroups.push(g)):(g.endIndex=q,g.advances=g.advances.concat(h),g.width+=r+k),g.advances.push(m),r=m),t+=k+m;
w=q+1;x=q;q=this.text.indexOf(" ",x+1);b.end<=x&&(g=null,a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),Oa.__context.font=Oa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,l=e+f+d,-1<q&&(m=Oa.__context.measureText(" ").width)));if(q>p&&-1<p||w>this.text.length||q>b.end||-1==q&&-1<p){q>b.end&&w--;break}}else{if(w>b.end)break;else if(w<b.end){g=new kd(b.format,w,b.end);h=this.text;for(B=[];w<b.end;)k=w++,B.push(Oa.__context.measureText(h.charAt(k)).width);g.advances=
B;g.offsetX=t;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=z;g.offsetY=u;w=g.advances;for(B=h=0;B<w.length;)k=w[B],++B,h+=k;g.width=h;g.height=l;this.layoutGroups.push(g);t+=g.width;w=b.end}a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),Oa.__context.font=Oa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,l=e+f+d,-1<q&&(m=Oa.__context.measureText(" ").width));if(w==b.end)break}},setTextAlignment:function(){for(var a=-1,b=0,c,d,e=0,f=this.layoutGroups.length;e<
f;){var g=e++;c=this.layoutGroups[g];if(c.lineIndex!=a)switch(a=c.lineIndex,c.format.align){case 0:b=this.lineWidths[a]<this.width-4?Math.round((this.width-4-this.lineWidths[a])/2):0;break;case 4:b=this.lineWidths[a]<this.width-4?Math.round(this.width-4-this.lineWidths[a]):0;break;case 2:if(this.lineWidths[a]<this.width-4){d=1;for(var b=g+1,h=this.layoutGroups.length;b<h;){var k=b++;if(this.layoutGroups[k].lineIndex==a)d++;else break}if(1<d&&(c=this.layoutGroups[g+d-1],b=this.text.charAt(c.endIndex),
c.endIndex<this.text.length&&"\n"!=b&&"\r"!=b))for(b=(this.width-4-this.lineWidths[a])/(d-1),h=1;h<d;)k=h++,this.layoutGroups[g+k].offsetX+=b*k}b=0;break;default:b=0}0<b&&(c.offsetX+=b)}},update:function(){null==this.text||""==da.trim(this.text)||0==this.textFormatRanges.length?(this.lineAscents.splice(0,this.lineAscents.length),this.lineBreaks.splice(0,this.lineBreaks.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,
this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length),this.layoutGroups.splice(0,this.layoutGroups.length),this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment());this.getBounds()},__class__:Oa};var ld=function(a,b,c){this.format=a;this.start=b;this.end=c};h["openfl._internal.text.TextFormatRange"]=ld;ld.__name__=["openfl","_internal","text","TextFormatRange"];
ld.prototype={__class__:ld};var kd=function(a,b,c){this.format=a;this.startIndex=b;this.endIndex=c};h["openfl._internal.text.TextLayoutGroup"]=kd;kd.__name__=["openfl","_internal","text","TextLayoutGroup"];kd.prototype={__class__:kd};var Nd=function(a,b,c){null==a&&(a=123);null==c&&(c=.5);this.octaves=null==b?4:b;this.baseFactor=.015625;this.seedOffset(a);this.octFreqPers(c)};h["openfl._internal.utils.PerlinNoise"]=Nd;Nd.__name__=["openfl","_internal","utils","PerlinNoise"];Nd.prototype={fill:function(a,
b,c,d,e){e=b*this.baseFactor+this.iXoffset;c=c*this.baseFactor+this.iYoffset;d=d*this.baseFactor+this.iZoffset;for(var f=a.width,g=a.height,h=Nd.P,k=this.octaves,l=this.aOctFreq,m=this.aOctPers,p=0;p<g;){var q=p++;b=e;for(var r=0;r<f;){for(var t=r++,u=0,w=0;w<k;){var B=w++,z=l[B],B=m[B],y=b*z,A=c*z,z=d*z,C=y-y%1,D=A-A%1,G=z-z%1,E=(C|0)&255,F=(D|0)&255,H=(G|0)&255,y=y-C,A=A-D,z=z-G,C=y*y*y*(y*(6*y-15)+10),D=A*A*A*(A*(6*A-15)+10),G=z*z*z*(z*(6*z-15)+10),I=h[E]+F,K=h[I]+H,I=h[I+1]+H,F=h[E+1]+F,E=h[F]+
H,N=h[F+1]+H,J=y-1,L=A-1,M=z-1,O=h[N+1]&15,H=(0==(O&1)?8>O?J:L:8>O?-J:-L)+(0==(O&2)?4>O?L:12==O?J:M:4>O?-L:14==O?-J:-M),O=h[I+1]&15,F=(0==(O&1)?8>O?y:L:8>O?-y:-L)+(0==(O&2)?4>O?L:12==O?y:M:4>O?-L:14==O?-y:-M),O=h[E+1]&15,P;P=(0==(O&1)?8>O?J:A:8>O?-J:-A)+(0==(O&2)?4>O?A:12==O?J:M:4>O?-A:14==O?-J:-M);O=h[K+1]&15;M=(0==(O&1)?8>O?y:A:8>O?-y:-A)+(0==(O&2)?4>O?A:12==O?y:M:4>O?-A:14==O?-y:-M);O=h[N]&15;N=(0==(O&1)?8>O?J:L:8>O?-J:-L)+(0==(O&2)?4>O?L:12==O?J:z:4>O?-L:14==O?-J:-z);O=h[I]&15;I=(0==(O&1)?8>O?
y:L:8>O?-y:-L)+(0==(O&2)?4>O?L:12==O?y:z:4>O?-L:14==O?-y:-z);O=h[E]&15;E=(0==(O&1)?8>O?J:A:8>O?-J:-A)+(0==(O&2)?4>O?A:12==O?J:z:4>O?-A:14==O?-J:-z);O=h[K]&15;y=(0==(O&1)?8>O?y:A:8>O?-y:-A)+(0==(O&2)?4>O?A:12==O?y:z:4>O?-A:14==O?-y:-z);F+=C*(H-F);M+=C*(P-M);I+=C*(N-I);y+=C*(E-y);M+=D*(F-M);y+=D*(I-y);u+=(y+G*(M-y))*B}u=128*(u*this.fPersMax+1)|0;a.setPixel32(t,q,-16777216|u<<16|u<<8|u);b+=this.baseFactor}c+=this.baseFactor}},octFreqPers:function(a){var b,c;this.aOctFreq=[];this.aOctPers=[];for(var d=
this.fPersMax=0,e=this.octaves;d<e;)c=d++,b=Math.pow(2,c),c=Math.pow(a,c),this.fPersMax+=c,this.aOctFreq.push(b),this.aOctPers.push(c);this.fPersMax=1/this.fPersMax},seedOffset:function(a){this.iXoffset=a=16807*a%2147483647|0;this.iYoffset=a=16807*a%2147483647|0;this.iZoffset=16807*a%2147483647|0},__class__:Nd};var Xd=function(){Pb.call(this);null==Qa.application&&(Qa.application=this)};h["openfl.display.Application"]=Xd;Xd.__name__=["openfl","display","Application"];Xd.__super__=Pb;Xd.prototype=
r(Pb.prototype,{create:function(a){this.config=a;this.backend.create(a);if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,"windows"))for(a=a.windows;0<a.length;){a=new We(a[0]);this.createWindow(a);break}if(null==this.__preloader||this.__preloader.complete)this.onPreloadComplete()}},__class__:Xd});var be=function(a,b,c){null==c&&(c=!1);S.call(this);this.set_bitmapData(a);this.pixelSnapping=b;this.smoothing=c;null==
b&&(this.pixelSnapping=1)};h["openfl.display.Bitmap"]=be;be.__name__=["openfl","display","Bitmap"];be.__super__=S;be.prototype=r(S.prototype,{__getBounds:function(a,b){if(null!=this.bitmapData){var c=I.__temp;c.setTo(0,0,this.bitmapData.width,this.bitmapData.height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();
c=this.__renderTransform.__transformInverseX(a,b);a=this.__renderTransform.__transformInverseY(a,b);return 0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height?(null==d||e||d.push(f),!0):!1},__hitTestMask:function(a,b){if(null==this.bitmapData)return!1;this.__getRenderTransform();var c=this.__renderTransform.__transformInverseX(a,b),d=this.__renderTransform.__transformInverseY(a,b);return 0<c&&0<d&&c<=this.bitmapData.width&&d<=this.bitmapData.height?!0:!1},__renderCairo:function(a){wg.render(this,
a)},__renderCairoMask:function(a){a.cairo.rectangle(0,0,this.get_width(),this.get_height())},__renderCanvas:function(a){yg.render(this,a)},__renderCanvasMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},__renderDOM:function(a){null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=this.bitmapData&&this.bitmapData.__isValid?null!=this.bitmapData.image.buffer.__srcImage?Me.renderImage(this,a):Me.renderCanvas(this,a):(null!=this.__image&&(a.element.removeChild(this.__image),
this.__style=this.__image=null),null!=this.__canvas&&(a.element.removeChild(this.__canvas),this.__style=this.__canvas=null))},__renderGL:function(a){Dg.render(this,a)},__updateMask:function(a){null!=this.bitmapData&&(a.__commands.overrideMatrix(this.__worldTransform),a.beginFill(0),a.drawRect(0,0,this.bitmapData.width,this.bitmapData.height),null==a.__bounds&&(a.__bounds=new I),this.__getBounds(a.__bounds,U.__identity),S.prototype.__updateMask.call(this,a))},set_bitmapData:function(a){this.bitmapData=
a;this.smoothing=!1;return this.bitmapData},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*Math.abs(this.get_scaleY()):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*Math.abs(this.get_scaleX()):0},__class__:be,__properties__:r(S.prototype.__properties__,{set_bitmapData:"set_bitmapData"})});var vb=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=!0);this.transparent=c;null==a&&(a=0);null==b&&(b=0);0>a&&(a=0);0>b&&(b=0);this.width=a;this.height=b;
this.rect=new I(0,0,a,b);0<a&&0<b&&(c?0==(d&-16777216)&&(d=0):d=-16777216|d&16777215,this.image=new cc(null,0,0,a,b,d<<8|d>>24&255),this.image.set_transparent(c),this.__isValid=!0);this.__worldTransform=new U;this.__worldColorTransform=new wb};h["openfl.display.BitmapData"]=vb;vb.__name__=["openfl","display","BitmapData"];vb.__interfaces__=[ae];vb.fromCanvas=function(a,b){null==b&&(b=!0);if(null==a)return null;var c=new vb(0,0,b);c.__fromImage(cc.fromCanvas(a));c.image.set_transparent(b);return c};
vb.fromImage=function(a,b){null==b&&(b=!0);if(null==a||null==a.buffer)return null;var c=new vb(0,0,b);c.__fromImage(a);c.image.set_transparent(b);return c};vb.prototype={clone:function(){return this.__isValid?vb.fromImage(this.image.clone(),this.transparent):new vb(this.width,this.height,this.transparent)},colorTransform:function(a,b){this.__isValid&&this.image.colorTransform(a.__toLimeRectangle(),b.__toLimeColorMatrix())},copyPixels:function(a,b,c,d,e,f){null==f&&(f=!1);this.__isValid&&null!=a&&
(a==this&&(a=a.clone()),this.image.copyPixels(a.image,b.__toLimeRectangle(),c.__toLimeVector2(),null!=d?d.image:null,null!=e?e.__toLimeVector2():null,f))},dispose:function(){this.image=null;this.height=this.width=0;this.rect=null;this.__isValid=!1;if(null!=this.__texture){var a=Qa.current.stage.__renderer;null!=a&&(a=a.renderSession.gl,null!=a&&(a.deleteTexture(this.__texture),this.__texture=null))}},draw:function(a,b,c,d,e,f){null==f&&(f=!1);if(this.__isValid){if(null!=c){d=Math.ceil(T.getProperty(a,
"width"));var g=Math.ceil(T.getProperty(a,"height"));d=new vb(d,g,!0,0);d.draw(a);d.colorTransform(d.rect,c);a=d}X.convertToCanvas(this.image);c=this.image.buffer;d=new hd;d.context=c.__srcContext;d.allowSmoothing=f;d.roundPixels=!0;d.maskManager=new Jd(d);f||(c.__srcContext.mozImageSmoothingEnabled=!1,c.__srcContext.msImageSmoothingEnabled=!1,c.__srcContext.imageSmoothingEnabled=!1);null!=e&&d.maskManager.pushRect(e,new U);g=a.__worldTransform;a.__updateTransforms(null!=b?b:new U);a.__updateChildren(!1);
a.__renderCanvas(d);a.__updateTransforms(g);a.__updateChildren(!0);f||(c.__srcContext.mozImageSmoothingEnabled=!0,c.__srcContext.msImageSmoothingEnabled=!0,c.__srcContext.imageSmoothingEnabled=!0);null!=e&&d.maskManager.popRect();c.__srcContext.setTransform(1,0,0,1,0,0);c.__srcImageData=null;c.data=null;this.image.dirty=!0;this.image.version++}},drawWithQuality:function(a,b,c,d,e,f,g){null==f&&(f=!1);this.draw(a,b,c,d,e,f)},fillRect:function(a,b){this.__isValid&&null!=a&&(this.transparent&&0==(b&
-16777216)&&(b=0),this.image.fillRect(a.__toLimeRectangle(),b,1))},getBuffer:function(a,b){if(null==this.__buffer){var c=[this.width,this.height,0,1,1,b,0,this.height,0,0,1,b,this.width,0,0,1,0,b,0,0,0,0,0,b];this.__bufferData=null!=c?new Float32Array(c):null;this.__bufferAlpha=b;this.__buffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.__buffer);a.bufferData(a.ARRAY_BUFFER,this.__bufferData,a.STATIC_DRAW)}else this.__bufferAlpha!=b&&(this.__bufferData[5]=b,this.__bufferData[11]=b,this.__bufferData[17]=
b,this.__bufferAlpha=this.__bufferData[23]=b,a.bindBuffer(a.ARRAY_BUFFER,this.__buffer),a.bufferData(a.ARRAY_BUFFER,this.__bufferData,a.STATIC_DRAW));return this.__buffer},getSurface:function(){if(!this.__isValid)return null;null==this.__surface&&(this.__surface=qg.fromImage(this.image));return this.__surface},getTexture:function(a){if(!this.__isValid)return null;null==this.__texture&&(this.__texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.__texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,
a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),this.__textureVersion=-1);X.sync(this.image,!1);if(null!=this.image&&this.image.version!=this.__textureVersion){var b,c;null!=this.__surface&&rg.flush(this.__surface);c=1==this.image.buffer.bitsPerPixel?b=a.ALPHA:b=a.RGBA;a.bindTexture(a.TEXTURE_2D,this.__texture);var d=this.image;d.type==Ha.DATA||
d.get_premultiplied()?!d.get_premultiplied()&&d.get_transparent()&&(a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),d=d.clone(),d.set_premultiplied(!0)):a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1);0!=d.get_format()&&(d=d.clone(),d.set_format(0),d.buffer.premultiplied=!0);d.type==Ha.DATA?a.texImage2D(a.TEXTURE_2D,0,b,d.buffer.width,d.buffer.height,0,c,a.UNSIGNED_BYTE,d.get_data()):a.texImage2D(a.TEXTURE_2D,0,b,c,a.UNSIGNED_BYTE,d.get_src());a.bindTexture(a.TEXTURE_2D,null);this.__textureVersion=
this.image.version}return this.__texture},perlinNoise:function(a,b,c,d,e,f,g,h,k){this.__isValid&&(new Nd(d,c,.01)).fill(this,a,b,0)},setPixel32:function(a,b,c){this.__isValid&&this.image.setPixel32(a,b,c,1)},setPixels:function(a,b){this.__isValid&&null!=a&&this.image.setPixels(a.__toLimeRectangle(),Kd.toBytes(b),1)},__fromImage:function(a){null!=a&&null!=a.buffer&&(this.image=a,this.width=a.width,this.height=a.height,this.rect=new I(0,0,a.width,a.height),this.__isValid=!0)},__renderCanvas:function(a){if(this.__isValid){this.image.type==
Ha.DATA&&X.convertToCanvas(this.image);var b=a.context;null==this.__worldTransform&&(this.__worldTransform=new U);b.globalAlpha=1;var c=this.__worldTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.drawImage(this.image.get_src(),0,0)}},__updateChildren:function(a){},__updateTransforms:function(a){null==a?this.__worldTransform.identity():this.__worldTransform=a},__class__:vb};var Bg={};h["openfl.display._CapsStyle.CapsStyle_Impl_"]=Bg;
Bg.__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"];Bg.toString=function(a){switch(a){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};var Rf=function(){};h["openfl.display.FrameLabel"]=Rf;Rf.__name__=["openfl","display","FrameLabel"];Rf.__super__=ea;Rf.prototype=r(ea.prototype,{__class__:Rf});var vd=function(a){this.__dirty=!0;this.__owner=a;this.__commands=new Jb;this.__positionY=this.__positionX=this.__strokePadding=0;this.__renderTransform=new U;
this.__worldTransform=new U;this.__height=this.__width=0;this.moveTo(0,0)};h["openfl.display.Graphics"]=vd;vd.__name__=["openfl","display","Graphics"];vd.prototype={beginFill:function(a,b){null==b&&(b=1);null==a&&(a=0);this.__commands.beginFill(a&16777215,b);0<b&&(this.__visible=!0)},drawCircle:function(a,b,c){0>=c||(this.__inflateBounds(a-c-this.__strokePadding,b-c-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+c+this.__strokePadding),this.__commands.drawCircle(a,b,c),this.set___dirty(!0))},
drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawRect(a,b,c,d),this.set___dirty(!0))},endFill:function(){this.__commands.endFill()},lineStyle:function(a,b,c,d,e,f,g,h){null==h&&(h=3);null==e&&(e=2);null==d&&(d=!1);null==c&&(c=1);null==b&&(b=0);null!=a&&(1==g?a>this.__strokePadding&&(this.__strokePadding=a):a/2>this.__strokePadding&&(this.__strokePadding=
a/2));this.__commands.lineStyle(a,b,c,d,e,f,g,h);null!=a&&(this.__visible=!0)},moveTo:function(a,b){this.__positionX=a;this.__positionY=b;this.__commands.moveTo(a,b)},__cleanup:function(){null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0);this.__context=this.__canvas=this.__bitmap=null},__getBounds:function(a,b){if(null!=this.__bounds){var c=I.__temp;this.__bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d){if(null==this.__bounds)return!1;
var e=d.__transformInverseX(a,b);a=d.__transformInverseY(a,b);return e>this.__bounds.x&&a>this.__bounds.y&&this.__bounds.contains(e,a)?c?k.hitTest(this,e,a):!0:!1},__inflateBounds:function(a,b){null==this.__bounds?(this.__bounds=new I(a,b,0,0),this.__transformDirty=!0):(a<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-a,this.__bounds.x=a,this.__transformDirty=!0),b<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b,this.__transformDirty=!0),a>this.__bounds.x+this.__bounds.width&&
(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=b-this.__bounds.y))},__update:function(){if(!(null==this.__bounds||0>=this.__bounds.width||0>=this.__bounds.height)){var a=this.__owner.__getRenderTransform(),b;b=0==a.b?Math.abs(a.a):Math.sqrt(a.a*a.a+a.b*a.b);a=0==a.c?Math.abs(a.d):Math.sqrt(a.c*a.c+a.d*a.d);b*=this.__bounds.width;a*=this.__bounds.height;(2<Math.abs(b-this.__width)||2<Math.abs(a-this.__height))&&this.set___dirty(!0);this.__width=
Math.floor(b);this.__height=Math.floor(a);0>=this.__width||0>=this.__height||(this.__renderTransform.a=this.__width/this.__bounds.width,this.__renderTransform.d=this.__height/this.__bounds.height,this.__worldTransform.a=1/this.__renderTransform.a,this.__worldTransform.b=0,this.__worldTransform.c=0,this.__worldTransform.d=1/this.__renderTransform.d,this.__worldTransform.tx=this.__bounds.x,this.__worldTransform.ty=this.__bounds.y,this.__worldTransform.concat(this.__owner.__renderTransform))}},set___dirty:function(a){a&&
null!=this.__owner&&this.__owner.__setRenderDirty();return this.__dirty=a},__class__:vd,__properties__:{set___dirty:"set___dirty"}};var Ag={};h["openfl.display._JointStyle.JointStyle_Impl_"]=Ag;Ag.__name__=["openfl","display","_JointStyle","JointStyle_Impl_"];Ag.toString=function(a){switch(a){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var Sf=function(){};h["openfl.display.Loader"]=Sf;Sf.__name__=["openfl","display","Loader"];Sf.__super__=rb;Sf.prototype=r(rb.prototype,
{__class__:Sf});var Yd=function(a){Ma.call(this);if(null!=a&&(this.display=a,Qa.current.addChild(a),u.__instanceof(a,ic)))u.__cast(a,ic).onInit()};h["openfl.display.Preloader"]=Yd;Yd.__name__=["openfl","display","Preloader"];Yd.__super__=Ma;Yd.prototype=r(Ma.prototype,{start:function(){null!=this.display&&u.__instanceof(this.display,ic)?(this.display.addEventListener("complete",l(this,this.display_onComplete)),u.__cast(this.display,ic).onLoaded()):Ma.prototype.start.call(this)},update:function(a,
b){if(null!=this.display&&u.__instanceof(this.display,ic))u.__cast(this.display,ic).onUpdate(a,b)},display_onComplete:function(a){this.display.removeEventListener("complete",l(this,this.display_onComplete));Qa.current.removeChild(this.display);Qa.current.stage.set_focus(null);this.display=null;Ma.prototype.start.call(this)},__class__:Yd});var Mf=function(a){this.__data=new Xe(null);null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\r\n\t\tvarying vec2 vTexCoord;\r\n\t\tuniform sampler2D uImage0;\r\n\t\t\r\n\t\tvoid main(void) {\r\n\t\t\t\r\n\t\t\tvec4 color = texture2D (uImage0, vTexCoord);\r\n\t\t\t\r\n\t\t\tif (color.a == 0.0) {\r\n\t\t\t\t\r\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\tgl_FragColor = vec4 (color.rgb / color.a, color.a * vAlpha);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\r\n\t\tattribute vec4 aPosition;\r\n\t\tattribute vec2 aTexCoord;\r\n\t\tvarying float vAlpha;\r\n\t\tvarying vec2 vTexCoord;\r\n\t\t\r\n\t\tuniform mat4 uMatrix;\r\n\t\t\r\n\t\tvoid main(void) {\r\n\t\t\t\r\n\t\t\tvAlpha = aAlpha;\r\n\t\t\tvTexCoord = aTexCoord;\r\n\t\t\tgl_Position = uMatrix * aPosition;\r\n\t\t\t\r\n\t\t}");this.byteCode=a;this.precisionHint=1;this.__glSourceDirty=!0};h["openfl.display.Shader"]=Mf;Mf.__name__=
["openfl","display","Shader"];Mf.prototype={__disable:function(){null!=this.glProgram&&this.__disableGL()},__disableGL:function(){null!=this.get_data().uImage0&&(this.get_data().uImage0.input=null);for(var a=0,b=this.__paramBool;a<b.length;){var c=b[a];++a;this.gl.disableVertexAttribArray(c.index)}a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,this.gl.disableVertexAttribArray(c.index);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,this.gl.disableVertexAttribArray(c.index);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,
null);this.gl.bindTexture(this.gl.TEXTURE_2D,null)},__enable:function(){this.__init();null!=this.glProgram&&this.__enableGL()},__enableGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=c[b];++b;this.gl.uniform1i(d.index,a);a++}},__init:function(){null==this.__data&&(this.__data=new Xe(null));null==this.__glFragmentSource||null==this.__glVertexSource||null!=this.glProgram&&!this.__glSourceDirty||this.__initGL()},__initGL:function(){if(this.__glSourceDirty||null==this.__isUniform)this.__glSourceDirty=
!1,this.glProgram=null,this.__isUniform=new ja,this.__inputBitmapData=[],this.__paramBool=[],this.__paramFloat=[],this.__paramInt=[],this.__uniformMatrix2=new Float32Array(4),this.__uniformMatrix3=new Float32Array(9),this.__uniformMatrix4=new Float32Array(16),this.__processGLData(this.get_glVertexSource(),"attribute"),this.__processGLData(this.get_glVertexSource(),"uniform"),this.__processGLData(this.get_glFragmentSource(),"uniform");if(null!=this.gl&&null==this.glProgram){var a;a="#ifdef GL_ES\r\n\t\t\t\tprecision "+
(1==this.precisionHint?"mediump":"lowp")+" float;\r\n\t\t\t\t#endif\r\n\t\t\t\t"+this.get_glFragmentSource();this.glProgram=Hd.createProgram(this.get_glVertexSource(),a);if(null!=this.glProgram){a=0;for(var b=this.__inputBitmapData;a<b.length;){var c=b[a];++a;this.__isUniform.get(c.name)?c.index=this.gl.getUniformLocation(this.glProgram,c.name):c.index=this.gl.getAttribLocation(this.glProgram,c.name)}a=0;for(b=this.__paramBool;a<b.length;)c=b[a],++a,this.__isUniform.get(c.name)?c.index=this.gl.getUniformLocation(this.glProgram,
c.name):c.index=this.gl.getAttribLocation(this.glProgram,c.name);a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,this.__isUniform.get(c.name)?c.index=this.gl.getUniformLocation(this.glProgram,c.name):c.index=this.gl.getAttribLocation(this.glProgram,c.name);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,this.__isUniform.get(c.name)?c.index=this.gl.getUniformLocation(this.glProgram,c.name):c.index=this.gl.getAttribLocation(this.glProgram,c.name)}}},__processGLData:function(a,b){var c=0,d,e;for(d=
"uniform"==b?new wa("uniform ([A-Za-z0-9]+) ([A-Za-z0-9]+)",""):new wa("attribute ([A-Za-z0-9]+) ([A-Za-z0-9]+)","");d.matchSub(a,c);){e=d.matched(1);c=d.matched(2);if(da.startsWith(e,"sampler"))e=new Tf,e.name=c,this.__inputBitmapData.push(e),T.setField(this.get_data(),c,e);else{switch(e){case "bool":e=0;break;case "double":case "float":e=4;break;case "int":case "uint":e=8;break;case "bvec2":e=1;break;case "bvec3":e=2;break;case "bvec4":e=3;break;case "ivec2":case "uvec2":e=9;break;case "ivec3":case "uvec3":e=
10;break;case "ivec4":case "uvec4":e=11;break;case "vec2":case "dvec2":e=5;break;case "vec3":case "dvec3":e=6;break;case "vec4":case "dvec4":e=7;break;case "mat2":case "mat2x2":e=12;break;case "mat2x3":e=13;break;case "mat2x4":e=14;break;case "mat3x2":e=15;break;case "mat3":case "mat3x3":e=16;break;case "mat3x4":e=17;break;case "mat4x2":e=18;break;case "mat4x3":e=19;break;case "mat4":case "mat4x4":e=20;break;default:e=null}switch(e){case 0:case 1:case 2:case 3:var f=new Od;f.name=c;f.type=e;this.__paramBool.push(f);
T.setField(this.get_data(),c,f);break;case 8:case 9:case 10:case 11:f=new Od;f.name=c;f.type=e;this.__paramInt.push(f);T.setField(this.get_data(),c,f);break;default:f=new Od,f.name=c,f.type=e,this.__paramFloat.push(f),T.setField(this.get_data(),c,f)}}this.__isUniform.set(c,"uniform"==b);c=d.matchedPos();c=c.pos+c.len}},__update:function(){null!=this.glProgram&&this.__updateGL()},__updateGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=c[b];++b;null!=d.input&&(this.gl.activeTexture(this.gl.TEXTURE0+
a),this.gl.bindTexture(this.gl.TEXTURE_2D,d.input.getTexture(this.gl)),d.smoothing?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST)));a++}b=a=0;for(c=this.__paramBool;b<c.length;){d=c[b];++b;var e=d.value,a=d.index;
if(null!=e)switch(d.type){case 0:this.gl.uniform1i(a,e[0]?1:0);break;case 1:this.gl.uniform2i(a,e[0]?1:0,e[1]?1:0);break;case 2:this.gl.uniform3i(a,e[0]?1:0,e[1]?1:0,e[2]?1:0);break;case 3:this.gl.uniform4i(a,e[0]?1:0,e[1]?1:0,e[2]?1:0,e[3]?1:0)}else this.__isUniform.get(d.name)||this.gl.enableVertexAttribArray(d.index)}b=0;for(c=this.__paramFloat;b<c.length;)if(e=c[b],++b,d=e.value,a=e.index,null!=d)switch(e.type){case 4:this.gl.uniform1f(a,d[0]);break;case 5:this.gl.uniform2f(a,d[0],d[1]);break;
case 6:this.gl.uniform3f(a,d[0],d[1],d[2]);break;case 7:this.gl.uniform4f(a,d[0],d[1],d[2],d[3]);break;case 12:for(e=0;4>e;){var f=e++;this.__uniformMatrix2[f]=d[f]}this.gl.uniformMatrix2fv(a,!1,this.__uniformMatrix2);break;case 16:for(e=0;9>e;)f=e++,this.__uniformMatrix3[f]=d[f];this.gl.uniformMatrix3fv(a,!1,this.__uniformMatrix3);break;case 20:for(e=0;16>e;)f=e++,this.__uniformMatrix4[f]=d[f];this.gl.uniformMatrix4fv(a,!1,this.__uniformMatrix4)}else this.__isUniform.get(e.name)||this.gl.enableVertexAttribArray(e.index);
b=0;for(c=this.__paramInt;b<c.length;)if(d=c[b],++b,e=d.value,null!=e)switch(d.type){case 8:this.gl.uniform1i(a,e[0]);break;case 9:this.gl.uniform2i(a,e[0],e[1]);break;case 10:this.gl.uniform3i(a,e[0],e[1],e[2]);break;case 11:this.gl.uniform4i(a,e[0],e[1],e[2],e[3])}else this.__isUniform.get(d.name)||this.gl.enableVertexAttribArray(d.index)},get_data:function(){(this.__glSourceDirty||null==this.__data)&&this.__init();return this.__data},get_glFragmentSource:function(){return this.__glFragmentSource},
get_glVertexSource:function(){return this.__glVertexSource},__class__:Mf,__properties__:{get_glVertexSource:"get_glVertexSource",get_glFragmentSource:"get_glFragmentSource",get_data:"get_data"}};var Xe=function(a){};h["openfl.display.ShaderData"]=Xe;Xe.__name__=["openfl","display","ShaderData"];Xe.prototype={__class__:Xe};var Tf=function(){this.width=this.index=this.height=this.channels=0};h["openfl.display.ShaderInput"]=Tf;Tf.__name__=["openfl","display","ShaderInput"];Tf.prototype={__class__:Tf};
var Od=function(){this.index=0};h["openfl.display.ShaderParameter"]=Od;Od.__name__=["openfl","display","ShaderParameter"];Od.prototype={__class__:Od};var Pd=function(){S.call(this)};h["openfl.display.Shape"]=Pd;Pd.__name__=["openfl","display","Shape"];Pd.__super__=S;Pd.prototype=r(S.prototype,{get_graphics:function(){null==this.__graphics&&(this.__graphics=new vd(this));return this.__graphics},__class__:Pd,__properties__:r(S.prototype.__properties__,{get_graphics:"get_graphics"})});var Qd=function(a,
b){rb.call(this);this.application=a.application;this.window=a;null==b?(this.__transparent=!0,this.set_color(0)):this.set_color(b);this.set_name(null);this.__deltaTime=0;this.__displayState=2;this.__logicalHeight=this.__logicalWidth=this.__lastClickTime=this.__mouseY=this.__mouseX=0;this.__displayMatrix=new U;this.stage3Ds=E.toObjectVector(null);var c=new Ye;this.stage3Ds.push(c);this.__resize();this.stage=this;this.align=6;this.allowsFullScreenInteractive=this.allowsFullScreen=!1;this.quality=1;this.scaleMode=
2;this.stageFocusRect=!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__rollOutStack=[];null==Qa.current.stage&&this.stage.addChild(Qa.current)};h["openfl.display.Stage"]=Qd;Qd.__name__=["openfl","display","Stage"];Qd.__interfaces__=[ve];Qd.__super__=rb;Qd.prototype=r(rb.prototype,{addRenderer:function(a){a.onRender.add(function(a,c){return function(){a(c)}}(l(this,
this.render),a));a.onContextLost.add(function(a,c){return function(){a(c)}}(l(this,this.onRenderContextLost),a));a.onContextRestored.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onRenderContextRestored),a))},addWindow:function(a){if(this.window==a&&(a.onActivate.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowActivate),a)),a.onClose.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowClose),a)),a.onCreate.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowCreate),
a)),a.onDeactivate.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowDeactivate),a)),a.onDropFile.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onWindowDropFile),a)),a.onEnter.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowEnter),a)),a.onFocusIn.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowFocusIn),a)),a.onFocusOut.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowFocusOut),a)),a.onFullscreen.add(function(a,c){return function(){a(c)}}(l(this,
this.onWindowFullscreen),a)),a.onKeyDown.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onKeyDown),a)),a.onKeyUp.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onKeyUp),a)),a.onLeave.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowLeave),a)),a.onMinimize.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowMinimize),a)),a.onMouseDown.add(function(a,c){return function(d,e,f){a(c,d,e,f)}}(l(this,this.onMouseDown),a)),a.onMouseMove.add(function(a,
c){return function(d,e){a(c,d,e)}}(l(this,this.onMouseMove),a)),a.onMouseMoveRelative.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onMouseMoveRelative),a)),a.onMouseUp.add(function(a,c){return function(d,e,f){a(c,d,e,f)}}(l(this,this.onMouseUp),a)),a.onMouseWheel.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onMouseWheel),a)),a.onMove.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onWindowMove),a)),a.onResize.add(function(a,c){return function(d,e){a(c,
d,e)}}(l(this,this.onWindowResize),a)),a.onRestore.add(function(a,c){return function(){a(c)}}(l(this,this.onWindowRestore),a)),a.onTextEdit.add(function(a,c){return function(d,e,f){a(c,d,e,f)}}(l(this,this.onTextEdit),a)),a.onTextInput.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onTextInput),a)),-1<a.id))this.onWindowCreate(a)},registerModule:function(a){a.onExit.add(l(this,this.onModuleExit),!1,0);a.onUpdate.add(l(this,this.update));for(a=jb.devices.iterator();a.hasNext();){var b=a.next();
this.__onGamepadConnect(b)}jb.onConnect.add(l(this,this.__onGamepadConnect));Ib.onStart.add(l(this,this.onTouchStart));Ib.onMove.add(l(this,this.onTouchMove));Ib.onEnd.add(l(this,this.onTouchEnd))},setPreloader:function(a){},globalToLocal:function(a){return a.clone()},onGamepadAxisMove:function(a,b,c){ra.__onGamepadAxisMove(a,b,c)},onGamepadButtonDown:function(a,b){ra.__onGamepadButtonDown(a,b)},onGamepadButtonUp:function(a,b){ra.__onGamepadButtonUp(a,b)},onGamepadConnect:function(a){ra.__onGamepadConnect(a)},
onGamepadDisconnect:function(a){ra.__onGamepadDisconnect(a)},onKeyDown:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey("keyDown",b,c)},onKeyUp:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey("keyUp",b,c)},onModuleExit:function(a){null!=this.window&&this.__broadcastEvent(new ca("deactivate"))},onMouseDown:function(a,b,c,d){if(null!=this.window&&this.window==a){var e;switch(d){case 1:e="middleMouseDown";break;case 2:e="rightMouseDown";break;default:e="mouseDown"}this.__onMouse(e,
b*a.__scale|0,c*a.__scale|0,d)}},onMouseMove:function(a,b,c){null!=this.window&&this.window==a&&this.__onMouse("mouseMove",b*a.__scale|0,c*a.__scale|0,0)},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){if(null!=this.window&&this.window==a){var e;switch(d){case 1:e="middleMouseUp";break;case 2:e="rightMouseUp";break;default:e="mouseUp"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}},onMouseWheel:function(a,b,c){null!=this.window&&this.window==a&&this.__onMouseWheel(b*a.__scale|
0,c*a.__scale|0)},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){if(null!=this.window&&this.window==a){var c=[];null==this.__focus?this.__getInteractive(c):this.__focus.__getInteractive(c);var d=new Oc("textInput",!0,!1,b);0<c.length?(c.reverse(),this.__fireEvent(d,c)):this.__dispatchEvent(d)}},onTouchMove:function(a){this.__onTouch("touchMove",a)},onTouchEnd:function(a){this.__primaryTouch==a&&(this.__primaryTouch=
null);this.__onTouch("touchEnd",a)},onTouchStart:function(a){null==this.__primaryTouch&&(this.__primaryTouch=a);this.__onTouch("touchBegin",a)},onWindowActivate:function(a){null!=this.window&&this.window==a&&this.__broadcastEvent(new ca("activate"))},onWindowClose:function(a){this.window==a&&(this.window=null)},onWindowCreate:function(a){if(null!=this.window&&this.window==a&&null!=a.renderer)switch(a=a.renderer.context,a[1]){case 0:this.__renderer=new Se(this,a[2]);break;case 1:this.__renderer=new Le(this,
a[2]);break;case 2:this.__renderer=new Rb(this,a[2])}},onWindowDeactivate:function(a){null!=this.window&&this.window==a&&(this.__primaryTouch=null,this.__broadcastEvent(new ca("deactivate")))},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){null!=this.window&&this.window==a&&this.set_focus(this.__cacheFocus)},onWindowFocusOut:function(a){null!=this.window&&this.window==a&&(a=this.get_focus(),this.set_focus(null),this.__cacheFocus=a)},onWindowFullscreen:function(a){null!=
this.window&&this.window==a&&(this.__resize(),2==this.__displayState&&(this.__displayState=1,this.__dispatchEvent(new Uc("fullScreen",!1,!1,!1,!0))))},onWindowLeave:function(a){null!=this.window&&this.window==a&&this.__dispatchEvent(new ca("mouseLeave"))},onWindowMinimize:function(a){},onWindowMove:function(a,b,c){},onWindowResize:function(a,b,c){null!=this.window&&this.window==a&&(this.__resize(),2==this.__displayState||a.__fullscreen||(this.__displayState=2,this.__dispatchEvent(new Uc("fullScreen",
!1,!1,!0,!0))))},onWindowRestore:function(a){},render:function(a){if(null!=a.window&&a.window==this.window&&(null!=this.application&&0<this.application.__windows.length&&(this.__transformDirty||(this.__transformDirty=!0,S.__worldTransformDirty++),this.__renderDirty||(this.__renderDirty=!0,S.__worldRenderDirty++)),!this.__rendering)){this.__rendering=!0;null!=this.__renderer&&this.__renderer.clear();this.__broadcastEvent(new ca("enterFrame"));this.__broadcastEvent(new ca("exitFrame"));this.__invalidated&&
(this.__invalidated=!1,this.__broadcastEvent(new ca("render")));this.__renderable=!0;this.__enterFrame(this.__deltaTime);this.__deltaTime=0;this.__update(!1,!0);if(null!=this.__renderer){if(a.type==Ga.CAIRO)switch(a=a.context,a[1]){case 4:a=a[2],u.__cast(this.__renderer,Ke).cairo=a,this.__renderer.renderSession.cairo=a}this.__renderer.render()}this.__rendering=!1}},update:function(a){this.__deltaTime=a},__broadcastEvent:function(a){if(S.__broadcastEvents.exists(a.type))for(var b=S.__broadcastEvents.get(a.type),
c=0;c<b.length;){var d=b[c];++c;d.__dispatch(a)}},__drag:function(a){var b=this.__dragObject.parent;null!=b&&b.__getWorldTransform().__transformInversePoint(a);b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(b<this.__dragBounds.x?b=this.__dragBounds.x:b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));this.__dragObject.set_x(b);this.__dragObject.set_y(a)},
__fireEvent:function(a,b){var c=b.length;if(0==c)a.eventPhase=2,a.target.__dispatch(a);else{a.eventPhase=1;a.target=b[b.length-1];for(var d=0,e=c-1;d<e;){var f=d++;b[f].__dispatch(a);if(a.__isCanceled)return}a.eventPhase=2;a.target.__dispatch(a);if(!a.__isCanceled&&a.bubbles)for(a.eventPhase=3,c-=2;0<=c;){b[c].__dispatch(a);if(a.__isCanceled)break;c--}}},__getInteractive:function(a){null!=a&&a.push(this);return!0},__onKey:function(a,b,c){Va.__altKey=ub.get_altKey(c);Va.__commandKey=ub.get_metaKey(c);
Va.__ctrlKey=ub.get_ctrlKey(c);Va.__shiftKey=ub.get_shiftKey(c);var d=[];null==this.__focus?this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){var e;switch(b){case 1073742048:case 1073742049:case 1073742050:case 1073742051:e=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:e=2;break;case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:e=
3;break;default:e=0}switch(b){case 8:b=8;break;case 9:b=9;break;case 13:b=13;break;case 27:b=27;break;case 32:b=32;break;case 33:b=49;break;case 34:b=222;break;case 35:b=51;break;case 36:b=52;break;case 37:b=53;break;case 38:b=55;break;case 39:b=222;break;case 40:b=57;break;case 41:b=48;break;case 42:b=56;break;case 44:b=188;break;case 45:b=189;break;case 46:b=190;break;case 47:b=191;break;case 48:b=48;break;case 49:b=49;break;case 50:b=50;break;case 51:b=51;break;case 52:b=52;break;case 53:b=53;
break;case 54:b=54;break;case 55:b=55;break;case 56:b=56;break;case 57:b=57;break;case 58:b=186;break;case 59:b=186;break;case 60:b=60;break;case 61:b=187;break;case 62:b=190;break;case 63:b=191;break;case 64:b=50;break;case 91:b=219;break;case 92:b=220;break;case 93:b=221;break;case 94:b=54;break;case 95:b=189;break;case 96:b=192;break;case 97:b=65;break;case 98:b=66;break;case 99:b=67;break;case 100:b=68;break;case 101:b=69;break;case 102:b=70;break;case 103:b=71;break;case 104:b=72;break;case 105:b=
73;break;case 106:b=74;break;case 107:b=75;break;case 108:b=76;break;case 109:b=77;break;case 110:b=78;break;case 111:b=79;break;case 112:b=80;break;case 113:b=81;break;case 114:b=82;break;case 115:b=83;break;case 116:b=84;break;case 117:b=85;break;case 118:b=86;break;case 119:b=87;break;case 120:b=88;break;case 121:b=89;break;case 122:b=90;break;case 127:b=46;break;case 1073741881:b=20;break;case 1073741882:b=112;break;case 1073741883:b=113;break;case 1073741884:b=114;break;case 1073741885:b=115;
break;case 1073741886:b=116;break;case 1073741887:b=117;break;case 1073741888:b=118;break;case 1073741889:b=119;break;case 1073741890:b=120;break;case 1073741891:b=121;break;case 1073741892:b=122;break;case 1073741893:b=123;break;case 1073741894:b=301;break;case 1073741895:b=145;break;case 1073741896:b=19;break;case 1073741897:b=45;break;case 1073741898:b=36;break;case 1073741899:b=33;break;case 1073741901:b=35;break;case 1073741902:b=34;break;case 1073741903:b=39;break;case 1073741904:b=37;break;
case 1073741905:b=40;break;case 1073741906:b=38;break;case 1073741907:b=144;break;case 1073741908:b=111;break;case 1073741909:b=106;break;case 1073741910:b=109;break;case 1073741911:b=107;break;case 1073741912:b=108;break;case 1073741913:b=97;break;case 1073741914:b=98;break;case 1073741915:b=99;break;case 1073741916:b=100;break;case 1073741917:b=101;break;case 1073741918:b=102;break;case 1073741919:b=103;break;case 1073741920:b=104;break;case 1073741921:b=105;break;case 1073741922:b=96;break;case 1073741923:b=
110;break;case 1073741925:b=302;break;case 1073741928:b=124;break;case 1073741929:b=125;break;case 1073741930:b=126;break;case 1073741982:b=13;break;case 1073742044:b=110;break;case 1073742048:b=17;break;case 1073742049:b=16;break;case 1073742050:b=18;break;case 1073742051:b=15;break;case 1073742052:b=17;break;case 1073742053:b=16;break;case 1073742054:b=18;break;case 1073742055:b=15;break}var f=Fg.__getCharCode(b,ub.get_shiftKey(c));c=new Ze(a,!0,!1,f,b,e,this.__macKeyboard?ub.get_ctrlKey(c)||ub.get_metaKey(c):
ub.get_ctrlKey(c),ub.get_altKey(c),ub.get_shiftKey(c),ub.get_ctrlKey(c),ub.get_metaKey(c));d.reverse();this.__fireEvent(c,d);c.__isCanceled&&("keyDown"==a?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onGamepadConnect:function(a){this.onGamepadConnect(a);a.onAxisMove.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onGamepadAxisMove),a));a.onButtonDown.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onGamepadButtonDown),a));a.onButtonUp.add(function(a,c){return function(d){a(c,
d)}}(l(this,this.onGamepadButtonUp),a));a.onDisconnect.add(function(a,c){return function(){a(c)}}(l(this,this.onGamepadDisconnect),a))},__onMouse:function(a,b,c,d){if(!(2<d)){b=new fa(b,c);this.__displayMatrix.__transformInversePoint(b);this.__mouseX=b.x;this.__mouseY=b.y;c=[];var e=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,c,!0,this)?e=c[c.length-1]:(e=this,c=[this]);null==e&&(e=this);var f=null;switch(a){case "mouseDown":e.get_tabEnabled()?this.set_focus(e):this.set_focus(null);this.__mouseDownLeft=
e;break;case "middleMouseDown":this.__mouseDownMiddle=e;break;case "rightMouseDown":this.__mouseDownRight=e;break;case "mouseUp":this.__mouseDownLeft==e&&(f="click");this.__mouseDownLeft=null;break;case "middleMouseUp":this.__mouseDownMiddle==e&&(f="middleClick");this.__mouseDownMiddle=null;break;case "rightMouseUp":this.__mouseDownRight==e&&(f="rightClick"),this.__mouseDownRight=null}this.__fireEvent(Va.__create(a,d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c);null!=f&&(this.__fireEvent(Va.__create(f,
d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c),"mouseUp"==a&&u.__cast(e,ab).doubleClickEnabled&&(a=Qa.getTimer(),500>a-this.__lastClickTime?(this.__fireEvent(Va.__create("doubleClick",d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c),this.__lastClickTime=0):this.__lastClickTime=a));if("auto"==dc.__cursor){f=null;if(null!=this.__mouseDownLeft)f=this.__mouseDownLeft.__getCursor();else for(a=0;a<c.length;)if(f=c[a],++a,f=f.__getCursor(),null!=f){Dc.set_cursor(f);break}null==
f&&Dc.set_cursor(Q.ARROW)}e!=this.__mouseOverTarget&&null!=this.__mouseOverTarget&&(a=this.__mouseOverTarget==this?b:this.__mouseOverTarget.globalToLocal(b),a=Va.__create("mouseOut",d,this.__mouseX,this.__mouseY,a,this.__mouseOverTarget),this.__mouseOverTarget.__dispatchEvent(a));for(var f=0,g=this.__rollOutStack;f<g.length;){var h=g[f];++f;-1==M.indexOf(c,h,0)&&(M.remove(this.__rollOutStack,h),a=this.__mouseOverTarget.globalToLocal(b),a=Va.__create("rollOut",d,this.__mouseX,this.__mouseY,a,this.__mouseOverTarget),
a.bubbles=!1,h.__dispatchEvent(a))}for(f=0;f<c.length;)g=c[f],++f,-1==M.indexOf(this.__rollOutStack,g,0)&&(g.hasEventListener("rollOver")&&(a=g.globalToLocal(b),a=Va.__create("rollOver",d,this.__mouseX,this.__mouseY,a,g),a.bubbles=!1,g.__dispatchEvent(a)),g.hasEventListener("rollOut")&&this.__rollOutStack.push(g));e!=this.__mouseOverTarget&&(null!=e&&(a=e==this?b:e.globalToLocal(b),a=Va.__create("mouseOver",d,this.__mouseX,this.__mouseY,a,e),a.bubbles=!0,e.__dispatchEvent(a)),this.__mouseOverTarget=
e);null!=this.__dragObject&&this.__drag(b)}},__onMouseWheel:function(a,b){var c=this.__mouseX,d=this.__mouseY,e=[],f=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,e,!0,this)?f=e[e.length-1]:(f=this,e=[this]);null==f&&(f=this);c=new fa(c,d);this.__displayMatrix.__transformInversePoint(c);d=b|0;this.__fireEvent(Va.__create("mouseWheel",0,this.__mouseX,this.__mouseY,f==this?c:f.globalToLocal(c),f,d),e)},__onTouch:function(a,b){var c=new fa(Math.round(b.x*this.window.__width),Math.round(b.y*this.window.__height));
this.__displayMatrix.__transformInversePoint(c);var d=c.x,e=c.y,f=[];if(this.__hitTest(d,e,!1,f,!0,this)){var g=f[f.length-1];null==g&&(g=this);c=g.globalToLocal(c);d=Fc.__create(a,null,d,e,c,g);d.touchPointID=b.id;d.isPrimaryTouchPoint=this.__primaryTouch==b;this.__fireEvent(d,f)}else f=Fc.__create(a,null,d,e,c,this),f.touchPointID=b.id,f.isPrimaryTouchPoint=this.__primaryTouch==b,this.__fireEvent(f,[this.stage])},__renderDOM:function(a){for(var b=0,c=this.stage3Ds;b<c.get_length();){var d=c.get(b);
++b;d.__renderDOM(this,a)}rb.prototype.__renderDOM.call(this,a)},__renderGL:function(a){for(var b=0,c=this.stage3Ds;b<c.get_length();){var d=c.get(b);++b;d.__renderGL(this,a)}rb.prototype.__renderGL.call(this,a)},__resize:function(){var a=this.stageWidth,b=this.stageHeight,c=this.window.__width*this.window.__scale|0,d=this.window.__height*this.window.__scale|0;this.__displayMatrix.identity();if(0==this.__logicalWidth&&0==this.__logicalHeight)this.stageWidth=c,this.stageHeight=d;else{this.stageWidth=
this.__logicalWidth;this.stageHeight=this.__logicalHeight;var e=Math.min(c/this.stageWidth,d/this.stageHeight),f=Math.round((c-this.stageWidth*e)/2),g=Math.round((d-this.stageHeight*e)/2);this.__displayMatrix.scale(e,e);this.__displayMatrix.translate(f,g)}e=0;for(f=this.stage3Ds;e<f.get_length();)g=f.get(e),++e,g.__resize(this.stageWidth,this.stageHeight);null!=this.__renderer&&this.__renderer.resize(c,d);this.stageWidth==a&&this.stageHeight==b||this.__dispatchEvent(new ca("resize"))},__setLogicalSize:function(a,
b){this.__logicalWidth=a;this.__logicalHeight=b;this.__resize()},__update:function(a,b,c){if(a)0<S.__worldTransformDirty&&(rb.prototype.__update.call(this,!0,b,c),b&&(S.__worldTransformDirty=0,this.__dirty=!0));else if(0<S.__worldTransformDirty||this.__dirty||0<S.__worldRenderDirty)rb.prototype.__update.call(this,!1,b,c),b&&(S.__worldTransformDirty=0,S.__worldRenderDirty=0,this.__dirty=!1)},get_color:function(){return this.__color},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,
((a&65280)>>>8)/255,(a&255)/255];this.__colorString="#"+da.hex(a,6);return this.__color=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=this.__focus){var b=this.__focus;this.__cacheFocus=this.__focus=a;if(null!=b){var c=new Rd("focusOut",!0,!1,this.__focus,!1,0),d=[];b.__getInteractive(d);d.reverse();this.__fireEvent(c,d)}null!=this.__focus&&(b=new Rd("focusIn",!0,!1,b,!1,0),c=[],a.__getInteractive(c),c.reverse(),this.__fireEvent(b,c))}return this.__focus},get_frameRate:function(){return null!=
this.application?this.application.backend.getFrameRate():0},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},__class__:Qd,__properties__:r(rb.prototype.__properties__,{get_frameRate:"get_frameRate",set_focus:"set_focus",get_focus:"get_focus",set_color:"set_color",get_color:"get_color"})});var Ye=function(){ea.call(this);this.set_x(0);this.set_y(0);this.visible=!0};h["openfl.display.Stage3D"]=Ye;Ye.__name__=["openfl","display","Stage3D"];Ye.__super__=ea;Ye.prototype=
r(ea.prototype,{requestContext3D:function(a,b){this.__contextRequested=!0},__renderDOM:function(a,b){if(this.visible){if(this.__contextRequested){if(null==this.context3D){this.__canvas=window.document.createElement("canvas");this.__canvas.width=a.stageWidth;this.__canvas.height=a.stageHeight;var c=a.window,c={alpha:!1,premultipliedAlpha:!1,antialias:!1,depth:Object.prototype.hasOwnProperty.call(c.config,"depthBuffer")?c.config.depthBuffer:!0,stencil:Object.prototype.hasOwnProperty.call(c.config,"stencilBuffer")?
c.config.stencilBuffer:!1};this.__context=this.__canvas.getContext("webgl",c);null==this.__context&&(this.__context=this.__canvas.getContext("experimental-webgl",c));null!=this.__context?(p.context=this.__context,this.context3D=new lb(this,b),b.element.appendChild(this.__canvas),this.__style=this.__canvas.style,this.__style.setProperty("position","absolute",null),this.__style.setProperty("top","0",null),this.__style.setProperty("left","0",null),this.__style.setProperty(b.transformOriginProperty,"0 0 0",
null),this.__style.setProperty("z-index","-1",null),this.dispatchEvent(new ca("context3DCreate"))):this.dispatchEvent(new Pc("error"))}this.__contextRequested=!1}null!=this.context3D&&this.__resetContext3DStates()}},__renderGL:function(a,b){this.visible&&(this.__contextRequested&&(null==this.context3D&&(this.context3D=new lb(this,b),this.dispatchEvent(new ca("context3DCreate"))),this.__contextRequested=!1),null!=this.context3D&&(this.__resetContext3DStates(),null))},__resize:function(a,b){null!=this.__canvas&&
(this.__canvas.width=a,this.__canvas.height=b)},__resetContext3DStates:function(){this.context3D.__updateBlendFactors();this.context3D.__updateBackbufferViewport()},set_x:function(a){this.x=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},set_y:function(a){this.y=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},__class__:Ye,__properties__:{set_y:"set_y",set_x:"set_x"}});var We=function(a){dd.call(this,a)};h["openfl.display.Window"]=We;We.__name__=
["openfl","display","Window"];We.__super__=dd;We.prototype=r(dd.prototype,{create:function(a){dd.prototype.create.call(this,a);this.stage=new Qd(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215);Object.prototype.hasOwnProperty.call(this.config,"resizable")&&!this.config.resizable&&this.stage.__setLogicalSize(this.config.width,this.config.height);a.addModule(this.stage)},__class__:We});var lb=function(a,b){this.enableErrorChecking=!1;this.driverInfo=
"OpenGL (Direct blitting)";this.backBufferHeight=this.backBufferWidth=0;ea.call(this);this.__stage3D=a;this.__renderSession=b;this.__vertexConstants=new Float32Array(512);this.__fragmentConstants=new Float32Array(512);var c=[1,1,1,1];this.__positionScale=null!=c?new Float32Array(c):null;this.__samplerDirty=0;this.__samplerTextures=E.toObjectVector(null,8);this.__samplerStates=[];for(c=0;8>c;){var d=c++;this.__samplerStates[d]=new Te(9729,9729,33071,33071)}this.maxBackBufferHeight=this.maxBackBufferWidth=
p.context.getParameter(3386);this.__backBufferAntiAlias=0;this.__backBufferEnableDepthAndStencil=!0;this.__backBufferWantsBestResolution=!1;this.__frameCount=0;this.__rttDepthAndStencil=!1;this.__stencilRef=this.__stencilCompareMode=this.__samplerDirty=0;this.__stencilReadMask=255;this.__supportsPackedDepthStencil=!0;this.__stats=E.toIntVector(null,11);this.__statsCache=E.toIntVector(null,11);D.CheckGLError();c=p.context.getParameter(7936);D.CheckGLError();d=p.context.getParameter(7938);D.CheckGLError();
var e=p.context.getParameter(7937);D.CheckGLError();var f=p.context.getParameter(35724);D.CheckGLError();this.driverInfo="OpenGL Vendor="+c+" Version="+d+" Renderer="+e+" GLSL="+f;c=0;for(d=this.__stats.get_length();c<d;)e=c++,this.__stats.set(e,0);lb.__stateCache.clearSettings()};h["openfl.display3D.Context3D"]=lb;lb.__name__=["openfl","display3D","Context3D"];lb.__super__=ea;lb.prototype=r(ea.prototype,{clear:function(a,b,c,d,e,f,g){null==g&&(g=7);null==f&&(f=0);null==e&&(e=1);null==d&&(d=1);null==
c&&(c=0);null==b&&(b=0);null==a&&(a=0);var h=0;0!=(g&1)&&(h|=16384,p.context.clearColor(a,b,c,d),D.CheckGLError());0!=(g&2)&&(h|=256,p.context.clearDepth(e),D.CheckGLError());0!=(g&4)&&(h|=1024,p.context.clearStencil(f),D.CheckGLError());p.context.clear(h);D.CheckGLError()},configureBackBuffer:function(a,b,c,d,e,f){null==e&&(e=!1);null==d&&(d=!0);this.__updateBackbufferViewport();this.backBufferWidth=a;this.backBufferHeight=b;this.__backBufferAntiAlias=c;this.__backBufferEnableDepthAndStencil=d;this.__backBufferWantsBestResolution=
e;lb.__stateCache.clearSettings()},createIndexBuffer:function(a,b){null==b&&(b=1);return new Uf(this,a,md.toString(b))},createProgram:function(){return new nd(this)},createRectangleTexture:function(a,b,c,d){return new Gc(this,a,b,Gg.toString(c),d)},createTexture:function(a,b,c,d,e){null==e&&(e=0);return new Hc(this,a,b,c,d,e)},createVertexBuffer:function(a,b,c){null==c&&(c=1);return new Vf(this,a,b,md.toString(c))},dispose:function(){},drawTriangles:function(a,b,c){null==c&&(c=-1);null==b&&(b=0);
null!=this.__program&&(this.__flushSamplerState(),this.__program.__flush(),c=-1==c?a.__numIndices:3*c,p.context.bindBuffer(34963,a.__id),D.CheckGLError(),p.context.drawElements(4,c,a.__elementType,b),D.CheckGLError(),this.__statsIncrement(0))},present:function(){this.__statsSendToTelemetry();this.__statsClear(0);this.__frameCount++},setBlendFactors:function(a,b){var c=lb.__stateCache.updateBlendSrcFactor(a),d=lb.__stateCache.updateBlendDestFactor(b);(c||d)&&this.__updateBlendFactors()},setCulling:function(a){if(lb.__stateCache.updateCullingMode(a))switch(a){case 3:p.context.disable(2884);
break;case 0:p.context.enable(2884);p.context.cullFace(1028);break;case 1:p.context.enable(2884);p.context.cullFace(1029);break;case 2:p.context.enable(2884);p.context.cullFace(1032);break;default:throw new m(new ma);}},setDepthTest:function(a,b){var c=this.__backBufferEnableDepthAndStencil;lb.__stateCache.updateDepthTestEnabled(c)&&(c?p.context.enable(2929):p.context.disable(2929));lb.__stateCache.updateDepthTestMask(a)&&p.context.depthMask(a);if(lb.__stateCache.updateDepthCompareMode(b))switch(b){case 0:p.context.depthFunc(519);
break;case 1:p.context.depthFunc(514);break;case 2:p.context.depthFunc(516);break;case 3:p.context.depthFunc(518);break;case 4:p.context.depthFunc(513);break;case 5:p.context.depthFunc(515);break;case 6:p.context.depthFunc(512);break;case 7:p.context.depthFunc(517);break;default:throw new m(new ma);}},setProgram:function(a){if(null==a)throw new m(new ma);lb.__stateCache.updateProgram3D(a)&&(a.__use(),a.__setPositionScale(this.__positionScale),this.__program=a,this.__samplerDirty|=this.__program.__samplerUsageMask)},
setProgramConstantsFromMatrix:function(a,b,c,d){null==d&&(d=!1);a=1==a;var e;e=a?this.__vertexConstants:this.__fragmentConstants;c=c.rawData;var f=4*b;if(d){d=f++;var g=c.get(0);e[d]=g;d=f++;g=c.get(4);e[d]=g;d=f++;g=c.get(8);e[d]=g;d=f++;g=c.get(12);e[d]=g;d=f++;g=c.get(1);e[d]=g;d=f++;g=c.get(5);e[d]=g;d=f++;g=c.get(9);e[d]=g;d=f++;g=c.get(13);e[d]=g;d=f++;g=c.get(2);e[d]=g;d=f++;g=c.get(6);e[d]=g;d=f++;g=c.get(10);e[d]=g;d=f++;g=c.get(14);e[d]=g;d=f++;g=c.get(3);e[d]=g;d=f++;g=c.get(7);e[d]=g;
d=f++;g=c.get(11)}else d=f++,g=c.get(0),e[d]=g,d=f++,g=c.get(1),e[d]=g,d=f++,g=c.get(2),e[d]=g,d=f++,g=c.get(3),e[d]=g,d=f++,g=c.get(4),e[d]=g,d=f++,g=c.get(5),e[d]=g,d=f++,g=c.get(6),e[d]=g,d=f++,g=c.get(7),e[d]=g,d=f++,g=c.get(8),e[d]=g,d=f++,g=c.get(9),e[d]=g,d=f++,g=c.get(10),e[d]=g,d=f++,g=c.get(11),e[d]=g,d=f++,g=c.get(12),e[d]=g,d=f++,g=c.get(13),e[d]=g,d=f++,g=c.get(14);e[d]=g;f=f++;c=c.get(15);e[f]=c;null!=this.__program&&this.__program.__markDirty(a,b,4)},setProgramConstantsFromVector:function(a,
b,c,d){null==d&&(d=-1);if(0!=d){-1==d&&(d=c.get_length()>>2);a=1==a;var e;e=a?this.__vertexConstants:this.__fragmentConstants;for(var f=0,g=4*b,h=0;h<d;){h++;var k=g++,l;l=f++;l=c.get(l);e[k]=l;k=g++;l=f++;l=c.get(l);e[k]=l;k=g++;l=f++;l=c.get(l);e[k]=l;k=g++;l=f++;l=c.get(l);e[k]=l}null!=this.__program&&this.__program.__markDirty(a,b,d)}},setRenderToBackBuffer:function(){p.context.bindFramebuffer(36160,null);D.CheckGLError();this.__scissorRectangle=this.__renderToTexture=null;this.__updateBackbufferViewport();
this.__updateScissorRectangle();this.__updateDepthAndStencilState();this.__positionScale[1]=1;null!=this.__program&&this.__program.__setPositionScale(this.__positionScale)},setRenderToTexture:function(a,b,c,d){null==b&&(b=!1);d=c=0;if(u.__instanceof(a,Hc))c=a.__width,d=a.__height;else if(u.__instanceof(a,Gc))c=a.__width,d=a.__height;else throw new m(new ga("Invalid texture"));null==this.__framebuffer&&(this.__framebuffer=p.context.createFramebuffer(),D.CheckGLError());p.context.bindFramebuffer(36160,
this.__framebuffer);D.CheckGLError();p.context.framebufferTexture2D(36160,36064,3553,a.__textureID,0);D.CheckGLError();b&&(this.__supportsPackedDepthStencil?(null==this.__depthStencilRenderBuffer&&(this.__depthStencilRenderBuffer=p.context.createRenderbuffer(),D.CheckGLError()),p.context.bindRenderbuffer(36161,this.__depthStencilRenderBuffer),D.CheckGLError(),p.context.renderbufferStorage(36161,34041,c,d),D.CheckGLError(),p.context.framebufferRenderbuffer(36160,33306,36161,this.__depthStencilRenderBuffer)):
(null==this.__depthRenderBuffer&&(this.__depthRenderBuffer=p.context.createRenderbuffer(),D.CheckGLError()),null==this.__stencilRenderBuffer&&(this.__stencilRenderBuffer=p.context.createRenderbuffer(),D.CheckGLError()),p.context.bindRenderbuffer(36161,this.__depthRenderBuffer),D.CheckGLError(),p.context.renderbufferStorage(36161,33189,c,d),D.CheckGLError(),p.context.bindRenderbuffer(36161,this.__stencilRenderBuffer),D.CheckGLError(),p.context.renderbufferStorage(36161,36168,c,d),D.CheckGLError(),
p.context.framebufferRenderbuffer(36160,36096,36161,this.__depthRenderBuffer),D.CheckGLError(),p.context.framebufferRenderbuffer(36160,36128,36161,this.__stencilRenderBuffer)),D.CheckGLError(),p.context.bindRenderbuffer(36161,null),D.CheckGLError());this.__setViewport(0,0,c,d);this.enableErrorChecking&&36053!=p.context.checkFramebufferStatus(36160)&&Na.trace("Error: Context3D.setRenderToTexture status:${code} width:${texture2D.__width} height:${texture2D.__height}",{fileName:"Context3D.hx",lineNumber:708,
className:"openfl.display3D.Context3D",methodName:"setRenderToTexture"});this.__positionScale[1]=-1;null!=this.__program&&this.__program.__setPositionScale(this.__positionScale);this.__renderToTexture=a;this.__scissorRectangle=null;this.__rttDepthAndStencil=b;this.__updateScissorRectangle();this.__updateDepthAndStencilState()},setScissorRectangle:function(a){this.__scissorRectangle=null!=a?a.clone():null;this.__updateScissorRectangle()},setStencilActions:function(a,b,c,d,e){null==e&&(e=5);null==d&&
(d=5);null==c&&(c=5);null==b&&(b=0);this.__stencilCompareMode=b;p.stencilOp(this.__getGLStencilAction(d),this.__getGLStencilAction(e),this.__getGLStencilAction(c));p.stencilFunc(this.__getGLCompareMode(this.__stencilCompareMode),this.__stencilRef,this.__stencilReadMask)},setStencilReferenceValue:function(a,b,c){null==c&&(c=255);null==b&&(b=255);this.__stencilReadMask=b;this.__stencilRef=a;p.stencilFunc(this.__getGLCompareMode(this.__stencilCompareMode),this.__stencilRef,this.__stencilReadMask);p.context.stencilMask(c)},
setTextureAt:function(a,b){this.__samplerTextures.get(a)!=b&&(this.__samplerTextures.set(a,b),this.__samplerDirty|=1<<a)},setVertexBufferAt:function(a,b,c,d){null==d&&(d=4);null==c&&(c=0);if(null==b)p.context.disableVertexAttribArray(a),D.CheckGLError(),p.context.bindBuffer(34962,null),D.CheckGLError();else switch(p.context.enableVertexAttribArray(a),D.CheckGLError(),p.context.bindBuffer(34962,b.__id),D.CheckGLError(),c*=4,d){case 0:p.context.vertexAttribPointer(a,4,5121,!0,b.__stride,c);D.CheckGLError();
break;case 4:p.context.vertexAttribPointer(a,4,5126,!1,b.__stride,c);D.CheckGLError();break;case 3:p.context.vertexAttribPointer(a,3,5126,!1,b.__stride,c);D.CheckGLError();break;case 2:p.context.vertexAttribPointer(a,2,5126,!1,b.__stride,c);D.CheckGLError();break;case 1:p.context.vertexAttribPointer(a,1,5126,!1,b.__stride,c);D.CheckGLError();break;default:throw new m(new ma);}},__flushSamplerState:function(){for(var a=0;0!=this.__samplerDirty;){if(0!=(this.__samplerDirty&1<<a)){lb.__stateCache.updateActiveTextureSample(a)&&
(p.context.activeTexture(33984+a),D.CheckGLError());var b=this.__samplerTextures.get(a);if(null!=b){p.context.bindTexture(b.__textureTarget,b.__textureID);D.CheckGLError();var c=this.__program.__getSamplerState(a);null!=c&&b.__setSamplerState(c)}else p.context.bindTexture(3553,null),D.CheckGLError();this.__samplerDirty&=~(1<<a)}a++}},__getGLCompareMode:function(a){switch(a){case 0:return 519;case 1:return 514;case 2:return 516;case 3:return 518;case 4:return 513;case 5:return 515;case 6:return 512;
case 7:return 517;default:return 514}},__getGLStencilAction:function(a){switch(a){case 0:return 7683;case 1:return 34056;case 2:return 7682;case 3:return 34055;case 4:return 5386;case 5:return 7680;case 6:return 7681;case 7:return 0;default:return 7680}},__setViewport:function(a,b,c,d){lb.__stateCache.updateViewport(a,b,c,d)&&(p.context.viewport(a,b,c,d),D.CheckGLError())},__statsAdd:function(a,b){var c=this.__stats.get(a)+b;this.__stats.set(a,c);return this.__stats.get(a)},__statsClear:function(a){this.__stats.set(a,
0)},__statsDecrement:function(a){var b=this.__stats.get(a)-1;this.__stats.set(a,b)},__statsIncrement:function(a){var b=this.__stats.get(a)+1;this.__stats.set(a,b)},__statsSendToTelemetry:function(){},__statsSubtract:function(a,b){var c=this.__stats.get(a)-b;this.__stats.set(a,c);return this.__stats.get(a)},__updateDepthAndStencilState:function(){(null!=this.__renderToTexture?this.__rttDepthAndStencil:this.__backBufferEnableDepthAndStencil)?(p.context.enable(2929),D.CheckGLError(),p.context.enable(2960)):
(p.context.disable(2929),D.CheckGLError(),p.context.disable(2960));D.CheckGLError()},__updateBlendFactors:function(){if(null!=lb.__stateCache._srcBlendFactor&&null!=lb.__stateCache._destBlendFactor){var a=1,b=0;switch(lb.__stateCache._srcBlendFactor){case 2:a=1;break;case 9:a=0;break;case 7:a=770;break;case 0:a=772;break;case 1:a=774;break;case 5:a=771;break;case 3:a=773;break;case 4:a=775;break;default:throw new m(new ma);}switch(lb.__stateCache._destBlendFactor){case 2:b=1;break;case 9:b=0;break;
case 7:b=770;break;case 8:b=768;break;case 0:b=772;break;case 5:b=771;break;case 6:b=769;break;case 3:b=773;break;default:throw new m(new ma);}p.context.enable(3042);D.CheckGLError();p.context.blendFunc(a,b);D.CheckGLError()}},__updateScissorRectangle:function(){if(null==this.__scissorRectangle)p.context.disable(3089);else{p.context.enable(3089);D.CheckGLError();var a=0;null!=this.__renderToTexture?u.__instanceof(this.__renderToTexture,Hc)?a=this.__renderToTexture.__height:u.__instanceof(this.__renderToTexture,
Gc)&&(a=this.__renderToTexture.__height):a=this.backBufferHeight;p.context.scissor(this.__scissorRectangle.x|0,a-(this.__scissorRectangle.y|0)-(this.__scissorRectangle.height|0)|0,this.__scissorRectangle.width|0,this.__scissorRectangle.height|0)}D.CheckGLError()},__updateBackbufferViewport:function(){null==this.__renderToTexture&&this.__setViewport(this.__stage3D.x|0,this.__stage3D.y|0,this.backBufferWidth,this.backBufferHeight)},set_enableErrorChecking:function(a){return this.enableErrorChecking=
D.debug=a},__class__:lb,__properties__:{set_enableErrorChecking:"set_enableErrorChecking"}});var md={};h["openfl.display3D._Context3DBufferUsage.Context3DBufferUsage_Impl_"]=md;md.__name__=["openfl","display3D","_Context3DBufferUsage","Context3DBufferUsage_Impl_"];md.fromString=function(a){switch(a){case "dynamicDraw":return 0;case "staticDraw":return 1;default:return null}};md.toString=function(a){switch(a){case 0:return"dynamicDraw";case 1:return"staticDraw";default:return null}};var Gg={};h["openfl.display3D._Context3DTextureFormat.Context3DTextureFormat_Impl_"]=
Gg;Gg.__name__=["openfl","display3D","_Context3DTextureFormat","Context3DTextureFormat_Impl_"];Gg.toString=function(a){switch(a){case 0:return"bgrPacked565";case 1:return"bgra";case 2:return"bgraPacked4444";case 3:return"compressed";case 4:return"compressedAlpha";case 5:return"rgbaHalfFloat";default:return null}};var Uf=function(a,b,c){this.__context=a;this.__numIndices=b;this.__elementType=5123;this.__id=p.context.createBuffer();D.CheckGLError();0==md.fromString(c)?this.__usage=35048:this.__usage=
35044;this.__context.__statsIncrement(1);this.__memoryUsage=0};h["openfl.display3D.IndexBuffer3D"]=Uf;Uf.__name__=["openfl","display3D","IndexBuffer3D"];Uf.prototype={dispose:function(){p.context.deleteBuffer(this.__id);this.__context.__statsDecrement(1);this.__context.__statsSubtract(6,this.__memoryUsage);this.__memoryUsage=0},uploadFromTypedArray:function(a){p.context.bindBuffer(34963,this.__id);D.CheckGLError();p.context.bufferData(34963,a,this.__usage);D.CheckGLError();a.byteLength!=this.__memoryUsage&&
(this.__context.__statsAdd(6,a.byteLength-this.__memoryUsage),this.__memoryUsage=a.byteLength)},uploadFromVector:function(a,b,c){var d=b+c;c=null!=c?new Int16Array(c):null;for(var e=b;e<d;){var f=e++,g=a.get(f);c[f-b]=g}this.uploadFromTypedArray(c)},__class__:Uf};var nd=function(a){this.__context=a;this.__samplerUsageMask=this.__memUsage=0;this.__uniforms=new yc;this.__samplerUniforms=new yc;this.__alphaSamplerUniforms=new yc;this.__samplerStates=E.toObjectVector(null,8)};h["openfl.display3D.Program3D"]=
nd;nd.__name__=["openfl","display3D","Program3D"];nd.prototype={dispose:function(){this.__deleteShaders()},upload:function(a,b){var c=[],d=Xb.convertToGLSL(a,null),e=Xb.convertToGLSL(b,c);this.__uploadFromGLSL(d,e);d=0;for(e=c.length;d<e;){var f=d++;this.__setSamplerState(f,c[f])}},__buildUniformList:function(){this.__uniforms.clear();this.__samplerUniforms.clear();this.__alphaSamplerUniforms.clear();var a=this.__samplerUsageMask=0,a=p.context.getProgramParameter(this.__programID,35718);D.CheckGLError();
for(var b=new yc,c=new yc,d=0;d<a;){var e=d++,f=p.context.getActiveUniform(this.__programID,e),g=f.name,h=f.size,k=f.type;D.CheckGLError();f=new Wf;f.name=g;f.size=h;f.type=k;f.location=p.context.getUniformLocation(this.__programID,f.name);D.CheckGLError();g=f.name.indexOf("[");0<=g&&(f.name=f.name.substring(0,g));switch(f.type){case 35674:f.regCount=2;break;case 35675:f.regCount=3;break;case 35676:f.regCount=4;break;default:f.regCount=1}f.regCount*=f.size;this.__uniforms.add(f);if("vcPositionScale"==
f.name)this.__positionScale=f;else if(da.startsWith(f.name,"vc"))f.regIndex=w.parseInt(f.name.substring(2)),f.regData=this.__context.__vertexConstants,b.add(f);else if(da.startsWith(f.name,"fc"))f.regIndex=w.parseInt(f.name.substring(2)),f.regData=this.__context.__fragmentConstants,c.add(f);else if(da.startsWith(f.name,"sampler")&&!da.endsWith(f.name,"_alpha"))for(f.regIndex=w.parseInt(f.name.substring(7)),this.__samplerUniforms.add(f),g=0,h=f.regCount;g<h;)k=g++,this.__samplerUsageMask|=1<<f.regIndex+
k;else da.startsWith(f.name,"sampler")&&da.endsWith(f.name,"_alpha")&&(g=f.name.indexOf("_")-7,f.regIndex=w.parseInt(f.name.substring(7,7+g))+4,this.__alphaSamplerUniforms.add(f));nd.verbose&&Na.trace(""+e+" name:"+f.name+" type:"+f.type+" size:"+f.size+" location:"+w.string(f.location),{fileName:"Program3D.hx",lineNumber:174,className:"openfl.display3D.Program3D",methodName:"__buildUniformList"})}this.__vertexUniformMap=new $e(rf.array(b));this.__fragmentUniformMap=new $e(rf.array(c))},__deleteShaders:function(){null!=
this.__programID&&(this.__programID=null);null!=this.__vertexShaderID&&(p.context.deleteShader(this.__vertexShaderID),D.CheckGLError(),this.__vertexShaderID=null);null!=this.__fragmentShaderID&&(p.context.deleteShader(this.__fragmentShaderID),D.CheckGLError(),this.__fragmentShaderID=null);0!=this.__memUsage&&(this.__context.__statsDecrement(5),this.__context.__statsSubtract(10,this.__memUsage),this.__memUsage=0)},__flush:function(){this.__vertexUniformMap.flush();this.__fragmentUniformMap.flush()},
__getSamplerState:function(a){return this.__samplerStates.get(a)},__markDirty:function(a,b,c){a?this.__vertexUniformMap.markDirty(b,c):this.__fragmentUniformMap.markDirty(b,c)},__setPositionScale:function(a){null!=this.__positionScale&&(p.context.uniform4fv(this.__positionScale.location,a),D.CheckGLError())},__setSamplerState:function(a,b){this.__samplerStates.set(a,b)},__uploadFromGLSL:function(a,b){this.__deleteShaders();nd.verbose&&(Na.trace(a,{fileName:"Program3D.hx",lineNumber:278,className:"openfl.display3D.Program3D",
methodName:"__uploadFromGLSL"}),Na.trace(b,{fileName:"Program3D.hx",lineNumber:279,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}));this.__vertexSource=a;this.__fragmentSource=b;this.__vertexShaderID=p.context.createShader(35633);p.context.shaderSource(this.__vertexShaderID,a);D.CheckGLError();p.context.compileShader(this.__vertexShaderID);D.CheckGLError();var c=p.context.getShaderParameter(this.__vertexShaderID,35713);D.CheckGLError();if(0==c)throw c=p.context.getShaderInfoLog(this.__vertexShaderID),
null!=c&&0!=c.length&&Na.trace("vertex: "+c,{fileName:"Program3D.hx",lineNumber:303,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}),new m(new ga("Error compiling vertex shader: "+c));this.__fragmentShaderID=p.context.createShader(35632);p.context.shaderSource(this.__fragmentShaderID,b);D.CheckGLError();p.context.compileShader(this.__fragmentShaderID);D.CheckGLError();if(0==p.context.getShaderParameter(this.__fragmentShaderID,35713))throw c=p.context.getShaderInfoLog(this.__fragmentShaderID),
null!=c&&0!=c.length&&Na.trace("fragment: "+c,{fileName:"Program3D.hx",lineNumber:326,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}),new m(new ga("Error compiling fragment shader: "+c));this.__programID=p.context.createProgram();p.context.attachShader(this.__programID,this.__vertexShaderID);D.CheckGLError();p.context.attachShader(this.__programID,this.__fragmentShaderID);D.CheckGLError();for(c=0;16>c;){var d=c++,e="va"+d;-1!=a.indexOf(" "+e)&&p.context.bindAttribLocation(this.__programID,
d,e)}p.context.linkProgram(this.__programID);c=p.context.getProgramInfoLog(this.__programID);null!=c&&0!=c.length&&Na.trace("program: ${infoLog}",{fileName:"Program3D.hx",lineNumber:359,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"});this.__buildUniformList();this.__memUsage=1;this.__context.__statsIncrement(5);this.__context.__statsAdd(10,this.__memUsage)},__use:function(){p.useProgram(this.__programID);D.CheckGLError();this.__vertexUniformMap.markAllDirty();this.__fragmentUniformMap.markAllDirty();
for(var a=this.__samplerUniforms.h,b=null;null!=a;)if(b=a[0],a=a[1],1==b.regCount)p.context.uniform1i(b.location,b.regIndex),D.CheckGLError();else throw new m(new ma("!!! TODO: uniform location on webgl"));a=this.__alphaSamplerUniforms.h;for(b=null;null!=a;)if(b=a[0],a=a[1],1==b.regCount)p.context.uniform1i(b.location,b.regIndex),D.CheckGLError();else throw new m(new ma("!!! TODO: uniform location on webgl"));},__class__:nd};var Wf=function(){this.isDirty=!0};h["openfl.display3D._Program3D.Uniform"]=
Wf;Wf.__name__=["openfl","display3D","_Program3D","Uniform"];Wf.prototype={flush:function(){var a=4*this.regIndex;switch(this.type){case 35674:p.uniformMatrix2fv(this.location,!1,this.__getRegisters(a,4*this.size));break;case 35675:p.uniformMatrix3fv(this.location,!1,this.__getRegisters(a,9*this.size));break;case 35676:p.uniformMatrix4fv(this.location,!1,this.__getRegisters(a,16*this.size));break;case 35664:p.uniform2fv(this.location,this.__getRegisters(a,2*this.regCount));break;case 35665:p.uniform3fv(this.location,
this.__getRegisters(a,3*this.regCount));break;case 35666:p.uniform4fv(this.location,this.__getRegisters(a,4*this.regCount));break;default:p.uniform4fv(this.location,this.__getRegisters(a,4*this.regCount))}D.CheckGLError()},__getRegisters:function(a,b){return this.regData.subarray(a,a+b)},__class__:Wf};var $e=function(a){this.__uniforms=a;this.__uniforms.sort(function(a,b){return T.compare(a.regIndex,b.regIndex)});for(var b=a=0,c=this.__uniforms;b<c.length;){var d=c[b];++b;d.regIndex+d.regCount>a&&
(a=d.regIndex+d.regCount)}this.__registerLookup=E.toObjectVector(null,a);a=0;for(b=this.__uniforms;a<b.length;){c=b[a];++a;for(var d=0,e=c.regCount;d<e;){var f=d++;this.__registerLookup.set(c.regIndex+f,c)}}this.__anyDirty=this.__allDirty=!0};h["openfl.display3D._Program3D.UniformMap"]=$e;$e.__name__=["openfl","display3D","_Program3D","UniformMap"];$e.prototype={flush:function(){if(this.__anyDirty){for(var a=0,b=this.__uniforms;a<b.length;){var c=b[a];++a;if(this.__allDirty||c.isDirty)c.flush(),c.isDirty=
!1}this.__anyDirty=this.__allDirty=!1}},markAllDirty:function(){this.__anyDirty=this.__allDirty=!0},markDirty:function(a,b){if(!this.__allDirty){var c=a+b;c>this.__registerLookup.get_length()&&(c=this.__registerLookup.get_length());for(var d=a;d<c;){var e=this.__registerLookup.get(d);null!=e?(this.__anyDirty=e.isDirty=!0,d=e.regIndex+e.regCount):d++}}},__class__:$e};var Vf=function(a,b,c,d){this.__context=a;this.__numVertices=b;this.__vertexSize=c;this.__id=p.context.createBuffer();D.CheckGLError();
this.__stride=4*this.__vertexSize;this.__memoryUsage=0;0==md.fromString(d)?this.__usage=35048:this.__usage=35044;this.__context.__statsIncrement(2)};h["openfl.display3D.VertexBuffer3D"]=Vf;Vf.__name__=["openfl","display3D","VertexBuffer3D"];Vf.prototype={dispose:function(){p.context.deleteBuffer(this.__id);this.__context.__statsDecrement(2);this.__context.__statsSubtract(7,this.__memoryUsage);this.__memoryUsage=0},uploadFromTypedArray:function(a){p.context.bindBuffer(34962,this.__id);D.CheckGLError();
p.context.bufferData(34962,a,this.__usage);D.CheckGLError();a.byteLength!=this.__memoryUsage&&(this.__context.__statsAdd(7,a.byteLength-this.__memoryUsage),this.__memoryUsage=a.byteLength)},uploadFromVector:function(a,b,c){b*=this.__vertexSize;var d=c*this.__vertexSize;c=b+d;for(var d=null!=d?new Float32Array(d):null,e=b;e<c;){var f=e++,g=a.get(f);d[f-b]=g}this.uploadFromTypedArray(d)},__class__:Vf};var vc=function(a,b){ea.call(this);this.__context=a;this.__textureTarget=b;this.__textureID=p.context.createTexture();
this.__format=this.__internalFormat=6408;this.__compressedMemoryUsage=this.__memoryUsage=0};h["openfl.display3D.textures.TextureBase"]=vc;vc.__name__=["openfl","display3D","textures","TextureBase"];vc.__super__=ea;vc.prototype=r(ea.prototype,{dispose:function(){null!=this.__alphaTexture&&this.__alphaTexture.dispose();p.context.deleteTexture(this.__textureID);0<this.__compressedMemoryUsage&&(this.__context.__statsDecrement(4),this.__context.__statsSubtract(9,this.__compressedMemoryUsage),this.__compressedMemoryUsage=
0);0<this.__memoryUsage&&(this.__context.__statsDecrement(3),this.__context.__statsSubtract(8,this.__memoryUsage),this.__memoryUsage=0)},__setSamplerState:function(a){a.equals(this.__samplerState)||(p.context.bindTexture(this.__textureTarget,this.__textureID),D.CheckGLError(),p.context.texParameteri(this.__textureTarget,10241,a.minFilter),D.CheckGLError(),p.context.texParameteri(this.__textureTarget,10240,a.magFilter),D.CheckGLError(),p.context.texParameteri(this.__textureTarget,10242,a.wrapModeS),
D.CheckGLError(),p.context.texParameteri(this.__textureTarget,10243,a.wrapModeT),D.CheckGLError(),this.__samplerState=a)},__trackMemoryUsage:function(a){0==this.__memoryUsage&&this.__context.__statsIncrement(3);this.__memoryUsage+=a;this.__context.__statsAdd(8,a)},__class__:vc});var Gc=function(a,b,c,d,e){vc.call(this,a,3553);this.__width=b;this.__height=c;this.__optimizeForRenderToTexture=e;this.uploadFromTypedArray(null)};h["openfl.display3D.textures.RectangleTexture"]=Gc;Gc.__name__=["openfl",
"display3D","textures","RectangleTexture"];Gc.__super__=vc;Gc.prototype=r(vc.prototype,{uploadFromBitmapData:function(a){null!=a&&(a=a.image,null!=a&&this.uploadFromTypedArray(a.get_data()))},uploadFromTypedArray:function(a){p.context.bindTexture(this.__textureTarget,this.__textureID);D.CheckGLError();p.context.texImage2D(this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,5121,a);D.CheckGLError();p.context.bindTexture(this.__textureTarget,null);D.CheckGLError();
this.__trackMemoryUsage(this.__width*this.__height*4)},__class__:Gc});var Hc=function(a,b,c,d,e,f){vc.call(this,a,3553);this.__width=b;this.__height=c;this.__optimizeForRenderToTexture=e;this.__streamingLevels=f;this.uploadFromTypedArray(null)};h["openfl.display3D.textures.Texture"]=Hc;Hc.__name__=["openfl","display3D","textures","Texture"];Hc.__super__=vc;Hc.prototype=r(vc.prototype,{uploadFromBitmapData:function(a,b,c){null==b&&(b=0);this.__miplevel=b;this.uploadFromTypedArray(a.image.get_data())},
uploadFromTypedArray:function(a){p.context.bindTexture(this.__textureTarget,this.__textureID);D.CheckGLError();p.context.texImage2D(this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,5121,a);D.CheckGLError();p.context.bindTexture(this.__textureTarget,null);D.CheckGLError();this.__trackMemoryUsage(this.__width*this.__height*4)},__class__:Hc});var ga=function(a,b){null==b&&(b=0);null==a&&(a="");this.message=a;this.errorID=b;this.name="Error"};h["openfl.errors.Error"]=
ga;ga.__name__=["openfl","errors","Error"];ga.prototype={toString:function(){return null!=this.message?this.message:"Error"},__class__:ga};var la=function(a){null==a&&(a="");ga.call(this,a);this.name="ArgumentError"};h["openfl.errors.ArgumentError"]=la;la.__name__=["openfl","errors","ArgumentError"];la.__super__=ga;la.prototype=r(ga.prototype,{__class__:la});var od=function(a){null==a&&(a="");ga.call(this,a);this.name="IOError"};h["openfl.errors.IOError"]=od;od.__name__=["openfl","errors","IOError"];
od.__super__=ga;od.prototype=r(ga.prototype,{__class__:od});var Sd=function(){od.call(this,"End of file was encountered");this.name="EOFError";this.errorID=2030};h["openfl.errors.EOFError"]=Sd;Sd.__name__=["openfl","errors","EOFError"];Sd.__super__=od;Sd.prototype=r(od.prototype,{__class__:Sd});var ma=function(a){null==a&&(a="");ga.call(this,a,0);this.name="IllegalOperationError"};h["openfl.errors.IllegalOperationError"]=ma;ma.__name__=["openfl","errors","IllegalOperationError"];ma.__super__=ga;ma.prototype=
r(ga.prototype,{__class__:ma});var Wc=function(a){null==a&&(a="");ga.call(this,a,0);this.name="RangeError"};h["openfl.errors.RangeError"]=Wc;Wc.__name__=["openfl","errors","RangeError"];Wc.__super__=ga;Wc.prototype=r(ga.prototype,{__class__:Wc});var ca=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=c;this.eventPhase=2};h["openfl.events.Event"]=ca;ca.__name__=["openfl","events","Event"];ca.prototype={preventDefault:function(){this.cancelable&&(this.__preventDefault=
!0)},stopImmediatePropagation:function(){this.__isCanceledNow=this.__isCanceled=!0},__class__:ca};var pd=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);ca.call(this,a,b,c);this.activating=d};h["openfl.events.ActivityEvent"]=pd;pd.__name__=["openfl","events","ActivityEvent"];pd.__super__=ca;pd.prototype=r(ca.prototype,{__class__:pd});var Oc=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);ca.call(this,a,b,c);this.text=d};h["openfl.events.TextEvent"]=Oc;Oc.__name__=
["openfl","events","TextEvent"];Oc.__super__=ca;Oc.prototype=r(ca.prototype,{__class__:Oc});var Pc=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);Oc.call(this,a,b,c,d);this.errorID=e};h["openfl.events.ErrorEvent"]=Pc;Pc.__name__=["openfl","events","ErrorEvent"];Pc.__super__=Oc;Pc.prototype=r(Oc.prototype,{__class__:Pc});var $d=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};h["openfl.events._EventDispatcher.Listener"]=$d;$d.__name__=["openfl",
"events","_EventDispatcher","Listener"];$d.prototype={match:function(a,b){return T.compareMethods(this.callback,a)&&this.useCapture==b},__class__:$d};var Rd=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=!1);null==c&&(c=!1);null==b&&(b=!1);ca.call(this,a,b,c);this.keyCode=f;this.shiftKey=e;this.relatedObject=d};h["openfl.events.FocusEvent"]=Rd;Rd.__name__=["openfl","events","FocusEvent"];Rd.__super__=ca;Rd.prototype=r(ca.prototype,{__class__:Rd});var Uc=function(a,b,c,d,e){null==e&&(e=!1);null==
d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);pd.call(this,a,b,c);this.fullScreen=d;this.interactive=e};h["openfl.events.FullScreenEvent"]=Uc;Uc.__name__=["openfl","events","FullScreenEvent"];Uc.__super__=pd;Uc.prototype=r(pd.prototype,{__class__:Uc});var Td=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!0);ca.call(this,a,b,c);this.device=d};h["openfl.events.GameInputEvent"]=Td;Td.__name__=["openfl","events","GameInputEvent"];Td.__super__=ca;Td.prototype=r(ca.prototype,{__class__:Td});var af=function(a,
b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!0);Pc.call(this,a,b,c,d,e)};h["openfl.events.IOErrorEvent"]=af;af.__name__=["openfl","events","IOErrorEvent"];af.__super__=Pc;af.prototype=r(Pc.prototype,{__class__:af});var Ze=function(a,b,c,d,e,f,g,h,k,l,m){null==m&&(m=!1);null==l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);ca.call(this,a,b,c);this.charCode=d;this.keyCode=e;this.keyLocation=null!=f?f:0;this.ctrlKey=
g;this.altKey=h;this.shiftKey=k;this.controlKey=l;this.commandKey=m};h["openfl.events.KeyboardEvent"]=Ze;Ze.__name__=["openfl","events","KeyboardEvent"];Ze.__super__=ca;Ze.prototype=r(ca.prototype,{__class__:Ze});var Va=function(a,b,c,d,e,f,g,h,k,l,m,p,q){null==q&&(q=0);null==p&&(p=!1);null==m&&(m=0);null==l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);ca.call(this,a,b,c);this.shiftKey=k;this.altKey=h;this.ctrlKey=g;this.bubbles=
b;this.relatedObject=f;this.delta=m;this.localX=d;this.localY=e;this.buttonDown=l;this.commandKey=p;this.clickCount=q;this.stageY=this.stageX=0};h["openfl.events.MouseEvent"]=Va;Va.__name__=["openfl","events","MouseEvent"];Va.__create=function(a,b,c,d,e,f,g){null==g&&(g=0);switch(a){case "mouseDown":Va.__buttonDown=!0;break;case "mouseUp":Va.__buttonDown=!1}a=new Va(a,!0,!1,e.x,e.y,null,Va.__ctrlKey,Va.__altKey,Va.__shiftKey,Va.__buttonDown,g,Va.__commandKey);a.stageX=c;a.stageY=d;a.target=f;return a};
Va.__super__=ca;Va.prototype=r(ca.prototype,{__class__:Va});var Fc=function(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,y,z,A){null==u&&(u=!1);null==t&&(t=!1);null==r&&(r=!1);null==q&&(q=!1);null==p&&(p=!1);null==l&&(l=0);null==k&&(k=0);null==h&&(h=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);ca.call(this,a,b,c);this.touchPointID=d;this.isPrimaryTouchPoint=e;this.localX=f;this.localY=g;this.sizeX=h;this.sizeY=k;this.pressure=l;this.relatedObject=m;this.ctrlKey=
p;this.altKey=q;this.shiftKey=r;this.commandKey=t;this.controlKey=u};h["openfl.events.TouchEvent"]=Fc;Fc.__name__=["openfl","events","TouchEvent"];Fc.__create=function(a,b,c,d,e,f){a=new Fc(a,!0,!1,0,!0,e.x,e.y,1,1,1);a.stageX=c;a.stageY=d;a.target=f;return a};Fc.__super__=ca;Fc.prototype=r(ca.prototype,{__class__:Fc});var qd=function(){};h["openfl.filters.BitmapFilter"]=qd;qd.__name__=["openfl","filters","BitmapFilter"];qd.prototype={__initShader:function(a){return a.shaderManager.defaultShader},
__class__:qd};var bf=function(){};h["openfl.filters.BlurFilter"]=bf;bf.__name__=["openfl","filters","BlurFilter"];bf.__super__=qd;bf.prototype=r(qd.prototype,{__class__:bf});var cf=function(){};h["openfl.filters.DropShadowFilter"]=cf;cf.__name__=["openfl","filters","DropShadowFilter"];cf.__super__=qd;cf.prototype=r(qd.prototype,{__class__:cf});var qf=function(a){this.__colorTransform=new wb;this.concatenatedColorTransform=new wb;this.pixelBounds=new I;this.__displayObject=a;this.__hasMatrix=!0};h["openfl.geom.Transform"]=
qf;qf.__name__=["openfl","geom","Transform"];qf.prototype={get_colorTransform:function(){return this.__colorTransform},__class__:qf,__properties__:{get_colorTransform:"get_colorTransform"}};var Xg=function(){};h["openfl.media.ID3Info"]=Xg;Xg.__name__=["openfl","media","ID3Info"];var ed=function(a,b){ea.call(this,this);this.bytesTotal=this.bytesLoaded=0;this.isBuffering=!1;this.url=null;null!=a&&this.load(a,b)};h["openfl.media.Sound"]=ed;ed.__name__=["openfl","media","Sound"];ed.fromAudioBuffer=function(a){var b=
new ed;b.__buffer=a;return b};ed.__super__=ea;ed.prototype=r(ea.prototype,{load:function(a,b){var c=this;this.url=a.url;if(Ma.audioBuffers.exists(this.url))this.AudioBuffer_onURLLoad(Ma.audioBuffers.get(this.url));else ac.loadFromFile(this.url).onComplete(l(this,this.AudioBuffer_onURLLoad)).onError(function(a){c.AudioBuffer_onURLLoad(null)})},play:function(a,b,c){null==b&&(b=0);null==a&&(a=0);c=null==c?new rd:c.clone();var d=Yb.__soundTransform.pan+c.pan;1<d&&(d=1);-1>d&&(d=-1);var e=Yb.__soundTransform.volume*
c.volume,f=new Jf(this.__buffer);f.offset=a|0;1<b&&f.set_loops(b-1);f.set_gain(e);a=f.get_position();a.x=d;a.z=-1*Math.sqrt(1-Math.pow(d,2));f.set_position(a);return new df(f,c)},AudioBuffer_onURLLoad:function(a){null==a?this.dispatchEvent(new af("ioError")):(this.__buffer=a,this.dispatchEvent(new ca("complete")))},__class__:ed});var df=function(a,b){ea.call(this,this);this.rightPeak=this.leftPeak=1;this.__soundTransform=null!=b?b:new rd;null!=a&&(this.__source=a,this.__source.onComplete.add(l(this,
this.source_onComplete)),this.__isValid=!0,this.__source.play());Yb.__registerSoundChannel(this)};h["openfl.media.SoundChannel"]=df;df.__name__=["openfl","media","SoundChannel"];df.__super__=ea;df.prototype=r(ea.prototype,{stop:function(){Yb.__unregisterSoundChannel(this);this.__isValid&&(this.__source.stop(),this.__dispose())},__dispose:function(){this.__isValid&&(this.__source.dispose(),this.__isValid=!1)},__updateTransform:function(){this.set_soundTransform(this.get_soundTransform())},get_position:function(){return this.__isValid?
this.__source.get_currentTime()+this.__source.offset:0},set_position:function(a){if(!this.__isValid)return 0;this.__source.set_currentTime((a|0)-this.__source.offset);return a},get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(a){if(null!=a){this.__soundTransform.pan=a.pan;this.__soundTransform.volume=a.volume;var b=Yb.__soundTransform.pan+this.__soundTransform.pan;-1>b&&(b=-1);1<b&&(b=1);var c=Yb.__soundTransform.volume*this.__soundTransform.volume;this.__isValid&&
(this.__source.set_gain(c),c=this.__source.get_position(),c.x=b,c.z=-1*Math.sqrt(1-Math.pow(b,2)),this.__source.set_position(c))}return a},source_onComplete:function(){Yb.__unregisterSoundChannel(this);this.__dispose();this.dispatchEvent(new ca("soundComplete"))},__class__:df,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var Yg=function(){};h["openfl.media.SoundLoaderContext"]=Yg;Yg.__name__=
["openfl","media","SoundLoaderContext"];var rd=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};h["openfl.media.SoundTransform"]=rd;rd.__name__=["openfl","media","SoundTransform"];rd.prototype={clone:function(){return new rd(this.volume,this.pan)},__class__:rd};var Yb=function(){};h["openfl.media.SoundMixer"]=Yb;Yb.__name__=["openfl","media","SoundMixer"];Yb.__registerSoundChannel=function(a){Yb.__soundChannels.push(a)};
Yb.__unregisterSoundChannel=function(a){M.remove(Yb.__soundChannels,a)};var Hg=function(){};h["openfl.net.URLRequest"]=Hg;Hg.__name__=["openfl","net","URLRequest"];Hg.prototype={__class__:Hg};var xc=function(){};h["openfl.system.Capabilities"]=xc;xc.__name__=["openfl","system","Capabilities"];xc.__properties__={get_version:"get_version"};xc.get_version=function(){var a;return a="WEB"+(" "+da.replace("4.3.1",".",",")+",0")};var Cd=function(){};h["openfl.system.System"]=Cd;Cd.__name__=["openfl","system",
"System"];Cd.__properties__={get_totalMemory:"get_totalMemory"};Cd.gc=function(){};Cd.get_totalMemory=function(){return window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:0};var W=function(){ab.call(this);this.__caretIndex=-1;this.__displayAsPassword=!1;this.__graphics=new vd(this);this.__textEngine=new Oa(this);this.__mouseWheelEnabled=this.__tabEnabled=this.__layoutDirty=!0;this.__text="";null==W.__defaultTextFormat&&(W.__defaultTextFormat=new sd("Times New Roman",
12,0,!1,!1,!1,"","",3,0,0,0,0),W.__defaultTextFormat.blockIndent=0,W.__defaultTextFormat.bullet=!1,W.__defaultTextFormat.letterSpacing=0,W.__defaultTextFormat.kerning=!1);this.__textFormat=W.__defaultTextFormat.clone();this.__textEngine.textFormatRanges.push(new ld(this.__textFormat,0,0));this.addEventListener("mouseDown",l(this,this.this_onMouseDown))};h["openfl.text.TextField"]=W;W.__name__=["openfl","text","TextField"];W.__super__=ab;W.prototype=r(ab.prototype,{getCharBoundaries:function(a){if(0>
a||a>this.__text.length-1)return null;this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.length;){var d=c[b];++b;if(a>=d.startIndex&&a<=d.endIndex){for(var b=d.offsetX,c=0,e=a-d.startIndex;c<e;)var f=c++,b=b+d.advances[f];return new I(b,d.offsetY,d.advances[a-d.startIndex],d.ascent+d.descent)}}return null},replaceSelectedText:function(a){if(""!=a||this.__selectionIndex!=this.__caretIndex){var b;b=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex;this.replaceText(b,
this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex,a);this.__selectionIndex=this.__caretIndex=b+a.length}},replaceText:function(a,b,c){if(!(b<a||0>a||b>this.__text.length||null==c)){this.__updateText(this.__text.substring(0,a)+c+this.__text.substring(b));c=c.length-(b-a);for(var d=0,e;d<this.__textEngine.textFormatRanges.length;)e=this.__textEngine.textFormatRanges[d],e.start<=a&&e.end>=b?(e.end+=c,d++):e.start>=a&&e.end<=b?(this.__textEngine.textFormatRanges.splice(d,
1),c-=e.end-e.start):(e.start>a&&e.start<=b&&(e.start+=c),d++);this.__layoutDirty=this.__dirty=!0}},__getAttributeMatch:function(a){return null!=a.matched(2)?a.matched(2):a.matched(3)},__getBounds:function(a,b){this.__updateLayout();var c=I.__temp;this.__textEngine.bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)},__getCursor:function(){return this.__textEngine.selectable?Q.TEXT:null},__getPosition:function(a,b){this.__updateLayout();a+=this.get_scrollH();for(var c=0,d=this.get_scrollV()-
1;c<d;){var e=c++;b+=this.__textEngine.lineHeights[e]}b>this.__textEngine.textHeight&&(b=this.__textEngine.textHeight);for(var d=!0,f,e=0,g=this.__textEngine.layoutGroups.length;e<g;)if(f=e++,c=this.__textEngine.layoutGroups[f],f=f<this.__textEngine.layoutGroups.length-1?this.__textEngine.layoutGroups[f+1]:null,d&&(b<c.offsetY&&(b=c.offsetY),a<c.offsetX&&(a=c.offsetX),d=!1),b>=c.offsetY&&b<=c.offsetY+c.height||null==f)if(a>=c.offsetX&&a<=c.offsetX+c.width||null==f||f.lineIndex!=c.lineIndex){e=d=0;
for(g=c.advances.length;e<g;)if(f=e++,d+=c.advances[f],a<=c.offsetX+d){if(a<=c.offsetX+(d-c.advances[f])+c.advances[f]/2)return c.startIndex+f;if(c.startIndex+f<c.endIndex)return c.startIndex+f+1;break}return c.endIndex}return this.__text.length},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();this.__updateLayout();c=this.__renderTransform.__transformInverseX(a,
b);a=this.__renderTransform.__transformInverseY(a,b);return this.__textEngine.bounds.contains(c,a)?(null!=d&&d.push(f),!0):!1},__hitTestMask:function(a,b){this.__getRenderTransform();this.__updateLayout();var c=this.__renderTransform.__transformInverseX(a,b),d=this.__renderTransform.__transformInverseY(a,b);return this.__textEngine.bounds.contains(c,d)?!0:!1},__renderCairo:function(a){xg.render(this,a,this.__worldTransform);ab.prototype.__renderCairo.call(this,a)},__renderCanvas:function(a){qa.render(this,
a,this.__worldTransform);if(0==this.__textEngine.antiAliasType&&1==this.__textEngine.gridFitType){var b=a.context.imageSmoothingEnabled;b&&(a.context.mozImageSmoothingEnabled=!1,a.context.msImageSmoothingEnabled=!1,a.context.imageSmoothingEnabled=!1);ab.prototype.__renderCanvas.call(this,a);b&&(a.context.mozImageSmoothingEnabled=!0,a.context.msImageSmoothingEnabled=!0,a.context.imageSmoothingEnabled=!0)}else ab.prototype.__renderCanvas.call(this,a)},__renderDOM:function(a){Cg.render(this,a)},__renderGL:function(a){qa.render(this,
a,this.__worldTransform);ab.prototype.__renderGL.call(this,a)},__startCursorTimer:function(){this.__cursorTimer=bc.delay(l(this,this.__startCursorTimer),600);this.__showCursor=!this.__showCursor;this.__dirty=!0},__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__text.length);null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(l(this,
this.window_onTextInput))||(this.stage.window.onTextInput.add(l(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(l(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null);this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0)},__stopTextInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(l(this,
this.window_onTextInput)),this.stage.window.onKeyDown.remove(l(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__updateLayout:function(){if(this.__layoutDirty){var a=this.__textEngine.width;this.__textEngine.update();if(2!=this.__textEngine.autoSize){if(this.__textEngine.width!=a)switch(this.__textEngine.autoSize){case 3:this.set_x(this.get_x()+(a-this.__textEngine.width));break;case 0:this.set_x(this.get_x()+(a-this.__textEngine.width)/2)}this.__textEngine.getBounds()}this.__layoutDirty=
!1}},__updateText:function(a){this.__text=a;if(this.__displayAsPassword){a=this.get_text().length;for(var b="",c=0;c<a;)c++,b+="*";this.__textEngine.text=b}else this.__textEngine.text=this.__text},set_antiAliasType:function(a){return this.__textEngine.antiAliasType=a},set_autoSize:function(a){a!=this.__textEngine.autoSize&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.autoSize=a},set_background:function(a){a!=this.__textEngine.background&&(this.__dirty=!0);return this.__textEngine.background=
a},set_backgroundColor:function(a){a!=this.__textEngine.backgroundColor&&(this.__dirty=!0);return this.__textEngine.backgroundColor=a},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(a){this.__textFormat.__merge(a);this.__dirty=this.__layoutDirty=!0;return a},set_embedFonts:function(a){return this.__textEngine.embedFonts=a},get_height:function(){this.__updateLayout();return this.__textEngine.height},set_height:function(a){if(1!=this.get_scaleY()||
a!=this.__textEngine.height)this.__transformDirty||(this.__transformDirty=!0,S.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0;this.set_scaleY(1);return this.__textEngine.height=a},get_htmlText:function(){return this.__text},set_htmlText:function(a){this.__isHTML&&this.__text==a||(this.__layoutDirty=this.__dirty=!0);this.__isHTML=!0;if(null==this.__div){a=W.__regexBreakTag.replace(a,"\n");a=W.__regexEntities[0].replace(a,'"');a=W.__regexEntities[1].replace(a,"'");a=W.__regexEntities[2].replace(a,
"&");var b=a.split("<");if(1==b.length)return a=W.__regexHTMLTag.replace(a,""),1<this.__textEngine.textFormatRanges.length&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1),a=W.__regexEntities[3].replace(a,"<"),a=W.__regexEntities[4].replace(a,">"),b=this.__textEngine.textFormatRanges[0],b.format=this.__textFormat,b.start=0,b.end=a.length,this.__updateText(a),a;this.__textEngine.textFormatRanges.splice(0,this.__textEngine.textFormatRanges.length);a="";for(var c,
d=0,e=b.length;d<e;){var f=d++;c=b[f];c=W.__regexEntities[3].replace(c,"<");c=W.__regexEntities[4].replace(c,">");b[f]=c}c=[this.__textFormat.clone()];e=!1;for(d=0;d<b.length;)if(f=b[d],++d,""!=f){var g="/"==M.substr(f,0,1),h=f.indexOf(">"),k=h+1,l=f.indexOf(" "),l=f.substring(g?1:0,-1<l&&l<h?l:h);if(g)c.pop(),g=c[c.length-1].clone(),"p"==l.toLowerCase()&&0<this.__textEngine.textFormatRanges.length&&(a+="\n",e=!0),k<f.length&&(e=M.substr(f,k,null),this.__textEngine.textFormatRanges.push(new ld(g,
a.length,a.length+e.length)),a+=e,e=!1);else if(g=c[c.length-1].clone(),-1<h){switch(l.toLowerCase()){case "p":0<this.__textEngine.textFormatRanges.length&&!e&&(a+="\n");W.__regexAlign.match(f)&&(g.align=Xf.fromString(this.__getAttributeMatch(W.__regexAlign).toLowerCase()));break;case "font":W.__regexFace.match(f)&&(g.font=this.__getAttributeMatch(W.__regexFace));W.__regexColor.match(f)&&(g.color=w.parseInt("0x"+this.__getAttributeMatch(W.__regexColor)));W.__regexSize.match(f)&&(g.size=w.parseInt(this.__getAttributeMatch(W.__regexSize)));
break;case "b":g.bold=!0;break;case "u":g.underline=!0;break;case "i":case "em":g.italic=!0;break;case "textformat":if(W.__regexBlockIndent.match(f)&&(g.blockIndent=w.parseInt(this.__getAttributeMatch(W.__regexBlockIndent))),W.__regexIndent.match(f)&&(g.indent=w.parseInt(this.__getAttributeMatch(W.__regexIndent))),W.__regexLeading.match(f)&&(g.leading=w.parseInt(this.__getAttributeMatch(W.__regexLeading))),W.__regexLeftMargin.match(f)&&(g.leftMargin=w.parseInt(this.__getAttributeMatch(W.__regexLeftMargin))),
W.__regexRightMargin.match(f)&&(g.rightMargin=w.parseInt(this.__getAttributeMatch(W.__regexRightMargin))),W.__regexTabStops.match(f)){for(var h=this.__getAttributeMatch(W.__regexTabStops).split(" "),l=[],m=0;m<h.length;){var p=h[m];++m;l.push(w.parseInt(p))}g.tabStops=l}}c.push(g);k<f.length&&(e=f.substring(k),this.__textEngine.textFormatRanges.push(new ld(g,a.length,a.length+e.length)),a+=e,e=!1)}else this.__textEngine.textFormatRanges.push(new ld(g,a.length,a.length+f.length)),a+=f,e=!1}}this.__updateText(a);
return a},set_multiline:function(a){a!=this.__textEngine.multiline&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.multiline=a},get_scrollH:function(){return this.__textEngine.scrollH},get_scrollV:function(){return this.__textEngine.scrollV},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(a){a!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():a||this.__stopTextInput());return this.__textEngine.selectable=
a},get_text:function(){return this.__text},set_text:function(a){if(this.__isHTML||this.__text!=a)this.__layoutDirty=this.__dirty=!0;else return a;1<this.__textEngine.textFormatRanges.length&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var b=this.__textEngine.textFormatRanges[0];b.format=this.__textFormat;b.start=0;b.end=a.length;this.__isHTML=!1;this.__updateText(a);return a},get_textWidth:function(){this.__updateLayout();return this.__textEngine.textWidth},
get_textHeight:function(){this.__updateLayout();return this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},get_width:function(){this.__updateLayout();return this.__textEngine.width},set_width:function(a){if(1!=this.get_scaleX()||this.__textEngine.width!=a)this.__transformDirty||(this.__transformDirty=!0,S.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0;this.set_scaleX(1);return this.__textEngine.width=a},set_wordWrap:function(a){a!=this.__textEngine.wordWrap&&
(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.wordWrap=a},stage_onMouseMove:function(a){null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex&&(this.__updateLayout(),a=this.__getPosition(this.get_mouseX(),this.get_mouseY()),a!=this.__caretIndex&&(this.__caretIndex=a,this.__dirty=!0))},stage_onMouseUp:function(a){if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",l(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",l(this,this.stage_onMouseUp)),
this.stage.get_focus()==this)){this.__getWorldTransform();this.__updateLayout();this.__worldTransform.__transformInverseX(this.get_x(),this.get_y());this.__worldTransform.__transformInverseY(this.get_x(),this.get_y());var b=this.__getPosition(this.get_mouseX(),this.get_mouseY());a=w["int"](Math.min(this.__selectionIndex,b));b=w["int"](Math.max(this.__selectionIndex,b));this.__selectionIndex=a;this.__caretIndex=b;this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},
this_onFocusIn:function(a){this.get_selectable()&&1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onMouseDown:function(a){this.get_selectable()&&(this.__updateLayout(),this.__selectionIndex=this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__dirty=!0,this.stage.addEventListener("mouseMove",l(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",l(this,this.stage_onMouseUp)))},window_onKeyDown:function(a,b){switch(a){case 8:this.__selectionIndex==
this.__caretIndex&&0<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex-1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new ca("change",!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__text.length&&(this.__selectionIndex=this.__caretIndex+1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new ca("change",
!0)));break;case 1073741904:ub.get_shiftKey(b)?0<this.__caretIndex&&this.__caretIndex--:(this.__selectionIndex==this.__caretIndex?0<this.__caretIndex&&this.__caretIndex--:this.__caretIndex=w["int"](Math.min(this.__caretIndex,this.__selectionIndex)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741903:ub.get_shiftKey(b)?this.__caretIndex<this.__text.length&&this.__caretIndex++:(this.__selectionIndex==this.__caretIndex?this.__caretIndex<this.__text.length&&
this.__caretIndex++:this.__caretIndex=w["int"](Math.max(this.__caretIndex,this.__selectionIndex)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 99:64!=b&&128!=b||cd.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex));break;case 120:if(64==b||128==b)cd.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new ca("change",
!0)));break;case 118:if(64==b||128==b){var c=cd.get_text();null!=c?this.replaceSelectedText(c):this.replaceSelectedText("");this.dispatchEvent(new ca("change",!0))}else this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.length-1].end=this.__text.length}},window_onTextInput:function(a){this.replaceSelectedText(a);this.dispatchEvent(new ca("change",!0))},__class__:W,__properties__:r(ab.prototype.__properties__,{set_wordWrap:"set_wordWrap",get_type:"get_type",get_textWidth:"get_textWidth",
get_textHeight:"get_textHeight",set_text:"set_text",get_text:"get_text",set_selectable:"set_selectable",get_selectable:"get_selectable",get_scrollV:"get_scrollV",get_scrollH:"get_scrollH",set_multiline:"set_multiline",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_embedFonts:"set_embedFonts",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",set_backgroundColor:"set_backgroundColor",set_background:"set_background",set_autoSize:"set_autoSize",set_antiAliasType:"set_antiAliasType"})});
var sd=function(a,b,c,d,e,f,g,h,k,l,m,p,q){this.font=a;this.size=b;this.color=c;this.bold=d;this.italic=e;this.underline=f;this.url=g;this.target=h;this.align=k;this.leftMargin=l;this.rightMargin=m;this.indent=p;this.leading=q};h["openfl.text.TextFormat"]=sd;sd.__name__=["openfl","text","TextFormat"];sd.prototype={clone:function(){var a=new sd(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);a.align=this.align;a.leftMargin=this.leftMargin;a.rightMargin=this.rightMargin;
a.indent=this.indent;a.leading=this.leading;a.blockIndent=this.blockIndent;a.bullet=this.bullet;a.kerning=this.kerning;a.letterSpacing=this.letterSpacing;a.tabStops=this.tabStops;return a},__merge:function(a){null!=a.font&&(this.font=a.font);null!=a.size&&(this.size=a.size);null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&(this.italic=a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=a.target);null!=
a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.rightMargin=a.rightMargin);null!=a.indent&&(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);null!=a.blockIndent&&(this.blockIndent=a.blockIndent);null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=a.letterSpacing&&(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops)},__class__:sd};var Xf={};h["openfl.text._TextFormatAlign.TextFormatAlign_Impl_"]=
Xf;Xf.__name__=["openfl","text","_TextFormatAlign","TextFormatAlign_Impl_"];Xf.fromString=function(a){switch(a){case "center":return 0;case "end":return 1;case "justify":return 2;case "left":return 3;case "right":return 4;case "start":return 5;default:return null}};var ra=function(){};h["openfl.ui.GameInput"]=ra;ra.__name__=["openfl","ui","GameInput"];ra.__getDevice=function(a){if(null==a)return null;if(null==ra.__devices.h.__keys__[a.__id__]){var b=new Yf(a.get_guid(),a.get_name());ra.__deviceList.push(b);
ra.__devices.set(a,b);ra.numDevices=ra.__deviceList.length}return ra.__devices.h[a.__id__]};ra.__onGamepadAxisMove=function(a,b,c){a=ra.__getDevice(a);if(null!=a&&a.enabled){if(!a.__axis.h.hasOwnProperty(b)){var d;switch(b){case 0:d="LEFT_X";break;case 1:d="LEFT_Y";break;case 2:d="RIGHT_X";break;case 3:d="RIGHT_Y";break;case 4:d="TRIGGER_LEFT";break;case 5:d="TRIGGER_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Ic(a,"AXIS_"+d,-1,1);a.__axis.h[b]=d;a.__controls.push(d)}b=a.__axis.h[b];b.value=c;
b.dispatchEvent(new ca("change"))}};ra.__onGamepadButtonDown=function(a,b){var c=ra.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d=
"DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Ic(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=1;c.dispatchEvent(new ca("change"))}};ra.__onGamepadButtonUp=function(a,b){var c=ra.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";
break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Ic(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=0;c.dispatchEvent(new ca("change"))}};ra.__onGamepadConnect=function(a){a=ra.__getDevice(a);if(null!=a)for(var b=0,c=ra.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new Td("deviceAdded",
null,null,a))}};ra.__onGamepadDisconnect=function(a){var b=ra.__devices.h[a.__id__];if(null!=b){null!=ra.__devices.h.__keys__[a.__id__]&&(M.remove(ra.__deviceList,ra.__devices.h[a.__id__]),ra.__devices.remove(a));ra.numDevices=ra.__deviceList.length;a=0;for(var c=ra.__instances;a<c.length;){var d=c[a];++a;d.dispatchEvent(new Td("deviceRemoved",null,null,b))}}};ra.__super__=ea;ra.prototype=r(ea.prototype,{__class__:ra});var Ic=function(a,b,c,d,e){null==e&&(e=0);ea.call(this);this.device=a;this.id=
b;this.minValue=c;this.maxValue=d;this.value=e};h["openfl.ui.GameInputControl"]=Ic;Ic.__name__=["openfl","ui","GameInputControl"];Ic.__super__=ea;Ic.prototype=r(ea.prototype,{__class__:Ic});var Yf=function(a,b){this.__controls=[];this.__button=new Ob;this.__axis=new Ob;this.id=a;this.name=b;for(var c,d=0;6>d;){var e=d++;c=new Ic(this,"AXIS_"+e,-1,1);this.__axis.h[e]=c;this.__controls.push(c)}for(d=0;15>d;)e=d++,c=new Ic(this,"BUTTON_"+e,0,1),this.__button.h[e]=c,this.__controls.push(c)};h["openfl.ui.GameInputDevice"]=
Yf;Yf.__name__=["openfl","ui","GameInputDevice"];Yf.prototype={__class__:Yf};var Fg=function(){};h["openfl.ui.Keyboard"]=Fg;Fg.__name__=["openfl","ui","Keyboard"];Fg.__getCharCode=function(a,b){null==b&&(b=!1);if(b){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;
case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=a&&57>=a)return a-48+48;if(65<=a&&90>=
a)return a-65+97}if(96<=a&&105>=a)return a-96+48;switch(a){case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46;case 46:return 127;case 13:return 13;case 8:return 8}return 0};var dc=function(){};h["openfl.ui.Mouse"]=dc;dc.__name__=["openfl","ui","Mouse"];dc.__properties__={set_cursor:"set_cursor"};dc.set_cursor=function(a){switch(a){case "arrow":Dc.set_cursor(Q.ARROW);break;case "button":Dc.set_cursor(Q.POINTER);break;case "hand":Dc.set_cursor(Q.MOVE);break;
case "ibeam":Dc.set_cursor(Q.TEXT)}return dc.__cursor=a};var Qc=function(){};h["openfl.ui.Multitouch"]=Qc;Qc.__name__=["openfl","ui","Multitouch"];var ef=function(a){this.__r=new ja;this.__cur=new Ve};h["openfl.utils.AGALMiniAssembler"]=ef;ef.__name__=["openfl","utils","AGALMiniAssembler"];ef.prototype={assemble:function(a,b){var c=new ef,d=null;switch(a){case 1:c.__assemble("part vertex 1 \n"+b+"endpart");d=c.__r.get("vertex").data;break;case 0:c.__assemble("part fragment 1 \n"+b+"endpart");d=c.__r.get("fragment").data;
break;default:throw new m("Unknown Context3DProgramType");}return this.agalcode=d},__addHeader:function(a,b){0==b&&(b=1);if(!this.__r.exists(a)){var c=new Ve(a,b);this.__r.set(a,c);this.__emitHeader(this.__r.get(a))}else if(this.__r.get(a).version!=(b|0))throw new m("Multiple versions for part "+a);this.__cur=this.__r.get(a)},__assemble:function(a,b,c){0==c&&(c=1);null!=b&&this.__addHeader(b,c);a=(new wa("[\n\r]+","g")).split(a);b=0;for(c=a.length;b<c;){var d=b++;this.__processLine(a[d],d)}return this.__r},
__emitDest:function(a,b,c){var d=this.__getGroupMatches(new wa("([fov]?[tpocidavs])(\\d*)(\\.[xyzw]{1,4})?","i"),b,3);if(null==Za.get_map().get(d[1]))return!1;null==w.parseInt(d[2])&&(d[2]="0");b=null!=d[2]?d[2]:"0";c=Za.get_map().get(d[1]).code;d=this.__stringToMask(d[3]);a.data.writeShort(w.parseInt(b));a.data.writeByte(d);a.data.writeByte(c);return!0},__emitHeader:function(a){a.data.writeByte(160);a.data.writeUnsignedInt(a.version);16<=a.version&&a.data.writeByte(0);a.data.writeByte(161);switch(a.name){case "fragment":a.data.writeByte(1);
break;case "vertex":a.data.writeByte(0);break;case "cpu":a.data.writeByte(2);break;default:a.data.writeByte(255)}},__emitOpcode:function(a,b){a.data.writeUnsignedInt(b)},__emitSampler:function(a,b,c,d){b=this.__getGroupMatches(new wa("fs(\\d*)","i"),b,1);if(1>b.length)return!1;a.data.writeShort(w.parseInt(b[1]));a.data.writeByte(0);a.data.writeByte(0);b=5;for(var e=c=0,f=d.length;e<f;){var g=e++,g=Ua.get_map().get(d[g].toLowerCase());null!=g&&(0!=(c>>g.shift&g.mask)&&Na.trace("Warning, duplicate sampler option",
{fileName:"AGALMiniAssembler.hx",lineNumber:209,className:"openfl.utils.AGALMiniAssembler",methodName:"__emitSampler"}),c|=g.mask<<g.shift,b&=~(g.mask<<g.shift),b|=g.value<<g.shift)}a.data.writeUnsignedInt(b);return!0},__emitSource:function(a,b,c){c=this.__getGroupMatches(new wa("vc\\[(v[tcai])(\\d+)\\.([xyzw])([\\+\\-]\\d+)?\\](\\.[xyzw]{1,4})?","i"),b,5);var d;if(0<c.length){if(null==Za.get_map().get(c[1]))return!1;b=w.parseInt(c[2])|0;d=Za.get_map().get(c[1]).code;var e=this.__stringToSwizzle(c[5]),
f=T.getProperty({x:0,y:1,z:2,w:3},c[3]);c=w.parseInt(c[4])|0;a.data.writeShort(b);a.data.writeByte(c);a.data.writeByte(e);a.data.writeByte(1);a.data.writeByte(d);a.data.writeByte(f);a.data.writeByte(128)}else{d=this.__getGroupMatches(new wa("([fov]?[tpocidavs])(\\d*)(\\.[xyzw]{1,4})?","i"),b,3);if(null==Za.get_map().get(d[1]))return!1;4>d.length&&d.push("");c=w.parseInt(d[2])|0;b=Za.get_map().get(d[1]).code;d=this.__stringToSwizzle(d[3]);a.data.writeShort(c);a.data.writeByte(0);a.data.writeByte(d);
a.data.writeByte(b);a.data.writeByte(0);a.data.writeByte(0);a.data.writeByte(0)}return!0},__emitZeroDword:function(a){a.data.writeUnsignedInt(0)},__emitZeroQword:function(a){a.data.writeUnsignedInt(0);a.data.writeUnsignedInt(0)},__getGroupMatches:function(a,b,c){null==c&&(c=0);var d=[];if(!a.match(b))return d;b=0;for(var e=null,f=!1;!f&&null!=(e=a.matched(b++));)d.push(e),0!=c&&Ja.gt(b,c)&&(f=!0);return d},__getMatches:function(a,b){for(var c=[];a.match(b);){var d=a.matched(1);c.push(d);b=a.matchedRight()}return c},
__processLine:function(a,b){var c=a.indexOf("//");-1!=c&&(a=a.substring(0,c));var d=new wa("^\\s+|\\s+$","g");a=d.replace(a,"");if(0<a.length)if(d=new wa("<.*>","g"),c=null,d.match(a)&&(d=d.matchedPos().pos,c=this.__getMatches(new wa("([\\w\\.\\-\\+]+)","gi"),a.substring(d)),a=a.substring(0,d)),d=this.__getMatches(new wa("([\\w\\.\\+\\[\\]]+)","gi"),a),0==d.length)3<=a.length&&Na.trace("Warning: bad line "+w.string(Ja.toFloat(b))+": "+a,{fileName:"AGALMiniAssembler.hx",lineNumber:385,className:"openfl.utils.AGALMiniAssembler",
methodName:"__processLine"});else switch(d[0]){case "part":this.__addHeader(d[1],w.parseInt(d[2]));break;case "endpart":if(null==this.__cur)throw new m("Unexpected endpart");this.__cur.data.position=0;this.__cur=null;break;default:if(null==this.__cur){Na.trace("Warning: bad line "+w.string(Ja.toFloat(b))+": "+a+" (Outside of any part definition)",{fileName:"AGALMiniAssembler.hx",lineNumber:416,className:"openfl.utils.AGALMiniAssembler",methodName:"__processLine"});break}if("comment"==this.__cur.name)break;
var e;e=ha.get_map().get(d[0]);if(null==e)throw new m("Bad opcode "+d[0]+" "+w.string(Ja.toFloat(b))+": "+a);this.__emitOpcode(this.__cur,e.opcode);var f=1;if(null!=e.dest&&"none"!=e.dest){if(!this.__emitDest(this.__cur,d[f++],e.dest))throw new m("Bad destination register "+d[f-1]+" "+w.string(Ja.toFloat(b))+": "+a);}else this.__emitZeroDword(this.__cur);if(null!=e.a&&"none"!=e.a.format){if(!this.__emitSource(this.__cur,d[f++],e.a))throw new m("Bad source register "+d[f-1]+" "+w.string(Ja.toFloat(b))+
": "+a);}else this.__emitZeroQword(this.__cur);if(null!=e.b&&"none"!=e.b.format)if("sampler"==e.b.format){if(!this.__emitSampler(this.__cur,d[f++],e.b,c))throw new m("Bad sampler register "+d[f-1]+" "+w.string(Ja.toFloat(b))+": "+a);}else{if(!this.__emitSource(this.__cur,d[f++],e.b))throw new m("Bad source register "+d[f-1]+" "+w.string(Ja.toFloat(b))+": "+a);}else this.__emitZeroQword(this.__cur)}},__stringToMask:function(a){if(null==a)return 15;var b=0;-1!=a.indexOf("x")&&(b|=1);-1!=a.indexOf("y")&&
(b|=2);-1!=a.indexOf("z")&&(b|=4);-1!=a.indexOf("w")&&(b|=8);return b},__stringToSwizzle:function(a){if(""==a)return 228;var b={x:0,y:1,z:2,w:3},c=0;if("."!=a.charAt(0))throw new m("Missing . for swizzle");1<a.length&&(c|=T.field(b,a.charAt(1)));c=2<a.length?c|T.field(b,a.charAt(2))<<2:c|(c&3)<<2;c=3<a.length?c|T.field(b,a.charAt(3))<<4:c|(c&12)<<2;return c=4<a.length?c|T.field(b,a.charAt(4))<<6:c|(c&48)<<2},__class__:ef};var Kd={};h["openfl.utils._ByteArray.ByteArray_Impl_"]=Kd;Kd.__name__=["openfl",
"utils","_ByteArray","ByteArray_Impl_"];Kd.__properties__={get_length:"get_length"};Kd.toBytes=function(a){return a};Kd.get_length=function(a){return a.length};var Zf=function(){};h["openfl.utils.IDataOutput"]=Zf;Zf.__name__=["openfl","utils","IDataOutput"];Zf.prototype={__class__:Zf};var $f=function(){};h["openfl.utils.IDataInput"]=$f;$f.__name__=["openfl","utils","IDataInput"];$f.prototype={__class__:$f};var jd=function(a){null==a&&(a=0);var b=sb.alloc(a);sb.call(this,b.b.buffer);this.__length=
a;this.position=this.__endian=0};h["openfl.utils.ByteArrayData"]=jd;jd.__name__=["openfl","utils","ByteArrayData"];jd.__interfaces__=[Zf,$f];jd.__super__=sb;jd.prototype=r(sb.prototype,{clear:function(){this.position=this.length=0},readByte:function(){var a=this.readUnsignedByte();return 0!=(a&128)?a-256:a},readInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedByte:function(){if(this.position<
this.length)return this.get(this.position++);throw new m(new Sd);},readUnsignedInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedShort:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte();return 1==this.__endian?(b<<8)+a:a<<8|b},readUTF:function(){var a=this.readUnsignedShort();return this.readUTFBytes(a)},readUTFBytes:function(a){if(this.position+
a>this.length)throw new m(new Sd);this.position+=a;return this.getString(this.position-a,a)},uncompress:function(a){null==a&&(a=2);if(this.__length>this.length){var b=this.length;this.length=this.__length;var c=sb.alloc(b);c.blit(0,this,0,b);this.b=c.b;this.__length=c.length;this.data=c.data;this.length=b}switch(a){case 0:a=sg.decompress(this);break;case 1:a=tg.decompress(this);break;default:a=ug.decompress(this)}null!=a&&(this.b=a.b,this.__length=a.length,this.data=a.data,this.position=this.length=
this.__length)},writeByte:function(a){this.__resize(this.position+1);this.set(this.position++,a&255)},writeInt:function(a){this.__resize(this.position+4);1==this.__endian?(this.set(this.position++,a),this.set(this.position++,a>>8),this.set(this.position++,a>>16),this.set(this.position++,a>>24)):(this.set(this.position++,a>>24),this.set(this.position++,a>>16),this.set(this.position++,a>>8),this.set(this.position++,a))},writeShort:function(a){this.__resize(this.position+2);1==this.__endian?(this.set(this.position++,
a),this.set(this.position++,a>>8)):(this.set(this.position++,a>>8),this.set(this.position++,a))},writeUnsignedInt:function(a){this.writeInt(a)},__resize:function(a){if(a>this.__length){var b=sb.alloc(3*(a+1)>>1),c=this.length;this.length=this.__length;b.blit(0,this,0,this.__length);this.length=c;this.b=b.b;this.__length=b.length;this.data=b.data}this.length<a&&(this.length=a)},__class__:jd});var Ig=function(){};h["haxe.lang.Iterator"]=Ig;Ig.__name__=["haxe","lang","Iterator"];Ig.prototype={__class__:Ig};
var Jg=function(){};h["haxe.lang.Iterable"]=Jg;Jg.__name__=["haxe","lang","Iterable"];Jg.prototype={__class__:Jg};var aa=function(){F.call(this);this.mBackButton=new Gb(za.get_assets().getTexture("button_back"),"Back");this.mBackButton.set_fontName("DejaVu Sans");this.mBackButton.set_x(va.CenterX-this.mBackButton.get_width()/2);this.mBackButton.set_y(va.GameHeight-this.mBackButton.get_height()+4);this.mBackButton.set_name("backButton");this.addChild(this.mBackButton)};h["scenes.Scene"]=aa;aa.__name__=
["scenes","Scene"];aa.__super__=ya;aa.prototype=r(ya.prototype,{__class__:aa});var me=function(){aa.call(this);this.mTransitions=["linear","easeInOut","easeOutBack","easeOutBounce","easeOutElastic"];var a=za.get_assets().getTexture("button_normal");this.mStartButton=new Gb(a,"Start animation");this.mStartButton.set_fontName("DejaVu Sans");this.mStartButton.addEventListener("triggered",l(this,this.onStartButtonTriggered));this.mStartButton.set_x(va.CenterX-w["int"](this.mStartButton.get_width()/2));
this.mStartButton.set_y(20);this.addChild(this.mStartButton);this.mDelayButton=new Gb(a,"Delayed call");this.mDelayButton.set_fontName("DejaVu Sans");this.mDelayButton.addEventListener("triggered",l(this,this.onDelayButtonTriggered));this.mDelayButton.set_x(this.mStartButton.get_x());this.mDelayButton.set_y(this.mStartButton.get_y()+40);this.addChild(this.mDelayButton);this.mEgg=new Ba(za.get_assets().getTexture("starling_front"));this.addChild(this.mEgg);this.resetEgg();this.mTransitionLabel=new L(320,
30,"","DejaVu Sans",20,0,!0);this.mTransitionLabel.set_y(this.mDelayButton.get_y()+40);this.mTransitionLabel.set_alpha(0);this.addChild(this.mTransitionLabel)};h["scenes.AnimationScene"]=me;me.__name__=["scenes","AnimationScene"];me.__super__=aa;me.prototype=r(aa.prototype,{resetEgg:function(){this.mEgg.set_x(20);this.mEgg.set_y(100);this.mEgg.set_scaleX(this.mEgg.set_scaleY(1));this.mEgg.set_rotation(0)},onStartButtonTriggered:function(){var a=this;this.mStartButton.set_enabled(!1);this.resetEgg();
var b=this.mTransitions.shift();this.mTransitions.push(b);var c=new fb(this.mEgg,2,b);c.animate("rotation",cb.deg2rad(90));c.moveTo(300,360);c.scaleTo(.5);c.set_onComplete(function(){a.mStartButton.set_enabled(!0)});A.get_current().get_juggler().add(c);this.mTransitionLabel.set_text(b);this.mTransitionLabel.set_alpha(1);b=new fb(this.mTransitionLabel,2,"easeIn");b.animate("alpha",0);A.get_current().get_juggler().add(b)},onDelayButtonTriggered:function(){var a=this;this.mDelayButton.set_enabled(!1);
A.get_current().get_juggler().delayCall(l(this,this.colorizeEgg),1,[!0]);A.get_current().get_juggler().delayCall(l(this,this.colorizeEgg),2,[!1]);A.get_current().get_juggler().delayCall(function(b){a.mDelayButton.set_enabled(!0)},2)},colorizeEgg:function(a){this.mEgg.set_color(a?15368736:16777215)},dispose:function(){this.mStartButton.removeEventListener("triggered",l(this,this.onStartButtonTriggered));this.mDelayButton.removeEventListener("triggered",l(this,this.onDelayButtonTriggered));aa.prototype.dispose.call(this)},
__class__:me});var Xc=function(){aa.call(this);this.mContainer=new ya;this.mContainer.set_x(va.CenterX);this.mContainer.set_y(va.CenterY);this.mContainer.set_touchable(!1);this.addChildAt(this.mContainer,0);this.mStatusText=new L(va.GameWidth-40,30,"","DejaVu Sans",24);this.mStatusText.set_x(20);this.mStatusText.set_y(10);this.addChild(this.mStatusText);this.mStartButton=new Gb(za.get_assets().getTexture("button_normal"),"Start benchmark");this.mStartButton.set_fontName("DejaVu Sans");this.mStartButton.addEventListener("triggered",
l(this,this.onStartButtonTriggered));this.mStartButton.set_x(va.CenterX-w["int"](this.mStartButton.get_width()/2));this.mStartButton.set_y(20);this.addChild(this.mStartButton);this.mStarted=!1;this.mFrameTimes=[];this.mObjectPool=[];this.mObjectTexture=za.get_assets().getTexture("benchmark_object");this.addEventListener("enterFrame",l(this,this.onEnterFrame))};h["scenes.BenchmarkScene"]=Xc;Xc.__name__=["scenes","BenchmarkScene"];Xc.__super__=aa;Xc.prototype=r(aa.prototype,{dispose:function(){this.removeEventListener("enterFrame",
l(this,this.onEnterFrame));this.mStartButton.removeEventListener("triggered",l(this,this.onStartButtonTriggered));for(var a=0,b=this.mObjectPool;a<b.length;){var c=b[a];++a;c.dispose()}aa.prototype.dispose.call(this)},onStartButtonTriggered:function(){Na.trace("Starting benchmark",{fileName:"BenchmarkScene.hx",lineNumber:81,className:"scenes.BenchmarkScene",methodName:"onStartButtonTriggered"});this.mStartButton.set_visible(!1);this.mStarted=!0;this.mTargetFps=w["int"](A.get_current().get_nativeStage().get_frameRate());
for(var a=this.mPhase=this.mFailCount=this.mFrameCount=0;10>a;){var b=a++;this.mFrameTimes[b]=1/this.mTargetFps}null!=this.mResultText&&(this.mResultText.removeFromParent(!0),this.mResultText=null)},onEnterFrame:function(a,b){if(this.mStarted){this.mFrameCount++;var c=this.mContainer;c.set_rotation(c.get_rotation()+.5*a.get_passedTime());for(c=this.mFrameTimes[10]=0;10>c;){var d=c++;this.mFrameTimes[d]+=b}c=10/this.mFrameTimes.shift();0==this.mPhase&&(c<.985*this.mTargetFps?(this.mFailCount++,100==
this.mFailCount&&(this.mPhase=1)):(this.addTestObjects(16),d=this.mContainer,d.set_scale(.99*d.get_scale()),this.mFailCount=0));1==this.mPhase&&(c>.99*this.mTargetFps?(this.mFailCount--,0==this.mFailCount&&this.benchmarkComplete()):(this.removeTestObjects(1),c=this.mContainer,c.set_scale(c.get_scale()/.9993720513)));0==this.mFrameCount%(this.mTargetFps/4|0)&&this.mStatusText.set_text(this.mContainer.get_numChildren()+" objects")}},addTestObjects:function(a){for(var b=1/this.mContainer.get_scale(),
c=0;c<a;){c++;var d=this.getObjectFromPool(),e=(100+100*Math.random())*b,f=Math.random()*Math.PI*2;d.set_x(Math.cos(f)*e);d.set_y(Math.sin(f)*e);d.set_rotation(f+Math.PI/2);d.set_scale(b);this.mContainer.addChild(d)}},removeTestObjects:function(a){var b=this.mContainer.get_numChildren();a>=b&&(a=b);for(b=0;b<a;)b++,this.putObjectToPool(this.mContainer.removeChildAt(this.mContainer.get_numChildren()-1))},getObjectFromPool:function(){if(0==this.mObjectPool.length){var a=new Ba(this.mObjectTexture);
a.alignPivot();return a}return this.mObjectPool.pop()},putObjectToPool:function(a){this.mObjectPool[this.mObjectPool.length]=a},benchmarkComplete:function(){this.mStarted=!1;this.mStartButton.set_visible(!0);var a=w["int"](A.get_current().get_nativeStage().get_frameRate()),b=this.mContainer.get_numChildren(),a=ag.formatString("Result:\n{0} objects\nwith {1} fps",[b,a]);Na.trace((new wa("\n","g")).replace(a," "),{fileName:"BenchmarkScene.hx",lineNumber:207,className:"scenes.BenchmarkScene",methodName:"benchmarkComplete"});
this.mResultText=new L(240,200,a,"DejaVu Sans");this.mResultText.set_fontSize(30);this.mResultText.set_x(va.CenterX-this.mResultText.get_width()/2);this.mResultText.set_y(va.CenterY-this.mResultText.get_height()/2);this.addChild(this.mResultText);this.mContainer.set_scale(1);bg.clear(this.mFrameTimes);this.mStatusText.set_text("");for(--b;0<=b;)this.putObjectToPool(this.mContainer.removeChildAt(b)),--b},__class__:Xc});var qe=function(){this.mBlendModes="normal multiply screen add erase none".split(" ");
aa.call(this);this.mButton=new Gb(za.get_assets().getTexture("button_normal"),"Switch Mode");this.mButton.set_fontName("DejaVu Sans");this.mButton.set_x(w["int"](va.CenterX-this.mButton.get_width()/2));this.mButton.set_y(15);this.mButton.addEventListener("triggered",l(this,this.onButtonTriggered));this.addChild(this.mButton);this.mImage=new Ba(za.get_assets().getTexture("starling_rocket"));this.mImage.set_x(w["int"](va.CenterX-this.mImage.get_width()/2));this.mImage.set_y(170);this.addChild(this.mImage);
this.mInfoText=new L(300,32,"","DejaVu Sans",19);this.mInfoText.set_x(10);this.mInfoText.set_y(330);this.addChild(this.mInfoText);this.onButtonTriggered()};h["scenes.BlendModeScene"]=qe;qe.__name__=["scenes","BlendModeScene"];qe.__super__=aa;qe.prototype=r(aa.prototype,{onButtonTriggered:function(){var a=this.mBlendModes.shift();this.mBlendModes.push(a);this.mInfoText.set_text(a);this.mImage.set_blendMode(a)},__class__:qe});var ne=function(){aa.call(this);var a=new L(300,100,"Pushing the bird only works when the touch occurs within a circle.This can be accomplished by overriding the method 'hitTest'.",
"DejaVu Sans");a.set_x(a.set_y(10));a.set_vAlign("top");a.set_hAlign("center");this.addChild(a);a=new ff(za.get_assets().getTexture("starling_round"));a.set_x(va.CenterX-w["int"](a.get_width()/2));a.set_y(150);this.addChild(a)};h["scenes.CustomHitTestScene"]=ne;ne.__name__=["scenes","CustomHitTestScene"];ne.__super__=aa;ne.prototype=r(aa.prototype,{__class__:ne});var pe=function(){aa.call(this);this.mButton=new Gb(za.get_assets().getTexture("button_normal"),"Switch Filter");this.mButton.set_fontName("DejaVu Sans");
this.mButton.set_x(w["int"](va.CenterX-this.mButton.get_width()/2));this.mButton.set_y(15);this.mButton.addEventListener("triggered",l(this,this.onButtonTriggered));this.addChild(this.mButton);this.mImage=new Ba(za.get_assets().getTexture("starling_rocket"));this.mImage.set_x(w["int"](va.CenterX-this.mImage.get_width()/2));this.mImage.set_y(170);this.addChild(this.mImage);this.mInfoText=new L(300,32,"","DejaVu Sans",19);this.mInfoText.set_x(10);this.mInfoText.set_y(330);this.addChild(this.mInfoText);
this.initFilters();this.onButtonTriggered()};h["scenes.FilterScene"]=pe;pe.__name__=["scenes","FilterScene"];pe.__super__=aa;pe.prototype=r(aa.prototype,{onButtonTriggered:function(){var a=this.mFilterInfos.shift();this.mFilterInfos.push(a);this.mInfoText.set_text(a[0]);this.mImage.set_filter(a[1])},initFilters:function(){this.mFilterInfos=[["Identity",new mb],["Blur",new sc],["Drop Shadow",sc.createDropShadow()],["Glow",sc.createGlow()]];var a=new $a(this.createDisplacementMap(this.mImage.get_width(),
this.mImage.get_height()),null,1,2,25,25);this.mFilterInfos.push(["Displacement Map",a]);a=new mb;a.invert();this.mFilterInfos.push(["Invert",a]);a=new mb;a.adjustSaturation(-1);this.mFilterInfos.push(["Grayscale",a]);a=new mb;a.adjustSaturation(1);this.mFilterInfos.push(["Saturation",a]);a=new mb;a.adjustContrast(.75);this.mFilterInfos.push(["Contrast",a]);a=new mb;a.adjustBrightness(-.25);this.mFilterInfos.push(["Brightness",a]);a=new mb;a.adjustHue(1);this.mFilterInfos.push(["Hue",a])},createDisplacementMap:function(a,
b){var c=A.get_current().get_contentScaleFactor(),d=new vb(a*c|0,b*c|0,!1);d.perlinNoise(20*c,20*c,3,5,!1,!0);return Ia.fromBitmapData(d,!1,!1,c)},__class__:pe});var se=function(){aa.call(this);this.mContents=new ya;this.addChild(this.mContents);var a=A.get_current().get_stage().get_stageWidth(),b=A.get_current().get_stage().get_stageHeight(),b=new Ea(a,b);b.set_alpha(0);this.addChildAt(b,0);b=new Ba(za.get_assets().getTexture("flight_00"));b.set_x((a-b.get_width())/2);b.set_y(80);this.mContents.addChild(b);
var c=new mb;c.adjustHue(-.5);b.set_filter(c);b=new L(256,128,"Move the mouse (or a finger) over the screen to move the mask.");b.set_x((a-b.get_width())/2);b.set_y(260);b.set_fontSize(20);this.mContents.addChild(b);this.mMaskDisplay=this.createCircle();this.mMaskDisplay.set_alpha(.1);this.mMaskDisplay.set_touchable(!1);this.addChild(this.mMaskDisplay);this.mMask2=this.createCircle();this.mContents.set_mask(this.mMask2);this.addEventListener("touch",l(this,this.onTouch))};h["scenes.MaskScene"]=se;
se.__name__=["scenes","MaskScene"];se.__super__=aa;se.prototype=r(aa.prototype,{onTouch:function(a){var b=a.getTouch(this,"hover");null==b&&(b=a.getTouch(this,"began"));null==b&&(b=a.getTouch(this,"moved"));null!=b&&(a=b.getLocation(this),this.mMask2.set_x(this.mMaskDisplay.set_x(a.x)),this.mMask2.set_y(this.mMaskDisplay.set_y(a.y)))},createCircle:function(){var a=new Mb;a.beginFill(15368736);a.drawCircle(0,0,100);a.endFill();return a},__class__:se});var oe=function(){aa.call(this);var a=za.get_assets().getTextures("flight");
this.mMovie=new Ud(a,15);a=za.get_assets().getSound("wing_flap");this.mMovie.setFrameSound(2,a);this.mMovie.set_x(va.CenterX-w["int"](this.mMovie.get_width()/2));this.mMovie.set_y(va.CenterY-w["int"](this.mMovie.get_height()/2));this.addChild(this.mMovie);this.addEventListener("addedToStage",l(this,this.onAddedToStage));this.addEventListener("removedFromStage",l(this,this.onRemovedFromStage))};h["scenes.MovieScene"]=oe;oe.__name__=["scenes","MovieScene"];oe.__super__=aa;oe.prototype=r(aa.prototype,
{onAddedToStage:function(){A.get_current().get_juggler().add(this.mMovie)},onRemovedFromStage:function(){A.get_current().get_juggler().remove(this.mMovie)},dispose:function(){this.removeEventListener("removedFromStage",l(this,this.onRemovedFromStage));this.removeEventListener("addedToStage",l(this,this.onAddedToStage));aa.prototype.dispose.call(this)},__class__:oe});var re=function(){aa.call(this);this.mColors=new Ob;this.mRenderTexture=new jc(320,435);this.mCanvas=new Ba(this.mRenderTexture);this.mCanvas.addEventListener("touch",
l(this,this.onTouch));this.addChild(this.mCanvas);this.mBrush=new Ba(za.get_assets().getTexture("brush"));this.mBrush.set_pivotX(this.mBrush.get_width()/2);this.mBrush.set_pivotY(this.mBrush.get_height()/2);this.mBrush.set_blendMode("normal");var a=new L(256,128,"Touch the screen\nto draw!");a.set_fontSize(24);a.set_x(va.CenterX-a.get_width()/2);a.set_y(va.CenterY-a.get_height()/2);this.mRenderTexture.draw(a);this.mButton=new Gb(za.get_assets().getTexture("button_normal"),"Mode: Draw");this.mButton.set_fontName("DejaVu Sans");
this.mButton.set_x(w["int"](va.CenterX-this.mButton.get_width()/2));this.mButton.set_y(15);this.mButton.addEventListener("triggered",l(this,this.onButtonTriggered));this.addChild(this.mButton)};h["scenes.RenderTextureScene"]=re;re.__name__=["scenes","RenderTextureScene"];re.__super__=aa;re.prototype=r(aa.prototype,{onTouch:function(a){var b=this;this.mRenderTexture.drawBundled(function(c,d,e){c=a.getTouches(b.mCanvas);for(d=0;d<c.get_length();){var f=c.get(d);++d;if("began"==f.get_phase()){e=f.get_id();
var g=w["int"](function(a){a=Math.random();return Ja.toFloat(-1)*a}(this));b.mColors.h[e]=g;g}"hover"!=f.get_phase()&&"ended"!=f.get_phase()&&(e=f.getLocation(b.mCanvas),b.mBrush.set_x(e.x),b.mBrush.set_y(e.y),b.mBrush.set_color(function(a){a=f.get_id();return b.mColors.h[a]}(this)),b.mBrush.set_rotation(Math.random()*Math.PI*2),b.mRenderTexture.draw(b.mBrush))}})},onButtonTriggered:function(){"normal"==this.mBrush.get_blendMode()?(this.mBrush.set_blendMode("erase"),this.mButton.set_text("Mode: Erase")):
(this.mBrush.set_blendMode("normal"),this.mButton.set_text("Mode: Draw"))},dispose:function(){this.mRenderTexture.dispose();aa.prototype.dispose.call(this)},__class__:re});var te=function(){aa.call(this);var a=za.get_assets().getTexture("gamua-logo");this.mCube=this.createCube(a);this.mCube.set_x(va.CenterX);this.mCube.set_y(va.CenterY);this.mCube.set_z(100);this.addChild(this.mCube);this.addEventListener("addedToStage",l(this,this.start));this.addEventListener("removedFromStage",l(this,this.stop))};
h["scenes.Sprite3DScene"]=te;te.__name__=["scenes","Sprite3DScene"];te.__super__=aa;te.prototype=r(aa.prototype,{start:function(){A.get_current().get_juggler().tween(this.mCube,6,{rotationX:2*Math.PI,repeatCount:0});A.get_current().get_juggler().tween(this.mCube,7,{rotationY:2*Math.PI,repeatCount:0});A.get_current().get_juggler().tween(this.mCube,8,{rotationZ:2*Math.PI,repeatCount:0})},stop:function(){A.get_current().get_juggler().removeTweens(this.mCube)},createCube:function(a){var b=a.get_width()/
2,c=this.createSidewall(a,16711680);c.set_z(-b);var d=this.createSidewall(a,65280);d.set_rotationX(Math.PI);d.set_z(b);var e=this.createSidewall(a,255);e.set_y(-b);e.set_rotationX(Math.PI/-2);var f=this.createSidewall(a,16776960);f.set_y(b);f.set_rotationX(Math.PI/2);var g=this.createSidewall(a,16711935);g.set_x(-b);g.set_rotationY(Math.PI/2);a=this.createSidewall(a,65535);a.set_x(b);a.set_rotationY(Math.PI/-2);b=new Ab;b.addChild(c);b.addChild(d);b.addChild(e);b.addChild(f);b.addChild(g);b.addChild(a);
return b},createSidewall:function(a,b){null==b&&(b=16777215);var c=new Ba(a);c.set_color(b);c.alignPivot();var d=new Ab;d.addChild(c);return d},render:function(a,b){A.get_current().get_context().setCulling(0);aa.prototype.render.call(this,a,b);A.get_current().get_context().setCulling(3)},__class__:te});var le=function(){aa.call(this);this.init()};h["scenes.TextScene"]=le;le.__name__=["scenes","TextScene"];le.__super__=aa;le.prototype=r(aa.prototype,{init:function(){var a=new L(300,80,"TextFields can have a border and a color. They can be aligned in different ways, ...",
"Ubuntu",19);a.set_x(a.set_y(10));a.set_border(!0);a.set_color(3355545);this.addChild(a);var b=new L(145,80,"... e.g.\ntop-left ...","Ubuntu",19);b.set_x(10);b.set_y(a.get_y()+a.get_height()+10);b.set_hAlign("left");b.set_vAlign("top");b.set_border(!0);b.set_color(10053171);this.addChild(b);a=new L(145,80,"... or\nbottom right ...","Ubuntu",19);a.set_x(20+b.get_width());a.set_y(b.get_y());a.set_hAlign("right");a.set_vAlign("bottom");a.set_color(2129952);a.set_border(!0);this.addChild(a);a=new L(300,
80,"... or centered. Embedded fonts are detected automatically and <font color='#208080'>support</font> <font color='#996633'>basic</font> <font color='#333399'>HTML</font> <font color='#208020'>formatting</font>.","Ubuntu",19,0,!0);a.set_x(10);a.set_y(b.get_y()+b.get_height()+10);a.set_border(!0);a.set_isHtmlText(!0);this.addChild(a);b=new L(300,150,"It is very easy to use Bitmap fonts,\nas well!","Desyrel");b.set_fontSize(-1);b.set_color(16777215);b.set_x(10);b.set_y(a.get_y()+a.get_height()+10);
this.addChild(b)},__class__:le});var je=function(){aa.call(this);var a=new Ba(za.get_assets().getTexture("flight_00"));a.set_x(-20);a.set_y(0);this.addChild(a);a=new Ba(za.get_assets().getTexture("flight_04"));a.set_x(90);a.set_y(85);this.addChild(a);a=new Ba(za.get_assets().getTexture("flight_08"));a.set_x(100);a.set_y(-60);this.addChild(a);try{var b=za.get_assets().getTexture("compressed_texture"),c=new Ba(b);c.set_x(va.CenterX-c.get_width()/2);c.set_y(280);this.addChild(c)}catch(d){if(d instanceof
m&&(d=d.val),u.__instanceof(d,ga))b=new L(220,128,"Update to Flash Player 11.4 or AIR 3.4 (swf-version=17) to see a compressed ATF texture instead of this boring text.","DejaVu Sans",14),b.set_x(va.CenterX-b.get_width()/2),b.set_y(280),this.addChild(b);else throw d;}};h["scenes.TextureScene"]=je;je.__name__=["scenes","TextureScene"];je.__super__=aa;je.prototype=r(aa.prototype,{__class__:je});var ke=function(){aa.call(this);var a=new L(300,25,"[use Ctrl/Cmd & Shift to simulate multi-touch]","DejaVu Sans");
a.set_x(a.set_y(10));this.addChild(a);a=new gf(new Ba(za.get_assets().getTexture("starling_sheet")));a.set_x(va.CenterX);a.set_y(va.CenterY);a.set_rotation(cb.deg2rad(10));this.addChild(a)};h["scenes.TouchScene"]=ke;ke.__name__=["scenes","TouchScene"];ke.__super__=aa;ke.prototype=r(aa.prototype,{__class__:ke});var Rc=function(){};h["starling.animation.IAnimatable"]=Rc;Rc.__name__=["starling","animation","IAnimatable"];Rc.prototype={__class__:Rc};var Sb=function(a,b,c){this.reset(a,b,c)};h["starling.animation.DelayedCall"]=
Sb;Sb.__name__=["starling","animation","DelayedCall"];Sb.__interfaces__=[Rc];Sb.fromPool=function(a,b,c){return 0!=Sb.sPool.get_length()?Sb.sPool.pop().reset(a,b,c):new Sb(a,b,c)};Sb.toPool=function(a){a.mCall=null;a.mArgs=null;a.removeEventListeners();Sb.sPool.push(a)};Sb.__super__=bb;Sb.prototype=r(bb.prototype,{reset:function(a,b,c){this.mCurrentTime=0;this.mTotalTime=Math.max(b,1E-4);this.mCall=a;this.mArgs=c;this.mRepeatCount=1;return this},advanceTime:function(a){var b=this.mCurrentTime;this.mCurrentTime+=
a;this.mCurrentTime>this.mTotalTime&&(this.mCurrentTime=this.mTotalTime);b<this.mTotalTime&&this.mCurrentTime>=this.mTotalTime&&(0==this.mRepeatCount||1<this.mRepeatCount?(this.mCall.apply(this.mCall,this.mArgs),0<this.mRepeatCount&&--this.mRepeatCount,this.mCurrentTime=0,this.advanceTime(b+a-this.mTotalTime)):(a=this.mCall,b=this.mArgs,this.dispatchEventWith("removeFromJuggler"),a.apply(a,b)))},__class__:Sb});var hf=function(){this.mElapsedTime=0;this.mObjects=E.toObjectVector(null)};h["starling.animation.Juggler"]=
hf;hf.__name__=["starling","animation","Juggler"];hf.__interfaces__=[Rc];hf.prototype={add:function(a){if(null!=a&&-1==this.mObjects.indexOf(a,0)){var b=this.mObjects.get_length();this.mObjects.set(b,a);a=u.__instanceof(a,bb)?a:null;null!=a&&a.addEventListener("removeFromJuggler",l(this,this.onRemove))}},remove:function(a){if(null!=a){var b;b=u.__instanceof(a,bb)?a:null;null!=b&&b.removeEventListener("removeFromJuggler",l(this,this.onRemove));a=this.mObjects.indexOf(a,0);-1!=a&&this.mObjects.set(a,
null)}},removeTweens:function(a){if(null!=a)for(var b=this.mObjects.get_length()-1;0<=b;){var c;c=w.is(this.mObjects.get(b),fb)?this.mObjects.get(b):null;null!=c&&c.get_target()==a&&(c.removeEventListener("removeFromJuggler",l(this,this.onRemove)),this.mObjects.set(b,null));--b}},delayCall:function(a,b,c){if(null==a)return null;null==c&&(c=[]);a=Sb.fromPool(a,b,c);a.addEventListener("removeFromJuggler",l(this,this.onPooledDelayedCallComplete));this.add(a);return a},onPooledDelayedCallComplete:function(a){Sb.toPool(u.__cast(a.target,
Sb))},tween:function(a,b,c){if(null==a)throw new m(new la("target must not be null"));b=fb.fromPool(a,b);for(var d=0,e=T.fields(c);d<e.length;){var f=e[d];++d;var g=T.field(c,f);if(null!=T.getProperty(b,f))T.setProperty(b,f,g);else if(null!=T.getProperty(a,f))b.animate(f,g);else throw new m(new la("Invalid property: "+f));}b.addEventListener("removeFromJuggler",l(this,this.onPooledTweenComplete));this.add(b);return b},onPooledTweenComplete:function(a){fb.toPool(u.__cast(a.target,fb))},advanceTime:function(a){var b=
this.mObjects.get_length(),c=0,d=0;this.mElapsedTime+=a;if(0!=b){for(;d<b;){var e=this.mObjects.get(d);null!=e&&(c!=d&&(this.mObjects.set(c,e),this.mObjects.set(d,null)),e.advanceTime(a),++c);++d}if(c!=d){for(b=this.mObjects.get_length();d<b;)a=c++,e=d++,e=this.mObjects.get(e),this.mObjects.set(a,e);this.mObjects.set_length(c)}}},onRemove:function(a){this.remove(u.__cast(a.target,Rc));a=u.__instanceof(a.target,fb)?a.target:null;null!=a&&a.get_isComplete()&&this.add(a.get_nextTween())},__class__:hf};
var C=function(){};h["starling.animation.Transitions"]=C;C.__name__=["starling","animation","Transitions"];C.getTransition=function(a){null==C.sTransitions&&C.registerDefaults();return C.sTransitions.get(a)};C.register=function(a,b){null==C.sTransitions&&C.registerDefaults();C.sTransitions.set(a,b);b};C.registerDefaults=function(){C.sTransitions=new ja;C.register("linear",C.linear);C.register("easeIn",C.easeIn);C.register("easeOut",C.easeOut);C.register("easeInOut",C.easeInOut);C.register("easeOutIn",
C.easeOutIn);C.register("easeInBack",C.easeInBack);C.register("easeOutBack",C.easeOutBack);C.register("easeInOutBack",C.easeInOutBack);C.register("easeOutInBack",C.easeOutInBack);C.register("easeInElastic",C.easeInElastic);C.register("easeOutElastic",C.easeOutElastic);C.register("easeInOutElastic",C.easeInOutElastic);C.register("easeOutInElastic",C.easeOutInElastic);C.register("easeInBounce",C.easeInBounce);C.register("easeOutBounce",C.easeOutBounce);C.register("easeInOutBounce",C.easeInOutBounce);
C.register("easeOutInBounce",C.easeOutInBounce)};C.linear=function(a){return a};C.easeIn=function(a){return a*a*a};C.easeOut=function(a){--a;return a*a*a+1};C.easeInOut=function(a){return C.easeCombined(C.easeIn,C.easeOut,a)};C.easeOutIn=function(a){return C.easeCombined(C.easeOut,C.easeIn,a)};C.easeInBack=function(a){return Math.pow(a,2)*(2.70158*a-1.70158)};C.easeOutBack=function(a){--a;return Math.pow(a,2)*(2.70158*a+1.70158)+1};C.easeInOutBack=function(a){return C.easeCombined(C.easeInBack,C.easeOutBack,
a)};C.easeOutInBack=function(a){return C.easeCombined(C.easeOutBack,C.easeInBack,a)};C.easeInElastic=function(a){if(0==a||1==a)return a;--a;return-1*Math.pow(2,10*a)*Math.sin(2*(a-.075)*Math.PI/.3)};C.easeOutElastic=function(a){return 0==a||1==a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1};C.easeInOutElastic=function(a){return C.easeCombined(C.easeInElastic,C.easeOutElastic,a)};C.easeOutInElastic=function(a){return C.easeCombined(C.easeOutElastic,C.easeInElastic,a)};C.easeInBounce=function(a){return 1-
C.easeOutBounce(1-a)};C.easeOutBounce=function(a){a<1/2.75?a=7.5625*Math.pow(a,2):a<2/2.75?a=7.5625*Math.pow(a-1.5/2.75,2)+.75:a<2.5/2.75?(a-=2.25/2.75,a=7.5625*Math.pow(a,2)+.9375):(a-=2.625/2.75,a=7.5625*Math.pow(a,2)+.984375);return a};C.easeInOutBounce=function(a){return C.easeCombined(C.easeInBounce,C.easeOutBounce,a)};C.easeOutInBounce=function(a){return C.easeCombined(C.easeOutBounce,C.easeInBounce,a)};C.easeCombined=function(a,b,c){return.5>c?.5*a(2*c):.5*b(2*(c-.5))+.5};var fb=function(a,
b,c){null==c&&(c="linear");this.reset(a,b,c)};h["starling.animation.Tween"]=fb;fb.__name__=["starling","animation","Tween"];fb.__interfaces__=[Rc];fb.getPropertyHint=function(a){if(-1!=a.indexOf("color")||-1!=a.indexOf("Color"))return"rgb";var b=a.indexOf("#");return-1!=b?M.substr(a,b+1,null):null};fb.getPropertyName=function(a){var b=a.indexOf("#");return-1!=b?a.substring(0,b):a};fb.fromPool=function(a,b,c){null==c&&(c="linear");return 0!=fb.sTweenPool.get_length()?fb.sTweenPool.pop().reset(a,b,
c):new fb(a,b,c)};fb.toPool=function(a){a.mOnStart=a.mOnUpdate=a.mOnRepeat=a.mOnComplete=null;a.mOnStartArgs=a.mOnUpdateArgs=a.mOnRepeatArgs=a.mOnCompleteArgs=null;a.mTarget=null;a.mTransitionFunc=null;a.removeEventListeners();fb.sTweenPool.push(a)};fb.__super__=bb;fb.prototype=r(bb.prototype,{reset:function(a,b,c){null==c&&(c="linear");this.mTarget=a;this.mCurrentTime=0;this.mTotalTime=Math.max(1E-4,b);this.mDelay=this.mRepeatDelay=this.mProgress=0;this.mOnStartArgs=this.mOnUpdateArgs=this.mOnRepeatArgs=
this.mOnCompleteArgs=this.mOnStart=this.mOnUpdate=this.mOnRepeat=this.mOnComplete=null;this.mRoundToInt=this.mReverse=!1;this.mRepeatCount=1;this.mCurrentCycle=-1;this.mNextTween=null;if("string"==typeof c)this.set_transition(c);else if(T.isFunction(c))this.set_transitionFunc(c);else throw new m(new la("Transition must be either a string or a function"));null!=this.mProperties?this.mProperties.set_length(0):this.mProperties=E.toObjectVector(null);null!=this.mStartValues?this.mStartValues.set_length(0):
this.mStartValues=E.toFloatVector(null);null!=this.mEndValues?this.mEndValues.set_length(0):this.mEndValues=E.toFloatVector(null);null!=this.mUpdateFuncs?this.mUpdateFuncs.set_length(0):this.mUpdateFuncs=E.toFunctionVector(null);return this},animate:function(a,b){if(null!=this.mTarget){var c=this.mProperties.get_length(),d=this.getUpdateFuncFromProperty(a),e=fb.getPropertyName(a);this.mProperties.set(c,e);this.mStartValues.set(c,NaN);this.mEndValues.set(c,b);this.mUpdateFuncs.set(c,d)}},scaleTo:function(a){this.animate("scaleX",
a);this.animate("scaleY",a)},moveTo:function(a,b){this.animate("x",a);this.animate("y",b)},fadeTo:function(a){this.animate("alpha",a)},rotateTo:function(a,b){null==b&&(b="rad");this.animate("rotation#"+b,a)},advanceTime:function(a){if(0!=a&&(1!=this.mRepeatCount||this.mCurrentTime!=this.mTotalTime)){var b=this.mCurrentTime,c=this.mTotalTime-this.mCurrentTime,c=a>c?a-c:0;this.mCurrentTime+=a;if(!(0>=this.mCurrentTime)){this.mCurrentTime>this.mTotalTime&&(this.mCurrentTime=this.mTotalTime);0>this.mCurrentCycle&&
0>=b&&0<this.mCurrentTime&&(this.mCurrentCycle++,null!=this.mOnStart&&(null!=this.mOnStartArgs?this.mOnStart(this.mOnStartArgs):this.mOnStart()));var d=this.mCurrentTime/this.mTotalTime,e=this.mReverse&&1==this.mCurrentCycle%2;a=this.mStartValues.get_length();this.mProgress=e?this.mTransitionFunc(1-d):this.mTransitionFunc(d);for(d=0;d<a;){e=d++;if(this.mStartValues.get(e)!=this.mStartValues.get(e)){var f=T.getProperty(this.mTarget,this.mProperties.get(e));this.mStartValues.set(e,f)}this.mUpdateFuncs.get(e)(this.mProperties.get(e),
this.mStartValues.get(e),this.mEndValues.get(e))}null!=this.mOnUpdate&&(null!=this.mOnUpdateArgs?this.mOnUpdate(this.mOnUpdateArgs):this.mOnUpdate());b<this.mTotalTime&&this.mCurrentTime>=this.mTotalTime&&(0==this.mRepeatCount||1<this.mRepeatCount?(this.mCurrentTime=-this.mRepeatDelay,this.mCurrentCycle++,1<this.mRepeatCount&&this.mRepeatCount--,null!=this.mOnRepeat&&(null!=this.mOnRepeatArgs?this.mOnRepeat(this.mOnRepeatArgs):this.mOnRepeat())):(this.dispatchEventWith("removeFromJuggler"),null!=
this.mOnComplete&&(null!=this.mOnCompleteArgs?this.mOnComplete(this.mOnCompleteArgs):this.mOnComplete())));0!=c&&this.advanceTime(c)}}},getUpdateFuncFromProperty:function(a){a=fb.getPropertyHint(a);if(null==a)a=l(this,this.updateStandard);else switch(a){case "rgb":a=l(this,this.updateRgb);break;case "rad":a=l(this,this.updateRad);break;case "deg":a=l(this,this.updateDeg);break;default:Na.trace("[Starling] Ignoring unknown property hint: "+a,{fileName:"Tween.hx",lineNumber:285,className:"starling.animation.Tween",
methodName:"getUpdateFuncFromProperty"}),a=l(this,this.updateStandard)}return a},updateStandard:function(a,b,c){b+=this.mProgress*(c-b);this.mRoundToInt&&(b=Math.round(b));T.setProperty(this.mTarget,a,b)},updateRgb:function(a,b,c){b|=0;c|=0;var d=b>>24&255,e=b>>16&255,f=b>>8&255,g=b&255,h=c>>24&255,k=c>>16&255,l=c>>8&255,m=c&255;c=w["int"](function(a){a=Ja.toFloat(h-d)*a.mProgress;return Ja.toFloat(d)+a}(this));b=w["int"](function(a){a=Ja.toFloat(k-e)*a.mProgress;return Ja.toFloat(e)+a}(this));var p=
w["int"](function(a){a=Ja.toFloat(l-f)*a.mProgress;return Ja.toFloat(f)+a}(this)),q=w["int"](function(a){a=Ja.toFloat(m-g)*a.mProgress;return Ja.toFloat(g)+a}(this));T.setProperty(this.mTarget,a,c<<24|b<<16|p<<8|q)},updateRad:function(a,b,c){this.updateAngle(Math.PI,a,b,c)},updateDeg:function(a,b,c){this.updateAngle(180,a,b,c)},updateAngle:function(a,b,c,d){for(;Math.abs(d-c)>a;)d=c<d?d-2*a:d+2*a;this.updateStandard(b,c,d)},getEndValue:function(a){var b=this.mProperties.indexOf(a,0);if(-1==b)throw new m(new la("The property '"+
a+"' is not animated"));return this.mEndValues.get(b)},get_isComplete:function(){return this.mCurrentTime>=this.mTotalTime&&1==this.mRepeatCount},get_target:function(){return this.mTarget},get_transition:function(){return this.mTransitionName},set_transition:function(a){this.mTransitionName=a;this.mTransitionFunc=C.getTransition(a);if(null==this.mTransitionFunc)throw new m(new la("Invalid transiton: "+a));return this.mTransitionName},get_transitionFunc:function(){return this.mTransitionFunc},set_transitionFunc:function(a){this.mTransitionName=
"custom";return this.mTransitionFunc=a},get_totalTime:function(){return this.mTotalTime},get_currentTime:function(){return this.mCurrentTime},get_progress:function(){return this.mProgress},get_delay:function(){return this.mDelay},set_delay:function(a){this.mCurrentTime=this.mCurrentTime+this.mDelay-a;return this.mDelay=a},get_repeatCount:function(){return this.mRepeatCount},set_repeatCount:function(a){return this.mRepeatCount=a},get_repeatDelay:function(){return this.mRepeatDelay},set_repeatDelay:function(a){return this.mRepeatDelay=
a},get_reverse:function(){return this.mReverse},set_reverse:function(a){return this.mReverse=a},get_roundToInt:function(){return this.mRoundToInt},set_roundToInt:function(a){return this.mRoundToInt=a},get_onStart:function(){return this.mOnStart},set_onStart:function(a){return this.mOnStart=a},get_onUpdate:function(){return this.mOnUpdate},set_onUpdate:function(a){return this.mOnUpdate=a},get_onRepeat:function(){return this.mOnRepeat},set_onRepeat:function(a){return this.mOnRepeat=a},get_onComplete:function(){return this.mOnComplete},
set_onComplete:function(a){return this.mOnComplete=a},get_onStartArgs:function(){return this.mOnStartArgs},set_onStartArgs:function(a){return this.mOnStartArgs=a},get_onUpdateArgs:function(){return this.mOnUpdateArgs},set_onUpdateArgs:function(a){this.mOnUpdateArgs=a},get_onRepeatArgs:function(){return this.mOnRepeatArgs},set_onRepeatArgs:function(a){return this.mOnRepeatArgs=a},get_onCompleteArgs:function(){return this.mOnCompleteArgs},set_onCompleteArgs:function(a){return this.mOnCompleteArgs=a},
get_nextTween:function(){return this.mNextTween},set_nextTween:function(a){return this.mNextTween=a},__class__:fb,__properties__:{set_nextTween:"set_nextTween",get_nextTween:"get_nextTween",set_onCompleteArgs:"set_onCompleteArgs",get_onCompleteArgs:"get_onCompleteArgs",set_onRepeatArgs:"set_onRepeatArgs",get_onRepeatArgs:"get_onRepeatArgs",set_onStartArgs:"set_onStartArgs",get_onStartArgs:"get_onStartArgs",set_onComplete:"set_onComplete",get_onComplete:"get_onComplete",set_onRepeat:"set_onRepeat",
get_onRepeat:"get_onRepeat",set_onUpdate:"set_onUpdate",get_onUpdate:"get_onUpdate",set_onStart:"set_onStart",get_onStart:"get_onStart",set_roundToInt:"set_roundToInt",get_roundToInt:"get_roundToInt",set_reverse:"set_reverse",get_reverse:"get_reverse",set_repeatDelay:"set_repeatDelay",get_repeatDelay:"get_repeatDelay",set_repeatCount:"set_repeatCount",get_repeatCount:"get_repeatCount",set_delay:"set_delay",get_delay:"get_delay",get_progress:"get_progress",get_currentTime:"get_currentTime",get_totalTime:"get_totalTime",
set_transitionFunc:"set_transitionFunc",get_transitionFunc:"get_transitionFunc",set_transition:"set_transition",get_transition:"get_transition",get_target:"get_target",get_isComplete:"get_isComplete"}});var P=function(){this.mStencilReferenceValue=0;this.mMasks=E.toObjectVector(null);this.mProjectionMatrix=new U;this.mModelViewMatrix=new U;this.mMvpMatrix=new U;this.mMatrixStack=E.toObjectVector(null);this.mMatrixStackSize=0;this.mProjectionMatrix3D=new ib;this.mModelViewMatrix3D=new ib;this.mMvpMatrix3D=
new ib;this.mMatrixStack3D=E.toObjectVector(null);this.mDrawCount=this.mMatrixStack3DSize=0;this.mBlendMode="normal";this.mClipRectStack=E.toObjectVector(null);this.mCurrentQuadBatchID=this.mClipRectStackSize=0;for(var a=[new xa(!0)],b=E.toObjectVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.mQuadBatches=b;this.loadIdentity();this.setProjectionMatrix(0,0,400,300)};h["starling.core.RenderSupport"]=P;P.__name__=["starling","core","RenderSupport"];P.transformMatrixForObject=function(a,
b){J.prependMatrix(a,b.get_transformationMatrix())};P.setBlendFactors=function(a,b){null==b&&(b="normal");var c=jf.getBlendFactors(b,a);A.get_current().get_context().setBlendFactors(c[0],c[1])};P._clear=function(a,b){null==b&&(b=0);null==a&&(a=0);A.get_current().get_context().clear(Tb.getRed(a)/255,Tb.getGreen(a)/255,Tb.getBlue(a)/255,b)};P.assembleAgal=function(a,b,c){if(null==c){c=A.get_current().get_context();if(null==c)throw new m(new gc);c=c.createProgram()}var d=new ef;c.upload(d.assemble(1,
a),d.assemble(0,b));return c};P.getTextureLookupFlags=function(a,b,c,d){null==d&&(d="bilinear");null==c&&(c=!1);c=["2d",c?"repeat":"clamp"];3==a?c.push("dxt1"):4==a&&c.push("dxt5");"none"==d?(c.push("nearest"),c.push(b?"mipnearest":"mipnone")):"bilinear"==d?(c.push("linear"),c.push(b?"mipnearest":"mipnone")):(c.push("linear"),c.push(b?"miplinear":"mipnone"));return"<"+c.join(",")+">"};P.prototype={dispose:function(){for(var a=0,b=this.mQuadBatches;a<b.get_length();){var c=b.get(a);++a;c.dispose()}},
setProjectionMatrix:function(a,b,c,d,e,f,g){null==f&&(f=0);null==e&&(e=0);0>=e&&(e=c);0>=f&&(f=d);null==g&&(g=P.sPoint3D,g.setTo(e/2,f/2,e/Math.tan(.5)*.5));this.mProjectionMatrix.setTo(2/c,0,0,-2/d,-(2*a+c)/c,(2*b+d)/d);var h=Math.abs(g.z),k=g.x-e/2;g=g.y-f/2;var l=20*h;c=e/c;d=f/d;P.sMatrixData.set(0,2*h/e);P.sMatrixData.set(5,-2*h/f);P.sMatrixData.set(10,l/(l-1));P.sMatrixData.set(14,1*-l/(l-1));P.sMatrixData.set(11,1);l=P.sMatrixData.get(0)*c;P.sMatrixData.set(0,l);l=P.sMatrixData.get(5)*d;P.sMatrixData.set(5,
l);P.sMatrixData.set(8,c-1-2*c*(a-k)/e);P.sMatrixData.set(9,-d+1+2*d*(b-g)/f);this.mProjectionMatrix3D.copyRawDataFrom(P.sMatrixData);this.mProjectionMatrix3D.prependTranslation(-e/2-k,-f/2-g,h);this.applyClipRect()},loadIdentity:function(){this.mModelViewMatrix.identity();this.mModelViewMatrix3D.identity()},translateMatrix:function(a,b){J.prependTranslation(this.mModelViewMatrix,a,b)},prependMatrix:function(a){J.prependMatrix(this.mModelViewMatrix,a)},transformMatrix:function(a){J.prependMatrix(this.mModelViewMatrix,
a.get_transformationMatrix())},pushMatrix:function(){if(this.mMatrixStack.get_length()<this.mMatrixStackSize+1){var a=new U;this.mMatrixStack.push(a)}a=this.mMatrixStackSize++;this.mMatrixStack.get(a).copyFrom(this.mModelViewMatrix)},popMatrix:function(){this.mModelViewMatrix.copyFrom(function(a){var b=--a.mMatrixStackSize;return a.mMatrixStack.get(b)}(this))},resetMatrix:function(){this.mMatrixStack3DSize=this.mMatrixStackSize=0;this.loadIdentity()},get_mvpMatrix:function(){this.mMvpMatrix.copyFrom(this.mModelViewMatrix);
this.mMvpMatrix.concat(this.mProjectionMatrix);return this.mMvpMatrix},get_modelViewMatrix:function(){return this.mModelViewMatrix},get_projectionMatrix:function(){return this.mProjectionMatrix},set_projectionMatrix:function(a){this.mProjectionMatrix.copyFrom(a);this.applyClipRect();return this.mProjectionMatrix},transformMatrix3D:function(a){this.mModelViewMatrix3D.prepend(J.convertTo3D(this.mModelViewMatrix,P.sMatrix3D));this.mModelViewMatrix3D.prepend(a.get_transformationMatrix3D());this.mModelViewMatrix.identity()},
pushMatrix3D:function(){if(this.mMatrixStack3D.get_length()<this.mMatrixStack3DSize+1){var a=new ib;this.mMatrixStack3D.push(a)}a=this.mMatrixStack3DSize++;this.mMatrixStack3D.get(a).copyFrom(this.mModelViewMatrix3D)},popMatrix3D:function(){this.mModelViewMatrix3D.copyFrom(function(a){var b=--a.mMatrixStack3DSize;return a.mMatrixStack3D.get(b)}(this))},get_mvpMatrix3D:function(){0==this.mMatrixStack3DSize?J.convertTo3D(this.get_mvpMatrix(),this.mMvpMatrix3D):(this.mMvpMatrix3D.copyFrom(this.mProjectionMatrix3D),
this.mMvpMatrix3D.prepend(this.mModelViewMatrix3D),this.mMvpMatrix3D.prepend(J.convertTo3D(this.mModelViewMatrix,P.sMatrix3D)));return this.mMvpMatrix3D},get_projectionMatrix3D:function(){return this.mProjectionMatrix3D},set_projectionMatrix3D:function(a){this.mProjectionMatrix3D.copyFrom(a);return this.mProjectionMatrix3D},applyBlendMode:function(a){P.setBlendFactors(a,this.mBlendMode)},get_blendMode:function(){return this.mBlendMode},set_blendMode:function(a){"auto"!=a&&(this.mBlendMode=a);return this.mBlendMode},
get_renderTarget:function(){return A.get_current().get_contextData().get("Starling.renderTarget")},set_renderTarget:function(a){this.setRenderTarget(a);return a},setRenderTarget:function(a,b){null==b&&(b=0);A.get_current().get_contextData().set("Starling.renderTarget",a);a;this.applyClipRect();null!=a?A.get_current().get_context().setRenderToTexture(a.get_base(),La.get_supportsDepthAndStencil(),b):A.get_current().get_context().setRenderToBackBuffer()},pushClipRect:function(a,b){null==b&&(b=!0);if(this.mClipRectStack.get_length()<
this.mClipRectStackSize+1){var c=new I;this.mClipRectStack.push(c)}this.mClipRectStack.get(this.mClipRectStackSize).copyFrom(a);a=this.mClipRectStack.get(this.mClipRectStackSize);b&&0<this.mClipRectStackSize&&Ya.intersect(a,this.mClipRectStack.get(this.mClipRectStackSize-1),a);++this.mClipRectStackSize;this.applyClipRect();return a},popClipRect:function(){0<this.mClipRectStackSize&&(--this.mClipRectStackSize,this.applyClipRect())},applyClipRect:function(){this.finishQuadBatch();var a=A.get_current().get_context();
if(null!=a)if(0<this.mClipRectStackSize){var b,c,d=this.mClipRectStack.get(this.mClipRectStackSize-1);c=this.get_renderTarget();null!=c?(b=w["int"](c.get_root().get_nativeWidth()),c=w["int"](c.get_root().get_nativeHeight())):(b=A.get_current().get_backBufferWidth(),c=A.get_current().get_backBufferHeight());J.transformCoords(this.mProjectionMatrix,d.x,d.y,P.sPoint);P.sClipRect.x=(.5*P.sPoint.x+.5)*b;P.sClipRect.y=(.5-.5*P.sPoint.y)*c;J.transformCoords(this.mProjectionMatrix,d.get_right(),d.get_bottom(),
P.sPoint);P.sClipRect.set_right((.5*P.sPoint.x+.5)*b);P.sClipRect.set_bottom((.5-.5*P.sPoint.y)*c);P.sBufferRect.setTo(0,0,b,c);Ya.intersect(P.sClipRect,P.sBufferRect,P.sScissorRect);(1>P.sScissorRect.width||1>P.sScissorRect.height)&&P.sScissorRect.setTo(0,0,1,1);a.setScissorRectangle(P.sScissorRect)}else a.setScissorRectangle(null)},pushMask:function(a){var b=this.mMasks.get_length();this.mMasks.set(b,a);this.mStencilReferenceValue++;b=A.get_current().get_context();null!=b&&(this.finishQuadBatch(),
b.setStencilActions(2,1,2),this.drawMask(a),b.setStencilReferenceValue(this.mStencilReferenceValue),b.setStencilActions(2,1,5))},popMask:function(){var a=this.mMasks.pop();this.mStencilReferenceValue--;var b=A.get_current().get_context();null!=b&&(this.finishQuadBatch(),b.setStencilActions(2,1,0),this.drawMask(a),b.setStencilReferenceValue(this.mStencilReferenceValue),b.setStencilActions(2,1,5))},drawMask:function(a){this.pushMatrix();var b=a.get_stage();null!=b?a.getTransformationMatrix(b,this.mModelViewMatrix):
this.transformMatrix(a);a.render(this,0);this.finishQuadBatch();this.popMatrix()},get_stencilReferenceValue:function(){return this.mStencilReferenceValue},set_stencilReferenceValue:function(a){this.mStencilReferenceValue=a;A.get_current().get_contextValid()&&A.get_current().get_context().setStencilReferenceValue(a);return this.mStencilReferenceValue},batchQuad:function(a,b,c,d){this.mQuadBatches.get(this.mCurrentQuadBatchID).isStateChange(a.get_tinted(),b,c,d,this.mBlendMode)&&this.finishQuadBatch();
this.mQuadBatches.get(this.mCurrentQuadBatchID).addQuad(a,b,c,d,this.mModelViewMatrix,this.mBlendMode)},batchQuadBatch:function(a,b){this.mQuadBatches.get(this.mCurrentQuadBatchID).isStateChange(a.get_tinted(),b,a.get_texture(),a.get_smoothing(),this.mBlendMode,a.get_numQuads())&&this.finishQuadBatch();this.mQuadBatches.get(this.mCurrentQuadBatchID).addQuadBatch(a,b,this.mModelViewMatrix,this.mBlendMode)},finishQuadBatch:function(){var a=this.mQuadBatches.get(this.mCurrentQuadBatchID);0!=a.get_numQuads()&&
(0==this.mMatrixStack3DSize?a.renderCustom(this.mProjectionMatrix3D):(this.mMvpMatrix3D.copyFrom(this.mProjectionMatrix3D),this.mMvpMatrix3D.prepend(this.mModelViewMatrix3D),a.renderCustom(this.mMvpMatrix3D)),a.reset(),++this.mCurrentQuadBatchID,++this.mDrawCount,this.mQuadBatches.get_length()<=this.mCurrentQuadBatchID&&(a=new xa(!0),this.mQuadBatches.push(a)))},nextFrame:function(){this.resetMatrix();this.trimQuadBatches();this.mMasks.set_length(0);this.mCurrentQuadBatchID=0;this.mBlendMode="normal";
this.mDrawCount=0},trimQuadBatches:function(){var a=this.mCurrentQuadBatchID+1,b=this.mQuadBatches.get_length();if(16<=b&&b>2*a)for(a=b-a,b=0;b<a;)b++,this.mQuadBatches.pop().dispose()},clear:function(a,b){null==b&&(b=0);null==a&&(a=0);P._clear(a,b)},raiseDrawCount:function(a){null==a&&(a=1);this.mDrawCount+=a},get_drawCount:function(){return this.mDrawCount},__class__:P,__properties__:{get_drawCount:"get_drawCount",set_stencilReferenceValue:"set_stencilReferenceValue",get_stencilReferenceValue:"get_stencilReferenceValue",
set_renderTarget:"set_renderTarget",get_renderTarget:"get_renderTarget",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_projectionMatrix3D:"set_projectionMatrix3D",get_projectionMatrix3D:"get_projectionMatrix3D",get_mvpMatrix3D:"get_mvpMatrix3D",set_projectionMatrix:"set_projectionMatrix",get_projectionMatrix:"get_projectionMatrix",get_modelViewMatrix:"get_modelViewMatrix",get_mvpMatrix:"get_mvpMatrix"}};var A=function(a,b,c,d,e,f){null==e&&(e=0);null==f&&(f=1);if(null==b)throw new m(new la("Stage must not be null"));
null==c&&(c=new I(0,0,b.stageWidth,b.stageHeight));null==d&&(d=b.stage3Ds.get(0));La.initialize();A.sAll.push(this);this.makeCurrent();this.mRootClass=a;this.mViewPort=c;this.mPreviousViewPort=new I;this.mStage3D=d;this.mStage=new lc(c.width|0,c.height|0,b.get_color());this.mNativeOverlay=new yb;this.mNativeStage=b;this.mNativeStage.addChild(this.mNativeOverlay);this.mNativeStageContentScaleFactor=1;this.mTouchProcessor=new xb(this.mStage);this.mJuggler=new hf;this.mAntiAliasing=0;this.mSupportHighResolutions=
this.mEnableErrorChecking=this.mSimulateMultitouch=!1;this.mBroadcastKeyboardEvents=!0;this.mLastFrameTimestamp=Qa.getTimer()/1E3;this.mSupport=new P;a=new ja;A.sContextData.set(d,a);a;a=A.sContextData.h[d.__id__];c=new ja;a.set("Starling.programs",c);c;b.scaleMode=2;b.align=6;a=0;for(c=this.get_touchEventTypes();a<c.length;){var g=c[a];++a;b.addEventListener(g,l(this,this.onTouch),!1,0,!0)}b.addEventListener("enterFrame",l(this,this.onEnterFrame),!1,0,!0);b.addEventListener("keyDown",l(this,this.onKey),
!1,0,!0);b.addEventListener("keyUp",l(this,this.onKey),!1,0,!0);b.addEventListener("resize",l(this,this.onResize),!1,0,!0);b.addEventListener("mouseLeave",l(this,this.onMouseLeave),!1,0,!0);this.mStage3D.addEventListener("context3DCreate",l(this,this.onContextCreated),!1,10,!0);this.mStage3D.addEventListener("error",l(this,this.onStage3DError),!1,10,!0);if(null!=this.mStage3D.context3D&&"Disposed"!=this.mStage3D.context3D.driverInfo){if("auto"==f||f instanceof Array&&null==f.__enum__)throw new m(new la("When sharing the context3D, the actual profile has to be supplied"));
this.mProfile=u.__cast(f,lg);this.mShareContext=!0;bc.delay(l(this,this.initialize),1)}else La.get_supportsDepthAndStencil()||Na.trace("[Starling] Mask support requires 'depthAndStencil' to be enabled in the application descriptor.",{fileName:"Starling.hx",lineNumber:331,className:"starling.core.Starling",methodName:"new"}),this.mShareContext=!1,this.requestContext3D(d,e,f)};h["starling.core.Starling"]=A;A.__name__=["starling","core","Starling"];A.__properties__={set_handleLostContext:"set_handleLostContext",
get_handleLostContext:"get_handleLostContext",set_multitouchEnabled:"set_multitouchEnabled",get_multitouchEnabled:"get_multitouchEnabled",get_current:"get_current"};A.get_current=function(){return A.sCurrent};A.get_multitouchEnabled=function(){return 2==Qc.inputMode};A.set_multitouchEnabled=function(a){if(null!=A.sCurrent)throw new m(new ma("'multitouchEnabled' must be set before Starling instance is created"));Qc.inputMode=a?2:1;return 2==Qc.inputMode};A.get_handleLostContext=function(){return A.sHandleLostContext};
A.set_handleLostContext=function(a){if(null!=A.sCurrent)throw new m(new ma("'handleLostContext' must be set before Starling instance is created"));A.sHandleLostContext=a;return A.sHandleLostContext};A.__super__=bb;A.prototype=r(bb.prototype,{requestContext3D:function(a,b,c){var d=this,e=[],f;if("auto"==c)e=[2,0,1];else if((c|0)===c)e=[c];else if(c instanceof Array&&null==c.__enum__)e=c;else throw new m(new la("Profile must be of type 'Context3DProfile' or 'Array'"));var g=null,h=null,k,l=null;k=l=
function(){f=e.shift();try{d.mStage3D.requestContext3D(b,f)}catch(a){if(a instanceof m&&(a=a.val),u.__instanceof(a,ga))if(0!=e.length)bc.delay(l,1);else throw new m(a);else throw a;}};var p=function(c){var k=a.context3D;0==b&&0!=e.length&&null!=k.driverInfo&&-1!=k.driverInfo.indexOf("Software")?h(c):(d.mProfile=f,g())},h=function(a){0!=e.length?(a.stopImmediatePropagation(),bc.delay(k,1)):g()},g=function(){d.mStage3D.removeEventListener("context3DCreate",p);d.mStage3D.removeEventListener("error",
h)};this.mStage3D.addEventListener("context3DCreate",p,!1,100);this.mStage3D.addEventListener("error",h,!1,100);k()},initialize:function(){this.makeCurrent();this.initializeGraphicsAPI();this.initializeRoot();this.mTouchProcessor.set_simulateMultitouch(this.mSimulateMultitouch);this.mLastFrameTimestamp=Qa.getTimer()/1E3},initializeGraphicsAPI:function(){this.mContext=this.mStage3D.context3D;this.mContext.set_enableErrorChecking(this.mEnableErrorChecking);Na.trace("[Starling] Initialization complete.",
{fileName:"Starling.hx",lineNumber:457,className:"starling.core.Starling",methodName:"initializeGraphicsAPI"});Na.trace("[Starling] Display Driver: "+this.mContext.driverInfo,{fileName:"Starling.hx",lineNumber:458,className:"starling.core.Starling",methodName:"initializeGraphicsAPI"});this.updateViewPort(!0);this.dispatchEventWith("context3DCreate",!1,this.mContext)},initializeRoot:function(){if(null==this.mRoot&&null!=this.mRootClass){this.mRoot=Bb.createInstance(this.mRootClass,[]);if(null==this.mRoot)throw new m(new ga("Invalid root class: "+
w.string(this.mRootClass)));this.mStage.addChildAt(this.mRoot,0);this.dispatchEventWith("rootCreated",!1,this.mRoot)}},nextFrame:function(){var a=Qa.getTimer()/1E3,b=a-this.mLastFrameTimestamp;this.mLastFrameTimestamp=a;1<b&&(b=1);0>b&&(b=1/this.mNativeStage.get_frameRate());this.advanceTime(b);this.render()},advanceTime:function(a){this.get_contextValid()&&(this.makeCurrent(),this.mTouchProcessor.advanceTime(a),this.mStage.advanceTime(a),this.mJuggler.advanceTime(a))},render:function(){if(this.get_contextValid()){this.makeCurrent();
this.updateViewPort();this.dispatchEventWith("render");var a=this.mViewPort.width/this.mStage.get_stageWidth(),b=this.mViewPort.height/this.mStage.get_stageHeight();this.mContext.setDepthTest(!1,0);this.mContext.setCulling(3);this.mSupport.nextFrame();this.mSupport.set_stencilReferenceValue(0);this.mSupport.set_renderTarget(null);this.mSupport.setProjectionMatrix(0>this.mViewPort.x?-this.mViewPort.x/a:0,0>this.mViewPort.y?-this.mViewPort.y/b:0,this.mClippedViewPort.width/a,this.mClippedViewPort.height/
b,this.mStage.get_stageWidth(),this.mStage.get_stageHeight(),this.mStage.get_cameraPosition());this.mShareContext||P._clear(this.mStage.get_color(),1);this.mStage.render(this.mSupport,1);this.mSupport.finishQuadBatch();null!=this.mStatsDisplay&&this.mStatsDisplay.set_drawCount(this.mSupport.get_drawCount());this.mShareContext||this.mContext.present()}},updateViewPort:function(a){null==a&&(a=!1);if(a||this.mPreviousViewPort.width!=this.mViewPort.width||this.mPreviousViewPort.height!=this.mViewPort.height||
this.mPreviousViewPort.x!=this.mViewPort.x||this.mPreviousViewPort.y!=this.mViewPort.y)this.mPreviousViewPort.setTo(this.mViewPort.x,this.mViewPort.y,this.mViewPort.width,this.mViewPort.height),this.mClippedViewPort=this.mViewPort.intersection(new I(0,0,this.mNativeStage.stageWidth,this.mNativeStage.stageHeight)),this.mShareContext||(1==this.mProfile&&this.configureBackBuffer(32,32,this.mAntiAliasing,!0),this.mStage3D.set_x(this.mClippedViewPort.x),this.mStage3D.set_y(this.mClippedViewPort.y),this.configureBackBuffer(this.mClippedViewPort.width|
0,this.mClippedViewPort.height|0,this.mAntiAliasing,!0,this.mSupportHighResolutions),this.mSupportHighResolutions&&null!=T.getProperty(this.mNativeStage,"contentsScaleFactor")?this.mNativeStageContentScaleFactor=T.getProperty(this.mNativeStage,"contentsScaleFactor"):this.mNativeStageContentScaleFactor=1)},configureBackBuffer:function(a,b,c,d,e){null==e&&(e=!1);this.mContext.configureBackBuffer(a,b,c,d&&La.get_supportsDepthAndStencil(),e)},updateNativeOverlay:function(){this.mNativeOverlay.set_x(this.mViewPort.x);
this.mNativeOverlay.set_y(this.mViewPort.y);this.mNativeOverlay.set_scaleX(this.mViewPort.width/this.mStage.get_stageWidth());this.mNativeOverlay.set_scaleY(this.mViewPort.height/this.mStage.get_stageHeight())},stopWithFatalError:function(a){var b=new Pd;b.get_graphics().beginFill(0,.8);b.get_graphics().drawRect(0,0,this.mStage.get_stageWidth(),this.mStage.get_stageHeight());b.get_graphics().endFill();var c=new W,d=new sd("_sans",14,16777215);d.align=0;c.set_defaultTextFormat(d);c.set_wordWrap(!0);
c.set_width(.75*this.mStage.get_stageWidth());c.set_autoSize(0);c.set_text(a);c.set_x((this.mStage.get_stageWidth()-c.get_width())/2);c.set_y((this.mStage.get_stageHeight()-c.get_height())/2);c.set_background(!0);c.set_backgroundColor(5570560);this.updateNativeOverlay();this.get_nativeOverlay().addChild(b);this.get_nativeOverlay().addChild(c);this.stop(!0);Na.trace("[Starling]",{fileName:"Starling.hx",lineNumber:637,className:"starling.core.Starling",methodName:"stopWithFatalError",customParams:[a]});
this.dispatchEventWith("fatalError",!1,a)},makeCurrent:function(){A.sCurrent=this},start:function(){this.mStarted=this.mRendering=!0;this.mLastFrameTimestamp=Qa.getTimer()/1E3},stop:function(a){null==a&&(a=!1);this.mStarted=!1;this.mRendering=!a},onStage3DError:function(a){3702==a.errorID?this.stopWithFatalError("Context3D not available! Possible reasons: wrong "+("Desktop"==xc.playerType?"renderMode":"wmode")+" or missing device support."):this.stopWithFatalError("Stage3D error: "+a.text)},onContextCreated:function(a){A.get_handleLostContext()||
null==this.mContext?this.initialize():(a.stopImmediatePropagation(),this.stopWithFatalError("The application lost the device context!"),Na.trace("[Starling] Enable 'Starling.handleLostContext' to avoid this error.",{fileName:"Starling.hx",lineNumber:692,className:"starling.core.Starling",methodName:"onContextCreated"}))},onEnterFrame:function(a){this.mShareContext||(this.mStarted?this.nextFrame():this.mRendering&&this.render());this.updateNativeOverlay()},onKey:function(a){if(this.mStarted){var b=
new kf(a.type,a.charCode,a.keyCode,a.keyLocation,a.ctrlKey,a.altKey,a.shiftKey);this.makeCurrent();this.mBroadcastKeyboardEvents?this.mStage.broadcastEvent(b):this.mStage.dispatchEvent(b);b.isDefaultPrevented()&&a.preventDefault()}},onResize:function(a){var b=this,c=a.target.stageWidth,d=a.target.stageHeight,e=null;a=e=function(){b.makeCurrent();b.removeEventListener("context3DCreate",e);b.mStage.dispatchEvent(new lf("resize",c,d))};this.get_contextValid()?a():this.addEventListener("context3DCreate",
a)},onMouseLeave:function(a){this.mTouchProcessor.enqueueMouseLeftStage()},onTouch:function(a){if(this.mStarted){var b,c,d,e=null,f=1,g=1,h=1;if(u.__instanceof(a,Va))b=a.stageX,c=a.stageY,d=0,"mouseDown"==a.type?this.mLeftMouseDown=!0:"mouseUp"==a.type&&(this.mLeftMouseDown=!1);else{h=u.__cast(a,Fc);if(dc.supportsCursor&&h.isPrimaryTouchPoint)return;b=h.stageX;c=h.stageY;d=h.touchPointID;f=h.pressure;g=h.sizeX;h=h.sizeY}switch(a.type){case "touchBegin":e="began";break;case "touchMove":e="moved";break;
case "touchEnd":e="ended";break;case "mouseDown":e="began";break;case "mouseUp":e="ended";break;case "mouseMove":e=this.mLeftMouseDown?"moved":"hover"}b=this.mStage.get_stageWidth()*(b-this.mViewPort.x)/this.mViewPort.width;c=this.mStage.get_stageHeight()*(c-this.mViewPort.y)/this.mViewPort.height;this.mTouchProcessor.enqueue(d,e,b,c,f,g,h);"mouseUp"==a.type&&dc.supportsCursor&&this.mTouchProcessor.enqueue(d,"hover",b,c)}},get_touchEventTypes:function(){var a=[];A.get_multitouchEnabled()&&(a.push("touchBegin"),
a.push("touchMove"),a.push("touchEnd"));if(!A.get_multitouchEnabled()||dc.supportsCursor)a.push("mouseDown"),a.push("mouseMove"),a.push("mouseUp");return a},registerProgramFromSource:function(a,b,c){this.deleteProgram(a);b=P.assembleAgal(b,c);this.get_programs().set(a,b);b;return b},deleteProgram:function(a){var b=this.getProgram(a);null!=b&&(b.dispose(),this.get_programs().remove(a))},getProgram:function(a){return this.get_programs().get(a)},hasProgram:function(a){return this.get_programs().exists(a)},
get_programs:function(){return this.get_contextData().get("Starling.programs")},get_juggler:function(){return this.mJuggler},get_context:function(){return this.mContext},get_contextData:function(){return A.sContextData.h[this.mStage3D.__id__]},get_backBufferWidth:function(){return this.mClippedViewPort.width|0},get_backBufferHeight:function(){return this.mClippedViewPort.height|0},set_simulateMultitouch:function(a){this.mSimulateMultitouch=a;null!=this.mContext&&this.mTouchProcessor.set_simulateMultitouch(a);
return this.mSimulateMultitouch},set_enableErrorChecking:function(a){this.mEnableErrorChecking=a;null!=this.mContext&&this.mContext.set_enableErrorChecking(a);return this.mEnableErrorChecking},set_viewPort:function(a){return this.mViewPort=a.clone()},get_contentScaleFactor:function(){return this.mViewPort.width*this.mNativeStageContentScaleFactor/this.mStage.get_stageWidth()},get_nativeOverlay:function(){return this.mNativeOverlay},get_showStats:function(){return null!=this.mStatsDisplay&&null!=this.mStatsDisplay.get_parent()},
set_showStats:function(a){if(a==this.get_showStats())return null!=this.mStatsDisplay&&null!=this.mStatsDisplay.get_parent();a?null!=this.mStatsDisplay?this.mStage.addChild(this.mStatsDisplay):this.showStatsAt():this.mStatsDisplay.removeFromParent();return null!=this.mStatsDisplay&&null!=this.mStatsDisplay.get_parent()},showStatsAt:function(a,b,c){null==c&&(c=1);null==b&&(b="top");null==a&&(a="left");if(null==this.mContext)this.addEventListener("rootCreated",null);else{var d=this.mStage.get_stageWidth(),
e=this.mStage.get_stageHeight();null==this.mStatsDisplay&&(this.mStatsDisplay=new mf,this.mStatsDisplay.set_touchable(!1));this.mStage.addChild(this.mStatsDisplay);this.mStatsDisplay.set_scaleX(this.mStatsDisplay.set_scaleY(c));"left"==a?this.mStatsDisplay.set_x(0):"right"==a?this.mStatsDisplay.set_x(d-this.mStatsDisplay.get_width()):this.mStatsDisplay.set_x(w["int"]((d-this.mStatsDisplay.get_width())/2));"top"==b?this.mStatsDisplay.set_y(0):"bottom"==b?this.mStatsDisplay.set_y(e-this.mStatsDisplay.get_height()):
this.mStatsDisplay.set_y(w["int"]((e-this.mStatsDisplay.get_height())/2))}},get_stage:function(){return this.mStage},get_stage3D:function(){return this.mStage3D},get_nativeStage:function(){return this.mNativeStage},get_root:function(){return this.mRoot},get_profile:function(){return this.mProfile},get_contextValid:function(){if(null!=this.mContext){var a=this.mContext.driverInfo;return null!=a&&""!=a&&"Disposed"!=a}return!1},__class__:A,__properties__:{get_contextValid:"get_contextValid",get_profile:"get_profile",
get_root:"get_root",get_nativeStage:"get_nativeStage",get_stage3D:"get_stage3D",get_stage:"get_stage",set_showStats:"set_showStats",get_showStats:"get_showStats",get_nativeOverlay:"get_nativeOverlay",get_contentScaleFactor:"get_contentScaleFactor",set_viewPort:"set_viewPort",set_enableErrorChecking:"set_enableErrorChecking",set_simulateMultitouch:"set_simulateMultitouch",get_backBufferHeight:"get_backBufferHeight",get_backBufferWidth:"get_backBufferWidth",get_contextData:"get_contextData",get_context:"get_context",
get_juggler:"get_juggler",get_programs:"get_programs",get_touchEventTypes:"get_touchEventTypes"}});var mf=function(){this.mFrameCount=this.mTotalTime=this.mFps=this.mMemory=this.mDrawCount=0;F.call(this);this.mBackground=new Ea(70,45,0);this.mTextField=new L(68,45,"","_sans",12,16777215);this.mTextField.set_x(2);this.mTextField.set_hAlign("left");this.mTextField.set_vAlign("top");this.addChild(this.mBackground);this.addChild(this.mTextField);this.set_blendMode("none");this.addEventListener("addedToStage",
l(this,this.onAddedToStage));this.addEventListener("removedFromStage",l(this,this.onRemovedFromStage))};h["starling.core.StatsDisplay"]=mf;mf.__name__=["starling","core","StatsDisplay"];mf.__super__=ya;mf.prototype=r(ya.prototype,{onAddedToStage:function(a){this.addEventListener("enterFrame",l(this,this.onEnterFrame));this.mTotalTime=this.mFrameCount=0;this.update()},onRemovedFromStage:function(a){this.removeEventListener("enterFrame",l(this,this.onEnterFrame))},onEnterFrame:function(a){a=u.__cast(a,
Vd);this.mTotalTime+=a.get_passedTime();this.mFrameCount++;.5<this.mTotalTime&&(this.update(),this.mFrameCount=w["int"](this.mTotalTime=0))},update:function(){this.mFps=0<this.mTotalTime?this.mFrameCount/this.mTotalTime:0;this.mMemory=9.54E-7*Cd.get_totalMemory();this.mTextField.set_text("FPS: "+Math.round(10*this.mFps)/10+"\nMEM: "+Math.round(10*this.mMemory)/10+"\nDRW: "+(0<this.mTotalTime?this.mDrawCount-2:this.mDrawCount))},render:function(a,b){a.finishQuadBatch();ya.prototype.render.call(this,
a,b)},set_drawCount:function(a){return this.mDrawCount=a},__class__:mf,__properties__:r(ya.prototype.__properties__,{set_drawCount:"set_drawCount"})});var jf=function(){};h["starling.display.BlendMode"]=jf;jf.__name__=["starling","display","BlendMode"];jf.getBlendFactors=function(a,b){null==b&&(b=!0);var c=jf.sBlendFactors[b?1:0],c=null!=ec[a]?c.getReserved(a):c.h[a];if(null!=c)return c;throw new m(new la("Invalid blend mode"));};var Gb=function(a,b,c,d,e){null==b&&(b="");F.call(this);if(null==a)throw new m(new la("Texture 'upState' cannot be null"));
this.mUpState=a;this.mDownState=c;this.mOverState=d;this.mDisabledState=e;this.mState="up";this.mBody=new Ba(a);this.mScaleWhenDown=null!=c?1:.9;this.mScaleWhenOver=this.mAlphaWhenDown=1;this.mAlphaWhenDisabled=null!=e?1:.5;this.mUseHandCursor=this.mEnabled=!0;this.mTextBounds=new I(0,0,this.mBody.get_width(),this.mBody.get_height());this.mTriggerBounds=new I;this.mContents=new ya;this.mContents.addChild(this.mBody);this.addChild(this.mContents);this.addEventListener("touch",l(this,this.onTouch));
this.set_touchGroup(!0);this.set_text(b)};h["starling.display.Button"]=Gb;Gb.__name__=["starling","display","Button"];Gb.__super__=F;Gb.prototype=r(F.prototype,{dispose:function(){null!=this.mTextField&&this.mTextField.dispose();F.prototype.dispose.call(this)},createTextField:function(){null==this.mTextField&&(this.mTextField=new L(this.mTextBounds.width|0,this.mTextBounds.height|0,""),this.mTextField.set_vAlign("center"),this.mTextField.set_hAlign("center"),this.mTextField.set_touchable(!1),this.mTextField.set_autoScale(!0),
this.mTextField.set_batchable(!0));this.mTextField.set_width(this.mTextBounds.width);this.mTextField.set_height(this.mTextBounds.height);this.mTextField.set_x(this.mTextBounds.x);this.mTextField.set_y(this.mTextBounds.y)},onTouch:function(a){dc.set_cursor(this.mUseHandCursor&&this.mEnabled&&a.interactsWith(this)?"button":"auto");a=a.getTouch(this);this.mEnabled&&(null==a?this.set_state("up"):"hover"==a.get_phase()?this.set_state("over"):"began"==a.get_phase()&&"down"!=this.mState?(this.mTriggerBounds=
this.getBounds(this.get_stage(),this.mTriggerBounds),this.mTriggerBounds.inflate(50,50),this.set_state("down")):"moved"==a.get_phase()?(a=this.mTriggerBounds.contains(a.get_globalX(),a.get_globalY()),"down"!=this.mState||a?"up"==this.mState&&a&&this.set_state("down"):this.set_state("up")):"ended"==a.get_phase()&&"down"==this.mState&&(this.set_state("up"),a.get_cancelled()||this.dispatchEventWith("triggered",!0)))},set_state:function(a){this.mState=a;this.refreshState();return this.mState},refreshState:function(){this.mContents.set_x(this.mContents.set_y(0));
this.mContents.set_scaleX(this.mContents.set_scaleY(this.mContents.set_alpha(1)));switch(this.mState){case "down":this.setStateTexture(this.mDownState);this.mContents.set_alpha(this.mAlphaWhenDown);this.mContents.set_scaleX(this.mContents.set_scaleY(this.mScaleWhenDown));this.mContents.set_x((1-this.mScaleWhenDown)/2*this.mBody.get_width());this.mContents.set_y((1-this.mScaleWhenDown)/2*this.mBody.get_height());break;case "up":this.setStateTexture(this.mUpState);break;case "over":this.setStateTexture(this.mOverState);
this.mContents.set_scaleX(this.mContents.set_scaleY(this.mScaleWhenOver));this.mContents.set_x((1-this.mScaleWhenOver)/2*this.mBody.get_width());this.mContents.set_y((1-this.mScaleWhenOver)/2*this.mBody.get_height());break;case "disabled":this.setStateTexture(this.mDisabledState);this.mContents.set_alpha(this.mAlphaWhenDisabled);break;default:throw new m(new la("Invalid button state: "+this.mState));}},setStateTexture:function(a){this.mBody.set_texture(null!=a?a:this.mUpState)},set_enabled:function(a){this.mEnabled!=
a&&(this.mEnabled=a,this.set_state(a?"up":"disabled"));return this.mEnabled},set_text:function(a){0==a.length?null!=this.mTextField&&(this.mTextField.set_text(a),this.mTextField.removeFromParent()):(this.createTextField(),this.mTextField.set_text(a),null==this.mTextField.get_parent()&&this.mContents.addChild(this.mTextField));return null!=this.mTextField?this.mTextField.get_text():""},set_fontName:function(a){this.createTextField();this.mTextField.set_fontName(a);return null!=this.mTextField?this.mTextField.get_fontName():
"_sans"},set_useHandCursor:function(a){return this.mUseHandCursor=a},__class__:Gb,__properties__:r(F.prototype.__properties__,{set_fontName:"set_fontName",set_text:"set_text",set_enabled:"set_enabled",set_state:"set_state"})});var Mb=function(){N.call(this);this.mPolygons=E.toObjectVector(null);this.mVertexData=new ia(0);this.mIndexData=E.toIntVector(null);this.mSyncRequired=!1;this.mFillColor=16777215;this.mFillAlpha=1;Mb.registerPrograms();A.get_current().addEventListener("context3DCreate",l(this,
this.onContextCreated))};h["starling.display.Canvas"]=Mb;Mb.__name__=["starling","display","Canvas"];Mb.registerPrograms=function(){var a=A.get_current();a.hasProgram("Shape")||a.registerProgramFromSource("Shape","m44 op, va0, vc0 \nmul v0, va1, vc4 \n","mov oc, v0")};Mb.__super__=N;Mb.prototype=r(N.prototype,{onContextCreated:function(a){Mb.registerPrograms();this.syncBuffers()},dispose:function(){this.destroyBuffers();N.prototype.dispose.call(this)},drawCircle:function(a,b,c){this.appendPolygon(nb.createCircle(a,
b,c))},beginFill:function(a,b){null==b&&(b=1);null==a&&(a=16777215);this.mFillColor=a;this.mFillAlpha=b},endFill:function(){this.mFillColor=16777215;this.mFillAlpha=1},render:function(a,b){if(0!=this.mIndexData.get_length()){this.mSyncRequired&&this.syncBuffers();a.finishQuadBatch();a.raiseDrawCount();var c;c=Mb.sRenderAlpha.set(2,1);c=Mb.sRenderAlpha.set(1,c);Mb.sRenderAlpha.set(0,c);c=b*this.get_alpha();Mb.sRenderAlpha.set(3,c);c=A.get_current().get_context();if(null==c)throw new m(new gc);a.applyBlendMode(!1);
c.setProgram(A.get_current().getProgram("Shape"));c.setVertexBufferAt(0,this.mVertexBuffer,0,2);c.setVertexBufferAt(1,this.mVertexBuffer,2,4);c.setProgramConstantsFromMatrix(1,0,a.get_mvpMatrix3D(),!0);c.setProgramConstantsFromVector(1,4,Mb.sRenderAlpha,1);c.drawTriangles(this.mIndexBuffer,0,w["int"](this.mIndexData.get_length()/3));c.setVertexBufferAt(0,null);c.setVertexBufferAt(1,null)}},getBounds:function(a,b){null==b&&(b=new I);var c;c=a==this?null:this.getTransformationMatrix(a,Mb.sHelperMatrix);
return this.mVertexData.getBounds(c,0,-1,b)},hitTest:function(a,b){null==b&&(b=!1);if(b&&(!this.get_visible()||!this.get_touchable())||!this.hitTestMask(a))return null;for(var c=this.mPolygons.get_length(),d=0;d<c;){var e=d++;if(this.mPolygons.get(e).containsPoint(a))return this}return null},appendPolygon:function(a){var b=this.mVertexData.get_numVertices(),c=this.mIndexData.get_length();a.triangulate(this.mIndexData);a.copyToVertexData(this.mVertexData,b);for(var d=this.mIndexData.get_length();c<
d;){var e=c++,f=this.mIndexData.get(e);this.mIndexData.set(e,f+b)}this.applyFillColor(b,a.get_numVertices());b=this.mPolygons.get_length();this.mPolygons.set(b,a);this.mSyncRequired=!0},applyFillColor:function(a,b){for(var c=a+b,d=a;d<c;){var e=d++;this.mVertexData.setColorAndAlpha(e,this.mFillColor,this.mFillAlpha)}},syncBuffers:function(){this.destroyBuffers();var a=A.get_current().get_context();if(null==a)throw new m(new gc);var b=this.mVertexData.get_numVertices(),c=this.mIndexData.get_length();
this.mVertexBuffer=a.createVertexBuffer(b,8);this.mVertexBuffer.uploadFromVector(this.mVertexData.get_rawData(),0,b);this.mIndexBuffer=a.createIndexBuffer(c);this.mIndexBuffer.uploadFromVector(this.mIndexData,0,c);this.mSyncRequired=!1},destroyBuffers:function(){null!=this.mVertexBuffer&&this.mVertexBuffer.dispose();null!=this.mIndexBuffer&&this.mIndexBuffer.dispose();this.mIndexBuffer=this.mVertexBuffer=null;this.mSyncRequired=!0},__class__:Mb});var Ea=function(a,b,c,d){null==d&&(d=!0);null==c&&
(c=16777215);N.call(this);if(0==a||0==b)throw new m(new la("Invalid size: width and height must not be zero"));this.mTinted=16777215!=c;this.mVertexData=new ia(4,d);this.mVertexData.setPosition(0,0,0);this.mVertexData.setPosition(1,a,0);this.mVertexData.setPosition(2,0,b);this.mVertexData.setPosition(3,a,b);this.mVertexData.setUniformColor(c);this.onVertexDataChanged()};h["starling.display.Quad"]=Ea;Ea.__name__=["starling","display","Quad"];Ea.__super__=N;Ea.prototype=r(N.prototype,{onVertexDataChanged:function(){},
getBounds:function(a,b){null==b&&(b=new I);if(a==this)this.mVertexData.getPosition(3,Ea.sHelperPoint),b.setTo(0,0,Ea.sHelperPoint.x,Ea.sHelperPoint.y);else if(a==this.get_parent()&&0==this.get_rotation()){var c=this.get_scaleX(),d=this.get_scaleY();this.mVertexData.getPosition(3,Ea.sHelperPoint);b.setTo(this.get_x()-this.get_pivotX()*c,this.get_y()-this.get_pivotY()*d,Ea.sHelperPoint.x*c,Ea.sHelperPoint.y*d);0>c&&(b.width*=-1,b.x-=b.width);0>d&&(b.height*=-1,b.y-=b.height)}else this.get_is3D()&&null!=
this.get_stage()?(this.get_stage().getCameraPosition(a,Ea.sHelperPoint3D),this.getTransformationMatrix3D(a,Ea.sHelperMatrix3D),this.mVertexData.getBoundsProjected(Ea.sHelperMatrix3D,Ea.sHelperPoint3D,0,4,b)):(this.getTransformationMatrix(a,Ea.sHelperMatrix),this.mVertexData.getBounds(Ea.sHelperMatrix,0,4,b));return b},set_color:function(a){this.mVertexData.setUniformColor(a);this.onVertexDataChanged();16777215!=a||1!=this.get_alpha()?this.mTinted=!0:this.mTinted=this.mVertexData.get_tinted();return this.mVertexData.getColor(0)},
set_alpha:function(a){N.prototype.set_alpha.call(this,a);this.mTinted=1>a?!0:this.mVertexData.get_tinted();return this.mAlpha},copyVertexDataTransformedTo:function(a,b,c){null==b&&(b=0);this.mVertexData.copyTransformedTo(a,b,c,0,4)},render:function(a,b){a.batchQuad(this,b)},get_tinted:function(){return this.mTinted},get_premultipliedAlpha:function(){return this.mVertexData.get_premultipliedAlpha()},__class__:Ea,__properties__:r(N.prototype.__properties__,{get_premultipliedAlpha:"get_premultipliedAlpha",
get_tinted:"get_tinted",set_color:"set_color"})});var Ba=function(a){if(null!=a){var b=a.get_frame(),c;c=null!=b?b.width:a.get_width();var b=null!=b?b.height:a.get_height(),d=a.get_premultipliedAlpha();Ea.call(this,c,b,16777215,d);this.mVertexData.setTexCoords(0,0,0);this.mVertexData.setTexCoords(1,1,0);this.mVertexData.setTexCoords(2,0,1);this.mVertexData.setTexCoords(3,1,1);this.mTexture=a;this.mSmoothing="bilinear";this.mVertexDataCache=new ia(4,d);this.mVertexDataCacheInvalid=!0}else throw new m(new la("Texture cannot be null"));
};h["starling.display.Image"]=Ba;Ba.__name__=["starling","display","Image"];Ba.__super__=Ea;Ba.prototype=r(Ea.prototype,{onVertexDataChanged:function(){this.mVertexDataCacheInvalid=!0},readjustSize:function(){var a=this.get_texture().get_frame(),b;b=null!=a?a.width:this.get_texture().get_width();a=null!=a?a.height:this.get_texture().get_height();this.mVertexData.setPosition(0,0,0);this.mVertexData.setPosition(1,b,0);this.mVertexData.setPosition(2,0,a);this.mVertexData.setPosition(3,b,a);this.onVertexDataChanged()},
copyVertexDataTransformedTo:function(a,b,c){null==b&&(b=0);this.mVertexDataCacheInvalid&&(this.mVertexDataCacheInvalid=!1,this.mVertexData.copyTo(this.mVertexDataCache),this.mTexture.adjustVertexData(this.mVertexDataCache,0,4));this.mVertexDataCache.copyTransformedTo(a,b,c,0,4)},get_texture:function(){return this.mTexture},set_texture:function(a){if(null==a)throw new m(new la("Texture cannot be null"));a!=this.mTexture&&(this.mTexture=a,this.mVertexData.setPremultipliedAlpha(this.mTexture.get_premultipliedAlpha()),
this.mVertexDataCache.setPremultipliedAlpha(this.mTexture.get_premultipliedAlpha(),!1),this.onVertexDataChanged());return this.mTexture},get_smoothing:function(){return this.mSmoothing},set_smoothing:function(a){if(Kg.isValid(a))this.mSmoothing=a;else throw new m(new la("Invalid smoothing mode: "+a));return this.mSmoothing},render:function(a,b){a.batchQuad(this,b,this.mTexture,this.mSmoothing)},__class__:Ba,__properties__:r(Ea.prototype.__properties__,{set_smoothing:"set_smoothing",get_smoothing:"get_smoothing",
set_texture:"set_texture",get_texture:"get_texture"})});var Ud=function(a,b){null==b&&(b=12);this.mSoundTransform=null;if(0<a.get_length())Ba.call(this,a.get(0)),this.init(a,b);else throw new m(new la("Empty texture array"));};h["starling.display.MovieClip"]=Ud;Ud.__name__=["starling","display","MovieClip"];Ud.__interfaces__=[Rc];Ud.__super__=Ba;Ud.prototype=r(Ba.prototype,{init:function(a,b){if(0>=b)throw new m(new la("Invalid fps: "+b));var c=a.get_length();this.mDefaultFrameDuration=1/b;this.mPlaying=
this.mLoop=!0;this.mCurrentFrame=this.mCurrentTime=0;this.mWasStopped=!0;this.mTextures=a.concat(null);this.mSounds=E.toObjectVector(null,c);this.mDurations=E.toFloatVector(null,c);this.mStartTimes=E.toFloatVector(null,c);for(var d=0;d<c;){var e=d++;this.mDurations.set(e,this.mDefaultFrameDuration);this.mStartTimes.set(e,e*this.mDefaultFrameDuration)}},setFrameSound:function(a,b){if(0>a||a>=this.get_numFrames())throw new m(new la("Invalid frame id"));this.mSounds.set(a,b)},playSound:function(a){this.mMuted||
null==this.mSounds.get(a)||this.mSounds.get(a).play(0,0,this.mSoundTransform)},advanceTime:function(a){if(this.mPlaying&&!(0>=a)){var b=this.mCurrentFrame,c=0,d=!1,e=this.get_totalTime();this.mWasStopped&&(this.mWasStopped=!1,this.playSound(this.mCurrentFrame));this.mLoop&&this.mCurrentTime>=e&&(this.mCurrentFrame=this.mCurrentTime=0);if(this.mCurrentTime<e){this.mCurrentTime+=a;for(a=this.mTextures.get_length()-1;this.mCurrentTime>this.mStartTimes.get(this.mCurrentFrame)+this.mDurations.get(this.mCurrentFrame);){if(this.mCurrentFrame==
a)if(this.mLoop&&!this.hasEventListener("complete"))this.mCurrentTime-=e,this.mCurrentFrame=0;else{c=this.mCurrentTime-e;d=!0;this.mCurrentFrame=a;this.mCurrentTime=e;break}else this.mCurrentFrame++;null!=this.mSounds.get(this.mCurrentFrame)&&this.playSound(this.mCurrentFrame)}this.mCurrentFrame==a&&this.mCurrentTime==e&&(d=!0)}this.mCurrentFrame!=b&&this.set_texture(this.mTextures.get(this.mCurrentFrame));d&&this.dispatchEventWith("complete");this.mLoop&&0<c&&this.advanceTime(c)}},get_totalTime:function(){var a=
this.mTextures.get_length();return this.mStartTimes.get(a-1)+this.mDurations.get(a-1)},get_numFrames:function(){return this.mTextures.get_length()},__class__:Ud,__properties__:r(Ba.prototype.__properties__,{get_numFrames:"get_numFrames",get_totalTime:"get_totalTime"})});var xa=function(a){null==a&&(a=!1);N.call(this);this.mVertexData=new ia(0,!0);this.mIndexData=E.toIntVector(null);this.mNumQuads=0;this.mOwnsTexture=this.mBatchable=this.mSyncRequired=this.mTinted=!1;a&&(a=A.get_current().get_profile(),
this.mForceTinted=1!=a&&0!=a);A.get_current().get_stage3D().addEventListener("context3DCreate",l(this,this.onContextCreated),!1,0,!0)};h["starling.display.QuadBatch"]=xa;xa.__name__=["starling","display","QuadBatch"];xa.compile=function(a,b){xa.compileObject(a,b,-1,new U)};xa.optimize=function(a){for(var b,c,d=0,e=a.get_length();d<e;){c=d++;b=a.get(c);for(var f=c+1;f<a.get_length();)c=a.get(f),b.isStateChange(c.get_tinted(),1,c.get_texture(),c.get_smoothing(),c.get_blendMode(),c.get_numQuads())?++f:
(b.addQuadBatch(c),c.dispose(),a.splice(f,1))}};xa.compileObject=function(a,b,c,d,e,f,g){null==g&&(g=!1);null==e&&(e=1);if(u.__instanceof(a,Ab))throw new m(new ma("Sprite3D objects cannot be flattened"));var h=!1,k=a.get_alpha(),l;l=u.__instanceof(a,F)?a:null;var p;p=u.__instanceof(a,Ea)?a:null;var r;r=u.__instanceof(a,xa)?a:null;var q=a.get_filter();if(-1==c)if(h=!0,c=0,k=1,f=a.get_blendMode(),g=!0,0==b.get_length()){var t=new xa(!0);b.set(0,t)}else b.get(0).reset(),b.get(0).set_ownsTexture(!1);
else null!=a.get_mask()&&Na.trace("[Starling] Masks are ignored on children of a flattened sprite.",{fileName:"QuadBatch.hx",lineNumber:577,className:"starling.display.QuadBatch",methodName:"compileObject"}),u.__instanceof(a,ya)&&null!=u.__cast(a,ya).get_clipRect()&&Na.trace("[Starling] ClipRects are ignored on children of a flattened sprite.",{fileName:"QuadBatch.hx",lineNumber:580,className:"starling.display.QuadBatch",methodName:"compileObject"});if(null==q||g)if(null!=l)for(p=l.get_numChildren(),
r=new U,a=0;a<p;)g=a++,g=l.getChildAt(g),g.get_hasVisibleArea()&&(q="auto"==g.get_blendMode()?f:g.get_blendMode(),r.copyFrom(d),P.transformMatrixForObject(r,g),c=xa.compileObject(g,b,c,r,e*k,q));else if(null!=p||null!=r)null!=p?(a=u.__instanceof(p,Ba)?p:null,l=null!=a?a.get_texture():null,a=null!=a?a.get_smoothing():null,q=p.get_tinted(),t=1):(l=r.mTexture,a=r.mSmoothing,q=r.mTinted,t=r.mNumQuads),g=b.get(c),g.isStateChange(q,e*k,l,a,f,t)&&(c++,b.get_length()<=c&&(k=new xa(!0),b.push(k)),g=b.get(c),
g.reset(),g.set_ownsTexture(!1)),null!=p?g.addQuad(p,e,l,a,d,f):g.addQuadBatch(r,e,d,f);else throw new m(new ga("Unsupported display object: "+Bb.getClassName(null==a?null:u.getClass(a))));else"above"==q.get_mode()&&(c=xa.compileObject(a,b,c,d,e,f,!0)),c=xa.compileObject(q.compile(a),b,c,d,e,f),b.get(c).set_ownsTexture(!0),"below"==q.get_mode()&&(c=xa.compileObject(a,b,c,d,e,f,!0));if(h)for(d=b.get_length()-1;d>c;)b.pop().dispose(),--d;return c};xa.getImageProgramName=function(a,b,c,d,e){null==e&&
(e="bilinear");null==c&&(c=!1);null==b&&(b=!0);null==d&&(d=1);var f=0;a&&(f|=1);b&&(f|=2);c&&(f|=4);"none"==e?f|=8:"trilinear"==e&&(f|=16);3==d?f|=32:4==d&&(f|=64);a=xa.sProgramNameCache.h[f];null==a&&(a="QB_i."+da.hex(f),xa.sProgramNameCache.h[f]=a,a);return a};xa.__super__=N;xa.prototype=r(N.prototype,{dispose:function(){A.get_current().get_stage3D().removeEventListener("context3DCreate",l(this,this.onContextCreated));this.destroyBuffers();this.mVertexData.set_numVertices(0);this.mIndexData=null;
this.mNumQuads=0;null!=this.mTexture&&this.mOwnsTexture&&this.mTexture.dispose();N.prototype.dispose.call(this)},onContextCreated:function(a){this.createBuffers()},expand:function(){var a=this.get_capacity();if(16383<=a)throw new m(new ga("Exceeded maximum number of quads!"));this.set_capacity(8>a?16:2*a)},createBuffers:function(){this.destroyBuffers();var a=this.mVertexData.get_numVertices(),b=this.mIndexData.get_length(),c=A.get_current().get_context();if(0!=a){if(null==c)throw new m(new gc);this.mVertexBuffer=
c.createVertexBuffer(a,8);this.mVertexBuffer.uploadFromVector(this.mVertexData.get_rawData(),0,a);this.mIndexBuffer=c.createIndexBuffer(b);this.mIndexBuffer.uploadFromVector(this.mIndexData,0,b);this.mSyncRequired=!1}},destroyBuffers:function(){null!=this.mVertexBuffer&&(this.mVertexBuffer.dispose(),this.mVertexBuffer=null);null!=this.mIndexBuffer&&(this.mIndexBuffer.dispose(),this.mIndexBuffer=null)},syncBuffers:function(){null==this.mVertexBuffer?this.createBuffers():(this.mVertexBuffer.uploadFromVector(this.mVertexData.get_rawData(),
0,this.mVertexData.get_numVertices()),this.mSyncRequired=!1)},renderCustom:function(a,b,c){null==b&&(b=1);if(0!=this.mNumQuads){this.mSyncRequired&&this.syncBuffers();var d=this.mVertexData.get_premultipliedAlpha(),e=A.get_current().get_context(),f=this.mTinted||1!=b,g;g=xa.sRenderAlpha.set(2,d?b:1);g=xa.sRenderAlpha.set(1,g);xa.sRenderAlpha.set(0,g);xa.sRenderAlpha.set(3,b);P.setBlendFactors(d,null!=c?c:this.get_blendMode());e.setProgram(this.getProgram(f));f&&e.setProgramConstantsFromVector(1,0,
xa.sRenderAlpha,1);e.setProgramConstantsFromMatrix(1,1,a,!0);e.setVertexBufferAt(0,this.mVertexBuffer,0,2);(null==this.mTexture||f)&&e.setVertexBufferAt(1,this.mVertexBuffer,2,4);null!=this.mTexture&&(e.setTextureAt(0,this.mTexture.get_base()),e.setVertexBufferAt(2,this.mVertexBuffer,6,2));e.drawTriangles(this.mIndexBuffer,0,2*this.mNumQuads);null!=this.mTexture&&(e.setTextureAt(0,null),e.setVertexBufferAt(2,null));e.setVertexBufferAt(1,null);e.setVertexBufferAt(0,null)}},reset:function(){null!=this.mTexture&&
this.mOwnsTexture&&this.mTexture.dispose();this.mNumQuads=0;this.mSmoothing=this.mTexture=null;this.mSyncRequired=!0},addImage:function(a,b,c,d){null==b&&(b=1);this.addQuad(a,b,a.get_texture(),a.get_smoothing(),c,d)},addQuad:function(a,b,c,d,e,f){null==b&&(b=1);null==e&&(e=a.get_transformationMatrix());var g=b*a.get_alpha(),h=4*this.mNumQuads;this.mNumQuads+1>this.mVertexData.get_numVertices()/4&&this.expand();0==this.mNumQuads&&(this.set_blendMode(null!=f?f:a.get_blendMode()),this.mTexture=c,this.mTinted=
this.mForceTinted||a.get_tinted()||1!=b,this.mSmoothing=d,this.mVertexData.setPremultipliedAlpha(a.get_premultipliedAlpha()));a.copyVertexDataTransformedTo(this.mVertexData,h,e);1!=g&&this.mVertexData.scaleAlpha(h,g,4);this.mSyncRequired=!0;this.mNumQuads++},addQuadBatch:function(a,b,c,d){null==b&&(b=1);null==c&&(c=a.get_transformationMatrix());var e=b*a.get_alpha(),f=4*this.mNumQuads,g=a.get_numQuads();this.mNumQuads+g>this.get_capacity()&&this.set_capacity(this.mNumQuads+g);0==this.mNumQuads&&(this.set_blendMode(null!=
d?d:a.get_blendMode()),this.mTexture=a.mTexture,this.mTinted=this.mForceTinted||a.mTinted||1!=b,this.mSmoothing=a.mSmoothing,this.mVertexData.setPremultipliedAlpha(a.mVertexData.get_premultipliedAlpha(),!1));a.mVertexData.copyTransformedTo(this.mVertexData,f,c,0,4*g);1!=e&&this.mVertexData.scaleAlpha(f,e,4*g);this.mSyncRequired=!0;this.mNumQuads+=g},isStateChange:function(a,b,c,d,e,f){null==f&&(f=1);return 0==this.mNumQuads?!1:16383<this.mNumQuads+f?!0:null==this.mTexture&&null==c?this.get_blendMode()!=
e:null!=this.mTexture&&null!=c?this.mTexture.get_base()!=c.get_base()||this.mTexture.get_repeat()!=c.get_repeat()||this.mSmoothing!=d||this.mTinted!=(this.mForceTinted||a||1!=b)||this.get_blendMode()!=e:!0},getBounds:function(a,b){null==b&&(b=new I);var c;c=a==this?null:this.getTransformationMatrix(a,xa.sHelperMatrix);return this.mVertexData.getBounds(c,0,4*this.mNumQuads,b)},render:function(a,b){0!=this.mNumQuads&&(this.mBatchable?a.batchQuadBatch(this,b):(a.finishQuadBatch(),a.raiseDrawCount(),
this.renderCustom(a.get_mvpMatrix3D(),this.get_alpha()*b,a.get_blendMode())))},get_numQuads:function(){return this.mNumQuads},get_tinted:function(){return this.mTinted||this.mForceTinted},get_texture:function(){return this.mTexture},get_smoothing:function(){return this.mSmoothing},set_batchable:function(a){return this.mBatchable=a},set_ownsTexture:function(a){return this.mOwnsTexture=a},get_capacity:function(){return w["int"](this.mVertexData.get_numVertices()/4)},set_capacity:function(a){var b=this.get_capacity();
if(a==b)return w["int"](this.mVertexData.get_numVertices()/4);if(0==a)throw new m(new ga("Capacity must be > 0"));16383<a&&(a=16383);this.mNumQuads>a&&(this.mNumQuads=a);this.mVertexData.set_numVertices(4*a);for(this.mIndexData.set_length(6*a);b<a;){var c=b++;this.mIndexData.set(6*c,4*c);this.mIndexData.set(6*c+1,4*c+1);this.mIndexData.set(6*c+2,4*c+2);this.mIndexData.set(6*c+3,4*c+1);this.mIndexData.set(6*c+4,4*c+3);this.mIndexData.set(6*c+5,4*c+2)}this.destroyBuffers();this.mSyncRequired=!0;return w["int"](this.mVertexData.get_numVertices()/
4)},getProgram:function(a){var b=A.get_current(),c="QB_q";null!=this.mTexture&&(c=xa.getImageProgramName(a,this.mTexture.get_mipMapping(),this.mTexture.get_repeat(),this.mTexture.get_format(),this.mSmoothing));var d=b.getProgram(c);null==d&&(null==this.mTexture?(d="m44 op, va0, vc1 \nmul v0, va1, vc0 \n",a="mov oc, v0       \n"):(d=a?"m44 op, va0, vc1 \nmul v0, va1, vc0 \nmov v1, va2      \n":"m44 op, va0, vc1 \nmov v1, va2      \n",a=da.replace(a?"tex ft1,  v1, fs0 <???> \nmul  oc, ft1,  v0       \n":
"tex  oc,  v1, fs0 <???> \n","<???>",P.getTextureLookupFlags(this.mTexture.get_format(),this.mTexture.get_mipMapping(),this.mTexture.get_repeat(),this.get_smoothing()))),d=b.registerProgramFromSource(c,d,a));return d},__class__:xa,__properties__:r(N.prototype.__properties__,{set_capacity:"set_capacity",get_capacity:"get_capacity",set_ownsTexture:"set_ownsTexture",set_batchable:"set_batchable",get_smoothing:"get_smoothing",get_texture:"get_texture",get_tinted:"get_tinted",get_numQuads:"get_numQuads"})});
var Ab=function(){F.call(this);this.mScaleZ=1;this.mRotationX=this.mRotationY=this.mPivotZ=this.mZ=0;this.mTransformationMatrix=new U;this.mTransformationMatrix3D=new ib;this.setIs3D(!0);this.addEventListener("added",l(this,this.onAddedChild));this.addEventListener("removed",l(this,this.onRemovedChild))};h["starling.display.Sprite3D"]=Ab;Ab.__name__=["starling","display","Sprite3D"];Ab.__super__=F;Ab.prototype=r(F.prototype,{render:function(a,b){-1E-5<this.mZ&&1E-5>this.mZ&&-1E-5<this.mRotationX&&
1E-5>this.mRotationX&&-1E-5<this.mRotationY&&1E-5>this.mRotationY&&-1E-5<this.mPivotZ&&1E-5>this.mPivotZ?F.prototype.render.call(this,a,b):(a.finishQuadBatch(),a.pushMatrix3D(),a.transformMatrix3D(this),F.prototype.render.call(this,a,b),a.finishQuadBatch(),a.popMatrix3D())},hitTest:function(a,b){null==b&&(b=!1);if(!(-1E-5<this.mZ&&1E-5>this.mZ&&-1E-5<this.mRotationX&&1E-5>this.mRotationX&&-1E-5<this.mRotationY&&1E-5>this.mRotationY&&-1E-5<this.mPivotZ&&1E-5>this.mPivotZ)){if(b&&(!this.get_visible()||
!this.get_touchable()))return null;Ab.sHelperMatrix.copyFrom(this.get_transformationMatrix3D());Ab.sHelperMatrix.invert();this.get_stage().getCameraPosition(this,Ab.sHelperPoint);J.transformCoords3D(Ab.sHelperMatrix,a.x,a.y,0,Ab.sHelperPointAlt);cb.intersectLineWithXYPlane(Ab.sHelperPoint,Ab.sHelperPointAlt,a)}return F.prototype.hitTest.call(this,a,b)},onAddedChild:function(a){this.recursivelySetIs3D(u.__cast(a.target,N),!0)},onRemovedChild:function(a){this.recursivelySetIs3D(u.__cast(a.target,N),
!1)},recursivelySetIs3D:function(a,b){if(!u.__instanceof(a,Ab)){if(u.__instanceof(a,F))for(var c=a.get_numChildren(),d=0;d<c;){var e=d++;this.recursivelySetIs3D(a.getChildAt(e),b)}a.setIs3D(b)}},updateMatrices:function(){var a=this.get_x(),b=this.get_y(),c=this.get_scaleX(),d=this.get_scaleY(),e=this.get_pivotX(),f=this.get_pivotY(),g=this.get_rotation();this.mTransformationMatrix3D.identity();1==c&&1==d&&1==this.mScaleZ||this.mTransformationMatrix3D.appendScale(this.mScaleX,this.mScaleY,this.mScaleZ);
0!=this.mRotationX&&this.mTransformationMatrix3D.appendRotation(cb.rad2deg(this.mRotationX),new Fb(1,0,0));0!=this.mRotationY&&this.mTransformationMatrix3D.appendRotation(cb.rad2deg(this.mRotationY),new Fb(0,1,0));0!=g&&this.mTransformationMatrix3D.appendRotation(cb.rad2deg(g),new Fb(0,0,1));0==a&&0==b&&0==this.mZ||this.mTransformationMatrix3D.appendTranslation(a,b,this.mZ);0==e&&0==f&&0==this.mPivotZ||this.mTransformationMatrix3D.prependTranslation(-e,-f,-this.mPivotZ);-1E-5<this.mZ&&1E-5>this.mZ&&
-1E-5<this.mRotationX&&1E-5>this.mRotationX&&-1E-5<this.mRotationY&&1E-5>this.mRotationY&&-1E-5<this.mPivotZ&&1E-5>this.mPivotZ?J.convertTo2D(this.mTransformationMatrix3D,this.mTransformationMatrix):this.mTransformationMatrix.identity()},get_transformationMatrix:function(){this.mTransformationChanged&&(this.updateMatrices(),this.mTransformationChanged=!1);return this.mTransformationMatrix},get_transformationMatrix3D:function(){this.mTransformationChanged&&(this.updateMatrices(),this.mTransformationChanged=
!1);return this.mTransformationMatrix3D},set_x:function(a){F.prototype.set_x.call(this,a);this.mTransformationChanged=!0;return F.prototype.get_x.call(this)},set_y:function(a){F.prototype.set_y.call(this,a);this.mTransformationChanged=!0;return F.prototype.get_y.call(this)},get_z:function(){return this.mZ},set_z:function(a){this.mZ=a;this.mTransformationChanged=!0;return this.mZ},set_pivotX:function(a){F.prototype.set_pivotX.call(this,a);this.mTransformationChanged=!0;return F.prototype.get_pivotX.call(this)},
set_pivotY:function(a){F.prototype.set_pivotY.call(this,a);this.mTransformationChanged=!0;return F.prototype.get_pivotY.call(this)},get_pivotZ:function(){return this.mPivotZ},set_pivotZ:function(a){this.mPivotZ=a;this.mTransformationChanged=!0;return this.mPivotZ},set_scaleX:function(a){F.prototype.set_scaleX.call(this,a);this.mTransformationChanged=!0;return F.prototype.get_scaleX.call(this)},set_scaleY:function(a){F.prototype.set_scaleY.call(this,a);this.mTransformationChanged=!0;return F.prototype.get_scaleY.call(this)},
get_scaleZ:function(){return this.mScaleZ},set_scaleZ:function(a){this.mScaleZ=a;this.mTransformationChanged=!0;return this.mScaleZ},set_rotation:function(a){F.prototype.set_rotation.call(this,a);this.mTransformationChanged=!0;return F.prototype.get_rotation.call(this)},get_rotationX:function(){return this.mRotationX},set_rotationX:function(a){this.mRotationX=cb.normalizeAngle(a);this.mTransformationChanged=!0;return this.mRotationX},get_rotationY:function(){return this.mRotationY},set_rotationY:function(a){this.mRotationY=
cb.normalizeAngle(a);this.mTransformationChanged=!0;return this.mRotationY},get_rotationZ:function(){return this.get_rotation()},set_rotationZ:function(a){return this.set_rotation(a)},__class__:Ab,__properties__:r(F.prototype.__properties__,{set_rotationZ:"set_rotationZ",get_rotationZ:"get_rotationZ",set_rotationY:"set_rotationY",get_rotationY:"get_rotationY",set_rotationX:"set_rotationX",get_rotationX:"get_rotationX",set_scaleZ:"set_scaleZ",get_scaleZ:"get_scaleZ",set_pivotZ:"set_pivotZ",get_pivotZ:"get_pivotZ",
set_z:"set_z",get_z:"get_z"})});var lc=function(a,b,c){null==c&&(c=0);F.call(this);this.mWidth=a;this.mHeight=b;this.mColor=c;this.mFieldOfView=1;this.mProjectionOffset=new fa;this.mCameraPosition=new Fb;this.mEnterFrameEvent=new Vd("enterFrame",0);this.mEnterFrameListeners=E.toObjectVector(null)};h["starling.display.Stage"]=lc;lc.__name__=["starling","display","Stage"];lc.__super__=F;lc.prototype=r(F.prototype,{advanceTime:function(a){this.mEnterFrameEvent.reset("enterFrame",!1,a);this.broadcastEvent(this.mEnterFrameEvent)},
hitTest:function(a,b){null==b&&(b=!1);if(b&&(!this.get_visible()||!this.get_touchable())||0>a.x||a.x>this.mWidth||0>a.y||a.y>this.mHeight)return null;var c=F.prototype.hitTest.call(this,a,b);null==c&&(c=this);return c},getCameraPosition:function(a,b){this.getTransformationMatrix3D(a,lc.sHelperMatrix);return J.transformCoords3D(lc.sHelperMatrix,this.mWidth/2+this.mProjectionOffset.x,this.mHeight/2+this.mProjectionOffset.y,-this.get_focalLength(),b)},addEnterFrameListener:function(a){this.mEnterFrameListeners.push(a)},
removeEnterFrameListener:function(a){a=this.mEnterFrameListeners.indexOf(a,0);0<=a&&this.mEnterFrameListeners.splice(a,1)},getChildEventListeners:function(a,b,c){if("enterFrame"==b&&a==this)for(a=this.mEnterFrameListeners.get_length(),b=0;b<a;){var d=b++,e=c.get_length(),d=this.mEnterFrameListeners.get(d);c.set(e,d)}else F.prototype.getChildEventListeners.call(this,a,b,c)},set_width:function(a){throw new m(new ma("Cannot set width of stage"));},set_height:function(a){throw new m(new ma("Cannot set height of stage"));
},set_x:function(a){throw new m(new ma("Cannot set x-coordinate of stage"));},set_y:function(a){throw new m(new ma("Cannot set y-coordinate of stage"));},set_scaleX:function(a){throw new m(new ma("Cannot scale stage"));},set_scaleY:function(a){throw new m(new ma("Cannot scale stage"));},set_rotation:function(a){throw new m(new ma("Cannot rotate stage"));},set_filter:function(a){throw new m(new ma("Cannot add filter to stage. Add it to 'root' instead!"));},get_color:function(){return this.mColor},
get_stageWidth:function(){return this.mWidth},set_stageWidth:function(a){return this.mWidth=a},get_stageHeight:function(){return this.mHeight},set_stageHeight:function(a){return this.mHeight=a},get_focalLength:function(){return this.mWidth/(2*Math.tan(this.mFieldOfView/2))},get_cameraPosition:function(){return this.getCameraPosition(null,this.mCameraPosition)},__class__:lc,__properties__:r(F.prototype.__properties__,{get_cameraPosition:"get_cameraPosition",get_focalLength:"get_focalLength",set_stageHeight:"set_stageHeight",
get_stageHeight:"get_stageHeight",set_stageWidth:"set_stageWidth",get_stageWidth:"get_stageWidth",get_color:"get_color"})});var Bd=function(a,b){null==b&&(b=0);null==a&&(a="Method needs to be implemented in subclass");ga.call(this,a,b)};h["starling.errors.AbstractMethodError"]=Bd;Bd.__name__=["starling","errors","AbstractMethodError"];Bd.__super__=ga;Bd.prototype=r(ga.prototype,{__class__:Bd});var gc=function(a,b){null==b&&(b=0);null==a&&(a="Starling context is missing");ga.call(this,a,b)};h["starling.errors.MissingContextError"]=
gc;gc.__name__=["starling","errors","MissingContextError"];gc.__super__=ga;gc.prototype=r(ga.prototype,{__class__:gc});var nf=function(a,b){null==b&&(b=0);null==a&&(a="");ga.call(this,a,b)};h["starling.errors.NotSupportedError"]=nf;nf.__name__=["starling","errors","NotSupportedError"];nf.__super__=ga;nf.prototype=r(ga.prototype,{__class__:nf});var Wa=function(a,b,c){null==b&&(b=!1);this.type=a;this.bubbles=b;this.data=c};h["starling.events.Event"]=Wa;Wa.__name__=["starling","events","Event"];Wa.fromPool=
function(a,b,c){null==b&&(b=!1);return 0!=Wa.sEventPool.get_length()?Wa.sEventPool.pop().reset(a,b,c):new Wa(a,b,c)};Wa.toPool=function(a){a.data=a.target=a.currentTarget=null;var b=Wa.sEventPool.get_length();Wa.sEventPool.set(b,a)};Wa.prototype={setTarget:function(a){this.target=a},setCurrentTarget:function(a){this.currentTarget=a},reset:function(a,b,c){null==b&&(b=!1);this.type=a;this.bubbles=b;this.data=c;this.target=this.currentTarget=null;this.stopsPropagation=this.stopsImmediatePropagation=
!1;return this},__class__:Wa};var Vd=function(a,b,c){null==c&&(c=!1);Wa.call(this,a,c,b)};h["starling.events.EnterFrameEvent"]=Vd;Vd.__name__=["starling","events","EnterFrameEvent"];Vd.__super__=Wa;Vd.prototype=r(Wa.prototype,{get_passedTime:function(){return this.data},__class__:Vd,__properties__:{get_passedTime:"get_passedTime"}});var kf=function(a,b,c,d,e,f,g){null==g&&(g=!1);null==f&&(f=!1);null==e&&(e=!1);null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);Wa.call(this,a,!1,c);this.mCharCode=b;this.mKeyCode=
c;this.mKeyLocation=d;this.mCtrlKey=e;this.mAltKey=f;this.mShiftKey=g};h["starling.events.KeyboardEvent"]=kf;kf.__name__=["starling","events","KeyboardEvent"];kf.__super__=Wa;kf.prototype=r(Wa.prototype,{isDefaultPrevented:function(){return this.mIsDefaultPrevented},get_keyCode:function(){return this.mKeyCode},__class__:kf,__properties__:{get_keyCode:"get_keyCode"}});var lf=function(a,b,c,d){null==d&&(d=!1);Wa.call(this,a,d,new fa(b,c))};h["starling.events.ResizeEvent"]=lf;lf.__name__=["starling",
"events","ResizeEvent"];lf.__super__=Wa;lf.prototype=r(Wa.prototype,{__class__:lf});var hc=function(a){this.mID=a;this.mTapCount=0;this.mPhase="hover";this.mPressure=this.mWidth=this.mHeight=1;this.mBubbleChain=E.toObjectVector(null)};h["starling.events.Touch"]=hc;hc.__name__=["starling","events","Touch"];hc.prototype={getLocation:function(a,b){hc.sHelperPoint.setTo(this.mGlobalX,this.mGlobalY);return a.globalToLocal(hc.sHelperPoint,b)},getPreviousLocation:function(a,b){hc.sHelperPoint.setTo(this.mPreviousGlobalX,
this.mPreviousGlobalY);return a.globalToLocal(hc.sHelperPoint,b)},getMovement:function(a,b){null==b&&(b=new fa);this.getLocation(a,b);var c=b.x,d=b.y;this.getPreviousLocation(a,b);b.setTo(c-b.x,d-b.y);return b},isTouching:function(a){return-1!=this.mBubbleChain.indexOf(a,0)},clone:function(){var a=new hc(this.mID);a.mGlobalX=this.mGlobalX;a.mGlobalY=this.mGlobalY;a.mPreviousGlobalX=this.mPreviousGlobalX;a.mPreviousGlobalY=this.mPreviousGlobalY;a.mPhase=this.mPhase;a.mTapCount=this.mTapCount;a.mTimestamp=
this.mTimestamp;a.mPressure=this.mPressure;a.mWidth=this.mWidth;a.mHeight=this.mHeight;a.mCancelled=this.mCancelled;a.set_target(this.mTarget);return a},updateBubbleChain:function(){if(null!=this.mTarget){var a=1,b=this.mTarget;this.mBubbleChain.set_length(1);for(this.mBubbleChain.set(0,b);null!=(b=b.get_parent());){var c=a++;this.mBubbleChain.set(c,b)}}else this.mBubbleChain.set_length(0)},get_id:function(){return this.mID},get_globalX:function(){return this.mGlobalX},set_globalX:function(a){this.mPreviousGlobalX=
this.mGlobalX!=this.mGlobalX?a:this.mGlobalX;return this.mGlobalX=a},get_globalY:function(){return this.mGlobalY},set_globalY:function(a){this.mPreviousGlobalY=this.mGlobalY!=this.mGlobalY?a:this.mGlobalY;return this.mGlobalY=a},get_tapCount:function(){return this.mTapCount},set_tapCount:function(a){return this.mTapCount=a},get_phase:function(){return this.mPhase},set_phase:function(a){return this.mPhase=a},get_target:function(){return this.mTarget},set_target:function(a){this.mTarget!=a&&(this.mTarget=
a,this.updateBubbleChain());return this.mTarget},get_timestamp:function(){return this.mTimestamp},set_timestamp:function(a){return this.mTimestamp=a},set_pressure:function(a){return this.mPressure=a},set_width:function(a){return this.mWidth=a},set_height:function(a){return this.mHeight=a},get_cancelled:function(){return this.mCancelled},set_cancelled:function(a){return this.mCancelled=a},dispatchEvent:function(a){null!=this.mTarget&&a.dispatch(this.mBubbleChain)},get_bubbleChain:function(){return this.mBubbleChain.copy()},
__class__:hc,__properties__:{get_bubbleChain:"get_bubbleChain",set_cancelled:"set_cancelled",get_cancelled:"get_cancelled",set_height:"set_height",set_width:"set_width",set_pressure:"set_pressure",set_timestamp:"set_timestamp",get_timestamp:"get_timestamp",set_target:"set_target",get_target:"get_target",set_phase:"set_phase",get_phase:"get_phase",set_tapCount:"set_tapCount",get_tapCount:"get_tapCount",set_globalY:"set_globalY",get_globalY:"get_globalY",set_globalX:"set_globalX",get_globalX:"get_globalX",
get_id:"get_id"}};var Nb=function(a,b,c,d,e){null==e&&(e=!0);null==d&&(d=!1);null==c&&(c=!1);Wa.call(this,a,e,b);this.mShiftKey=c;this.mCtrlKey=d;this.mTimestamp=-1;this.mVisitedObjects=E.toObjectVector(null);a=b.get_length();for(c=0;c<a;)d=c++,b.get(d).get_timestamp()>this.mTimestamp&&(this.mTimestamp=b.get(d).get_timestamp())};h["starling.events.TouchEvent"]=Nb;Nb.__name__=["starling","events","TouchEvent"];Nb.__super__=Wa;Nb.prototype=r(Wa.prototype,{getTouches:function(a,b,c){null==c&&(c=E.toObjectVector(null));
for(var d=this.data,e=d.get_length(),f=0;f<e;){var g=f++,g=u.__cast(d.get(g),hc),h=g.isTouching(a),k=null==b||b==g.get_phase();h&&k&&(h=c.get_length(),c.set(h,g))}return c},getTouch:function(a,b,c){null==c&&(c=-1);this.getTouches(a,b,Nb.sTouches);a=Nb.sTouches.get_length();if(0<a){b=null;if(0>c)b=Nb.sTouches.get(0);else for(var d=0;d<a;){var e=d++;if(Nb.sTouches.get(e).get_id()==c){b=Nb.sTouches.get(e);break}}Nb.sTouches.set_length(0);return b}return null},interactsWith:function(a){var b=!1;this.getTouches(a,
null,Nb.sTouches);for(a=Nb.sTouches.get_length()-1;0<=a;){if("ended"!=Nb.sTouches.get(a).get_phase()){b=!0;break}--a}Nb.sTouches.set_length(0);return b},dispatch:function(a){if(null!=a&&0!=a.get_length()){var b;b=this.bubbles?a.get_length():1;var c=this.target;this.setTarget(a.get(0));for(var d=0;d<b;){var e=d++,e=u.__cast(a.get(e),bb);if(-1==this.mVisitedObjects.indexOf(e,0)){var f=e.invokeEvent(this),g=this.mVisitedObjects.get_length();this.mVisitedObjects.set(g,e);if(f)break}}this.setTarget(c)}},
__class__:Nb});var of=function(){F.call(this);this.mCenter=new fa;this.mTexture=this.createTexture();for(var a=0;2>a;){a++;var b=new Ba(this.mTexture);b.set_pivotX(this.mTexture.get_width()/2);b.set_pivotY(this.mTexture.get_height()/2);b.set_touchable(!1);this.addChild(b)}};h["starling.events.TouchMarker"]=of;of.__name__=["starling","events","TouchMarker"];of.__super__=ya;of.prototype=r(ya.prototype,{dispose:function(){this.mTexture.dispose();ya.prototype.dispose.call(this)},moveMarker:function(a,
b,c){null==c&&(c=!1);c&&(this.mCenter.x+=a-this.get_realMarker().get_x(),this.mCenter.y+=b-this.get_realMarker().get_y());this.get_realMarker().set_x(a);this.get_realMarker().set_y(b);this.get_mockMarker().set_x(2*this.mCenter.x-a);this.get_mockMarker().set_y(2*this.mCenter.y-b)},moveCenter:function(a,b){this.mCenter.x=a;this.mCenter.y=b;this.moveMarker(this.get_realX(),this.get_realY())},createTexture:function(){var a=A.get_current().get_contentScaleFactor(),b=12*a,c=32*a|0,d=32*a|0,e=1.5*a,f=new Pd;
f.get_graphics().lineStyle(e,0,.3);f.get_graphics().drawCircle(c/2,d/2,b+e);f.get_graphics().beginFill(16777215,.4);f.get_graphics().lineStyle(e,16777215);f.get_graphics().drawCircle(c/2,d/2,b);f.get_graphics().endFill();b=new vb(c,d,!0,0);b.draw(f);return Ia.fromBitmapData(b,!1,!1,a)},get_realMarker:function(){return u.__cast(this.getChildAt(0),Ba)},get_mockMarker:function(){return u.__cast(this.getChildAt(1),Ba)},get_realX:function(){return this.get_realMarker().get_x()},get_realY:function(){return this.get_realMarker().get_y()},
get_mockX:function(){return this.get_mockMarker().get_x()},get_mockY:function(){return this.get_mockMarker().get_y()},__class__:of,__properties__:r(ya.prototype.__properties__,{get_mockY:"get_mockY",get_mockX:"get_mockX",get_realY:"get_realY",get_realX:"get_realX",get_mockMarker:"get_mockMarker",get_realMarker:"get_realMarker"})});var xb=function(a){this.mMultitapDistance=25;this.mMultitapTime=.3;this.mShiftDown=this.mCtrlDown=!1;this.mRoot=this.mStage=a;this.mElapsedTime=0;this.mCurrentTouches=E.toObjectVector(null);
this.mQueue=E.toObjectVector(null);this.mLastTaps=E.toObjectVector(null);this.mStage.addEventListener("keyDown",l(this,this.onKey));this.mStage.addEventListener("keyUp",l(this,this.onKey));this.monitorInterruptions(!0)};h["starling.events.TouchProcessor"]=xb;xb.__name__=["starling","events","TouchProcessor"];xb.prototype={advanceTime:function(a){this.mElapsedTime+=a;xb.sUpdatedTouches.set_length(0);if(0<this.mLastTaps.get_length())for(a=this.mLastTaps.get_length()-1;0<=a;)this.mElapsedTime-this.mLastTaps.get(a).get_timestamp()>
this.mMultitapTime&&this.mLastTaps.splice(a,1),--a;for(;0<this.mQueue.get_length();){a=0;for(var b=this.mCurrentTouches;a<b.get_length();){var c=b.get(a);++a;"began"!=c.get_phase()&&"moved"!=c.get_phase()||c.set_phase("stationary")}for(;0<this.mQueue.get_length()&&!this.containsTouchWithID(xb.sUpdatedTouches,function(a){var b=a.mQueue.get_length()-1;return a.mQueue.get(b)}(this)[0]);)a=this.mQueue.pop(),a=this.createOrUpdateTouch(a[0],a[1],a[2],a[3],a[4],a[5],a[6]),b=xb.sUpdatedTouches.get_length(),
xb.sUpdatedTouches.set(b,a);this.processTouches(xb.sUpdatedTouches,this.mShiftDown,this.mCtrlDown);for(a=this.mCurrentTouches.get_length()-1;0<=a;)"ended"==this.mCurrentTouches.get(a).get_phase()&&this.mCurrentTouches.splice(a,1),--a;xb.sUpdatedTouches=E.toObjectVector(null)}},processTouches:function(a,b,c){xb.sHoveringTouchData.set_length(0);b=new Nb("touch",this.mCurrentTouches,b,c);for(c=0;c<a.get_length();){var d=a.get(c);++c;if("hover"==d.get_phase()&&null!=d.get_target()){var e=xb.sHoveringTouchData.get_length(),
f={touch:d,target:d.get_target(),bubbleChain:d.get_bubbleChain()};xb.sHoveringTouchData.set(e,f)}if("hover"==d.get_phase()||"began"==d.get_phase())xb.sHelperPoint.setTo(d.get_globalX(),d.get_globalY()),d.set_target(this.mRoot.hitTest(xb.sHelperPoint,!0))}c=0;for(d=xb.sHoveringTouchData;c<d.get_length();)e=d.get(c),++c,u.__cast(e.touch,hc).get_target()!=e.target&&b.dispatch(e.bubbleChain);for(c=0;c<a.get_length();)d=a.get(c),++c,d.dispatchEvent(b)},enqueue:function(a,b,c,d,e,f,g){null==g&&(g=1);null==
f&&(f=1);null==e&&(e=1);this.mQueue.unshift([a,b,c,d,e,f,g]);this.mCtrlDown&&this.get_simulateMultitouch()&&0==a&&(this.mTouchMarker.moveMarker(c,d,this.mShiftDown),a=[1,b,this.mTouchMarker.get_mockX(),this.mTouchMarker.get_mockY()],this.mQueue.unshift(a))},enqueueMouseLeftStage:function(){var a=this.getCurrentTouch(0);if(null!=a&&"hover"==a.get_phase()){var b=a.get_globalX(),c=a.get_globalY(),d=a.get_globalX(),e=this.mStage.get_stageWidth()-d,a=a.get_globalY(),f=this.mStage.get_stageHeight()-a,f=
cb.min([d,e,a,f]);f==d?b=-1:f==e?b=this.mStage.get_stageWidth()+1:c=f==a?-1:this.mStage.get_stageHeight()+1;this.enqueue(0,"hover",b,c)}},cancelTouches:function(){if(0<this.mCurrentTouches.get_length()){for(var a=0,b=this.mCurrentTouches;a<b.get_length();){var c=b.get(a);++a;if("began"==c.get_phase()||"moved"==c.get_phase()||"stationary"==c.get_phase())c.set_phase("ended"),c.set_cancelled(!0)}this.processTouches(this.mCurrentTouches,this.mShiftDown,this.mCtrlDown)}this.mCurrentTouches.set_length(0);
this.mQueue.set_length(0)},createOrUpdateTouch:function(a,b,c,d,e,f,g){null==g&&(g=1);null==f&&(f=1);null==e&&(e=1);var h=this.getCurrentTouch(a);null==h&&(h=new hc(a),this.addCurrentTouch(h));h.set_globalX(c);h.set_globalY(d);h.set_phase(b);h.set_timestamp(this.mElapsedTime);h.set_pressure(e);h.set_width(f);h.set_height(g);"began"==b&&this.updateTapCount(h);return h},updateTapCount:function(a){for(var b=null,c=this.mMultitapDistance*this.mMultitapDistance,d=0,e=this.mLastTaps;d<e.get_length();){var f=
e.get(d);++d;if(Math.pow(f.get_globalX()-a.get_globalX(),2)+Math.pow(f.get_globalY()-a.get_globalY(),2)<=c){b=f;break}}null!=b?(a.set_tapCount(b.get_tapCount()+1),b=this.mLastTaps.indexOf(b,0),this.mLastTaps.splice(b,1)):a.set_tapCount(1);a=a.clone();this.mLastTaps.push(a)},addCurrentTouch:function(a){for(var b=this.mCurrentTouches.get_length()-1;0<=b;)this.mCurrentTouches.get(b).get_id()==a.get_id()&&this.mCurrentTouches.splice(b,1),--b;this.mCurrentTouches.push(a)},getCurrentTouch:function(a){for(var b=
0,c=this.mCurrentTouches;b<c.get_length();){var d=c.get(b);++b;if(d.get_id()==a)return d}return null},containsTouchWithID:function(a,b){for(var c=0;c<a.get_length();){var d=a.get(c);++c;if(d.get_id()==b)return!0}return!1},get_simulateMultitouch:function(){return null!=this.mTouchMarker},set_simulateMultitouch:function(a){if(this.get_simulateMultitouch()==a)return null!=this.mTouchMarker;a?(this.mTouchMarker=new of,this.mTouchMarker.set_visible(!1),this.mStage.addChild(this.mTouchMarker)):(this.mTouchMarker.removeFromParent(!0),
this.mTouchMarker=null);return null!=this.mTouchMarker},onKey:function(a){if(17==a.get_keyCode()||15==a.get_keyCode()){var b=this.mCtrlDown;this.mCtrlDown="keyDown"==a.type;if(this.get_simulateMultitouch()&&b!=this.mCtrlDown){this.mTouchMarker.set_visible(this.mCtrlDown);this.mTouchMarker.moveCenter(this.mStage.get_stageWidth()/2,this.mStage.get_stageHeight()/2);a=this.getCurrentTouch(0);var c=this.getCurrentTouch(1);null!=a&&this.mTouchMarker.moveMarker(a.get_globalX(),a.get_globalY());b&&null!=
c&&"ended"!=c.get_phase()?(b=[1,"ended",c.get_globalX(),c.get_globalY()],this.mQueue.unshift(b)):this.mCtrlDown&&null!=a&&(b="hover"==a.get_phase()||"ended"==a.get_phase()?[1,"hover",this.mTouchMarker.get_mockX(),this.mTouchMarker.get_mockY()]:[1,"began",this.mTouchMarker.get_mockX(),this.mTouchMarker.get_mockY()],this.mQueue.unshift(b))}}else 16==a.get_keyCode()&&(this.mShiftDown="keyDown"==a.type)},monitorInterruptions:function(a){try{a?Qa.current.stage.addEventListener("deactivate",l(this,this.onInterruption),
!1,0,!0):Qa.current.stage.removeEventListener("deactivate",l(this,this.onInterruption))}catch(b){if(b instanceof m&&(b=b.val),!u.__instanceof(b,ga))throw b;}},onInterruption:function(a){this.cancelTouches()},__class__:xb,__properties__:{set_simulateMultitouch:"set_simulateMultitouch",get_simulateMultitouch:"get_simulateMultitouch"}};var ob=function(a,b){null==b&&(b=1);null==a&&(a=1);this.mHelperRect2=new I;this.mHelperRect=new I;this.mHelperMatrix3D=new ib;this.mHelperMatrix=new U;this.mBaseTextureID=
this.mMvpConstantID=0;this.mTexCoordsAtID=1;this.mVertexPosAtID=0;if(1>a)throw new m(new la("At least one pass is required."));this.mNumPasses=a;this.mOffsetX=this.mOffsetY=this.mMarginX=this.mMarginY=0;this.mResolution=b;this.mPassTextures=E.toObjectVector(null);this.mMode="replace";this.mVertexData=new ia(4);this.mVertexData.setTexCoords(0,0,0);this.mVertexData.setTexCoords(1,1,0);this.mVertexData.setTexCoords(2,0,1);this.mVertexData.setTexCoords(3,1,1);for(var c=[0,1,2,1,3,2],d=E.toIntVector(null),
e=0,f=c.length;e<f;){var g=e++;d.set(g,c[g])}this.mIndexData=d;A.get_current().get_contextValid()&&this.createPrograms();A.get_current().get_stage3D().addEventListener("context3DCreate",l(this,this.onContextCreated),!1,0,!0)};h["starling.filters.FragmentFilter"]=ob;ob.__name__=["starling","filters","FragmentFilter"];ob.prototype={dispose:function(){A.get_current().get_stage3D().removeEventListener("context3DCreate",l(this,this.onContextCreated));null!=this.mVertexBuffer&&this.mVertexBuffer.dispose();
null!=this.mIndexBuffer&&this.mIndexBuffer.dispose();this.disposePassTextures();this.disposeCache()},onContextCreated:function(a){this.mIndexBuffer=this.mVertexBuffer=null;this.disposePassTextures();this.createPrograms();null!=this.mCache&&this.cache()},render:function(a,b,c){"above"==this.get_mode()&&a.render(b,c);this.mCacheRequested&&(this.mCacheRequested=!1,this.mCache=this.renderPasses(a,b,1,!0),this.disposePassTextures());null!=this.mCache?this.mCache.render(b,c):this.renderPasses(a,b,c,!1);
"below"==this.get_mode()&&a.render(b,c)},renderPasses:function(a,b,c,d){null==d&&(d=!1);var e=null,f=A.get_current().get_context(),g=a.get_stage(),h=A.get_current().get_stage(),k=A.get_current().get_contentScaleFactor(),l=this.mHelperMatrix,p=this.mHelperMatrix3D,r=this.mHelperRect,q=this.mHelperRect2,t,u;if(null==f)throw new m(new gc);this.calculateBounds(a,g,this.mResolution*k,!d&&0==this.mOffsetX&&0==this.mOffsetY,r,q);if(r.isEmpty())return this.disposePassTextures(),d?new xa:null;this.updateBuffers(f,
q);this.updatePassTextures(q.width,q.height,this.mResolution*k);b.finishQuadBatch();b.raiseDrawCount(this.mNumPasses);b.pushMatrix();b.pushMatrix3D();b.pushClipRect(q,!1);l.copyFrom(b.get_projectionMatrix());p.copyFrom(b.get_projectionMatrix3D());u=b.get_renderTarget();t=b.get_stencilReferenceValue();if(null!=u&&!La.get_supportsRelaxedTargetClearRequirement())throw new m(new ma("To nest filters, you need at least Flash Player / AIR version 15."));d&&(e=Ia.empty(q.width,q.height,!0,!1,!0,this.mResolution*
k));b.set_renderTarget(this.mPassTextures.get(0));b.clear();b.set_blendMode("normal");b.set_stencilReferenceValue(0);b.setProjectionMatrix(r.x,r.y,q.width,q.height,h.get_stageWidth(),h.get_stageHeight(),h.get_cameraPosition());a.render(b,c);b.finishQuadBatch();P.setBlendFactors(!0);b.loadIdentity();f.setVertexBufferAt(this.mVertexPosAtID,this.mVertexBuffer,0,2);f.setVertexBufferAt(this.mTexCoordsAtID,this.mVertexBuffer,6,2);h=0;for(k=this.mNumPasses;h<k;)q=h++,q<this.mNumPasses-1?(b.set_renderTarget(this.getPassTexture(q+
1)),b.clear()):d?(b.set_renderTarget(e),b.clear()):(b.popClipRect(),b.set_projectionMatrix(l),b.set_projectionMatrix3D(p),b.set_renderTarget(u),b.translateMatrix(this.mOffsetX,this.mOffsetY),b.set_stencilReferenceValue(t),b.set_blendMode(a.get_blendMode()),b.applyBlendMode(!0)),c=this.getPassTexture(q),f.setProgramConstantsFromMatrix(1,this.mMvpConstantID,b.get_mvpMatrix3D(),!0),f.setTextureAt(this.mBaseTextureID,c.get_base()),this.activate(q,f,c),f.drawTriangles(this.mIndexBuffer,0,2),this.deactivate(q,
f,c);f.setVertexBufferAt(this.mVertexPosAtID,null);f.setVertexBufferAt(this.mTexCoordsAtID,null);f.setTextureAt(this.mBaseTextureID,null);b.popMatrix();b.popMatrix3D();return d?(b.get_projectionMatrix().copyFrom(l),b.get_projectionMatrix3D().copyFrom(p),b.set_renderTarget(u),b.popClipRect(),b=new xa,e=new Ba(e),a.getTransformationMatrix(g,ob.sTransformationMatrix).invert(),J.prependTranslation(ob.sTransformationMatrix,r.x+this.mOffsetX,r.y+this.mOffsetY),b.addImage(e,1,ob.sTransformationMatrix),b.set_ownsTexture(!0),
b):null},updateBuffers:function(a,b){this.mVertexData.setPosition(0,b.x,b.y);this.mVertexData.setPosition(1,b.get_right(),b.y);this.mVertexData.setPosition(2,b.x,b.get_bottom());this.mVertexData.setPosition(3,b.get_right(),b.get_bottom());null==this.mVertexBuffer&&(this.mVertexBuffer=a.createVertexBuffer(4,8),this.mIndexBuffer=a.createIndexBuffer(6),this.mIndexBuffer.uploadFromVector(this.mIndexData,0,6));this.mVertexBuffer.uploadFromVector(this.mVertexData.get_rawData(),0,4)},updatePassTextures:function(a,
b,c){var d;d=1<this.mNumPasses?2:1;if(this.mPassTextures.get_length()!=d||.1<Math.abs(this.mPassTextures.get(0).get_nativeWidth()-a*c)||.1<Math.abs(this.mPassTextures.get(0).get_nativeHeight()-b*c)){this.disposePassTextures();for(var e=0;e<d;){var f=e++,g=Ia.empty(a,b,!0,!1,!0,c);this.mPassTextures.set(f,g)}}},getPassTexture:function(a){return this.mPassTextures.get(a%2)},calculateBounds:function(a,b,c,d,e,f){var g=this.mMarginX,h=this.mMarginY;u.__instanceof(b,lc)?(a==b||a==a.get_root()?(g=h=0,e.setTo(0,
0,b.get_stageWidth(),b.get_stageHeight())):a.getBounds(b,e),d&&(ob.sStageBounds.setTo(0,0,b.get_stageWidth(),b.get_stageHeight()),Ya.intersect(e,ob.sStageBounds,e))):a.getBounds(b,e);e.isEmpty()||(e.inflate(g,h),b=64/c|0,a=e.width>b?e.width:b,b=e.height>b?e.height:b,f.setTo(e.x,e.y,Sc.getNextPowerOfTwo(a*c|0)/c,Sc.getNextPowerOfTwo(b*c|0)/c))},disposePassTextures:function(){for(var a=0,b=this.mPassTextures;a<b.get_length();){var c=b.get(a);++a;c.dispose()}this.mPassTextures.set_length(0)},disposeCache:function(){null!=
this.mCache&&(this.mCache.dispose(),this.mCache=null)},createPrograms:function(){throw new m(new ga("Method has to be implemented in subclass!"));},activate:function(a,b,c){throw new m(new ga("Method has to be implemented in subclass!"));},deactivate:function(a,b,c){},cache:function(){this.mCacheRequested=!0;this.disposeCache()},compile:function(a){var b,c=a.get_stage();b=new P;a.getTransformationMatrix(c,b.get_modelViewMatrix());a=this.renderPasses(a,b,1,!0);b.dispose();return a},get_resolution:function(){return this.mResolution},
get_mode:function(){return this.mMode},set_mode:function(a){return this.mMode=a},set_offsetX:function(a){return this.mOffsetX=a},set_offsetY:function(a){return this.mOffsetY=a},set_marginX:function(a){return this.mMarginX=a},set_marginY:function(a){return this.mMarginY=a},set_numPasses:function(a){return this.mNumPasses=a},get_numPasses:function(){return this.mNumPasses},__class__:ob,__properties__:{set_numPasses:"set_numPasses",get_numPasses:"get_numPasses",set_marginY:"set_marginY",set_marginX:"set_marginX",
set_offsetY:"set_offsetY",set_offsetX:"set_offsetX",set_mode:"set_mode",get_mode:"get_mode",get_resolution:"get_resolution"}};var sc=function(a,b,c){null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.sTmpWeights=function(a){a=[0,0,0,0,0];for(var b=E.toFloatVector(null),c=0,g=a.length;c<g;){var h=c++;b.set(h,a[h])}return b}(this);this.mColor=function(a){a=[1,1,1,1];for(var b=E.toFloatVector(null),c=0,g=a.length;c<g;){var h=c++;b.set(h,a[h])}return b}(this);this.mWeights=function(a){a=[0,0,0,0];for(var b=
E.toFloatVector(null),c=0,g=a.length;c<g;){var h=c++;b.set(h,a[h])}return b}(this);this.mOffsets=function(a){a=[0,0,0,0];for(var b=E.toFloatVector(null),c=0,g=a.length;c<g;){var h=c++;b.set(h,a[h])}return b}(this);ob.call(this,1,c);this.mBlurX=a;this.mBlurY=b;this.updateMarginsAndPasses()};h["starling.filters.BlurFilter"]=sc;sc.__name__=["starling","filters","BlurFilter"];sc.createDropShadow=function(a,b,c,d,e,f){null==f&&(f=.5);null==e&&(e=1);null==d&&(d=.5);null==c&&(c=0);null==b&&(b=.785);null==
a&&(a=4);e=new sc(e,e,f);e.set_offsetX(Math.cos(b)*a);e.set_offsetY(Math.sin(b)*a);e.set_mode("below");e.setUniformColor(!0,c,d);return e};sc.createGlow=function(a,b,c,d){null==d&&(d=.5);null==c&&(c=1);null==b&&(b=1);null==a&&(a=16776960);c=new sc(c,c,d);c.set_mode("below");c.setUniformColor(!0,a,b);return c};sc.__super__=ob;sc.prototype=r(ob.prototype,{createPrograms:function(){this.mNormalProgram=this.createProgram(!1);this.mTintedProgram=this.createProgram(!0)},createProgram:function(a){var b;
b=a?"BF_t":"BF_n";var c=A.get_current();if(c.hasProgram(b))return c.getProgram(b);var d="tex ft0,  v0, fs0 <2d, clamp, linear, mipnone> \nmul ft5, ft0, fc0.xxxx                         \ntex ft1,  v1, fs0 <2d, clamp, linear, mipnone> \nmul ft1, ft1, fc0.zzzz                         \nadd ft5, ft5, ft1                              \ntex ft2,  v2, fs0 <2d, clamp, linear, mipnone> \nmul ft2, ft2, fc0.yyyy                         \nadd ft5, ft5, ft2                              \ntex ft3,  v3, fs0 <2d, clamp, linear, mipnone> \nmul ft3, ft3, fc0.yyyy                         \nadd ft5, ft5, ft3                              \ntex ft4,  v4, fs0 <2d, clamp, linear, mipnone> \nmul ft4, ft4, fc0.zzzz                         \n";
return c.registerProgramFromSource(b,"m44 op, va0, vc0       \nmov v0, va1            \nsub v1, va1, vc4.zwxx  \nsub v2, va1, vc4.xyxx  \nadd v3, va1, vc4.xyxx  \nadd v4, va1, vc4.zwxx  \n",a?d+"add ft5, ft5, ft4                              \nmul ft5.xyz, fc1.xyz, ft5.www                  \nmul oc, ft5, fc1.wwww                          \n":d+"add  oc, ft5, ft4                              \n")},activate:function(a,b,c){this.updateParameters(a,w["int"](c.get_nativeWidth()),w["int"](c.get_nativeHeight()));
b.setProgramConstantsFromVector(1,4,this.mOffsets);b.setProgramConstantsFromVector(0,0,this.mWeights);this.mUniformColor&&a==this.get_numPasses()-1?(b.setProgramConstantsFromVector(0,1,this.mColor),b.setProgram(this.mTintedProgram)):b.setProgram(this.mNormalProgram)},updateParameters:function(a,b,c){var d=a<this.mBlurX;d?(a=2*Math.min(1,this.mBlurX-a),b=1/b):(a=2*Math.min(1,this.mBlurY-(a-Math.ceil(this.mBlurX))),b=1/c);c=2*a*a;a=1/Math.sqrt(c*Math.PI);for(var e=0;5>e;){var f=e++,g=a*Math.exp(-f*
f/c);this.sTmpWeights.set(f,g)}c=this.sTmpWeights.get(0);this.mWeights.set(0,c);c=this.sTmpWeights.get(1)+this.sTmpWeights.get(2);this.mWeights.set(1,c);c=this.sTmpWeights.get(3)+this.sTmpWeights.get(4);this.mWeights.set(2,c);c=1/(this.mWeights.get(0)+2*this.mWeights.get(1)+2*this.mWeights.get(2));a=this.mWeights.get(0)*c;this.mWeights.set(0,a);a=this.mWeights.get(1)*c;this.mWeights.set(1,a);c*=this.mWeights.get(2);this.mWeights.set(2,c);c=(b*this.sTmpWeights.get(1)+2*b*this.sTmpWeights.get(2))/this.mWeights.get(1);
b=(3*b*this.sTmpWeights.get(3)+4*b*this.sTmpWeights.get(4))/this.mWeights.get(2);d?(this.mOffsets.set(0,c),this.mOffsets.set(1,0),this.mOffsets.set(2,b),this.mOffsets.set(3,0)):(this.mOffsets.set(0,0),this.mOffsets.set(1,c),this.mOffsets.set(2,0),this.mOffsets.set(3,b))},updateMarginsAndPasses:function(){0==this.mBlurX&&0==this.mBlurY&&(this.mBlurX=.001);this.set_numPasses(Math.ceil(this.mBlurX)+Math.ceil(this.mBlurY));this.set_marginX((3+Math.ceil(this.mBlurX))/this.get_resolution());this.set_marginY((3+
Math.ceil(this.mBlurY))/this.get_resolution())},setUniformColor:function(a,b,c){null==c&&(c=1);null==b&&(b=0);var d=Tb.getRed(b)/255;this.mColor.set(0,d);d=Tb.getGreen(b)/255;this.mColor.set(1,d);b=Tb.getBlue(b)/255;this.mColor.set(2,b);this.mColor.set(3,c);this.mUniformColor=a},__class__:sc});var mb=function(a){ob.call(this);this.mUserMatrix=E.toFloatVector(null);this.mShaderMatrix=E.toFloatVector(null);this.set_matrix(a)};h["starling.filters.ColorMatrixFilter"]=mb;mb.__name__=["starling","filters",
"ColorMatrixFilter"];mb.__super__=ob;mb.prototype=r(ob.prototype,{createPrograms:function(){var a=A.get_current();a.hasProgram("CMF")?this.mShaderProgram=a.getProgram("CMF"):this.mShaderProgram=a.registerProgramFromSource("CMF","m44 op, va0, vc0 \nmov v0, va1      \n","tex ft0, v0,  fs0 <2d, clamp, linear, mipnone>  \nmax ft0, ft0, fc5              \ndiv ft0.xyz, ft0.xyz, ft0.www  \nm44 ft0, ft0, fc0              \nadd ft0, ft0, fc4              \nmul ft0.xyz, ft0.xyz, ft0.www  \nmov oc, ft0                    \n")},
activate:function(a,b,c){b.setProgramConstantsFromVector(0,0,this.mShaderMatrix,5);b.setProgramConstantsFromVector(0,5,mb.MIN_COLOR);b.setProgram(this.mShaderProgram)},invert:function(){return this.concatValues(-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0)},adjustSaturation:function(a){a+=1;var b=1-a,c=.299*b,d=.587*b,b=.114*b;return this.concatValues(c+a,d,b,0,0,c,d+a,b,0,0,c,d,b+a,0,0,0,0,0,1,0)},adjustContrast:function(a){a+=1;var b=128*(1-a);return this.concatValues(a,0,0,0,b,0,a,0,0,b,0,
0,a,0,b,0,0,0,1,0)},adjustBrightness:function(a){a*=255;return this.concatValues(1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0)},adjustHue:function(a){a*=Math.PI;var b=Math.cos(a);a=Math.sin(a);return this.concatValues(.299+.7010000000000001*b+-.299*a,.587+-.587*b+-.587*a,.114+-.114*b+.886*a,0,0,.299+-.299*b+.143*a,.587+.41300000000000003*b+.14*a,.114+-.114*b+-.283*a,0,0,.299+-.299*b+-.7010000000000001*a,.587+-.587*b+.587*a,.114+.886*b+.114*a,0,0,0,0,0,1,0)},concat:function(a){for(var b=0,c=0;4>c;){c++;
for(var d=0;5>d;){var e=d++,f;f=a.get(b)*this.mUserMatrix.get(e)+a.get(b+1)*this.mUserMatrix.get(e+5)+a.get(b+2)*this.mUserMatrix.get(e+10)+a.get(b+3)*this.mUserMatrix.get(e+15)+(4==e?a.get(b+4):0);mb.sTmpMatrix1.set(b+e,f)}b+=5}this.copyMatrix(mb.sTmpMatrix1,this.mUserMatrix);this.updateShaderMatrix();return this},concatValues:function(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,y,z,A){a=[a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,y,z,A];b=E.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);mb.sTmpMatrix2=
b;this.concat(mb.sTmpMatrix2);return this},copyMatrix:function(a,b){for(var c=0;20>c;){var d=c++,e=a.get(d);b.set(d,e)}},updateShaderMatrix:function(){for(var a=[this.mUserMatrix.get(0),this.mUserMatrix.get(1),this.mUserMatrix.get(2),this.mUserMatrix.get(3),this.mUserMatrix.get(5),this.mUserMatrix.get(6),this.mUserMatrix.get(7),this.mUserMatrix.get(8),this.mUserMatrix.get(10),this.mUserMatrix.get(11),this.mUserMatrix.get(12),this.mUserMatrix.get(13),this.mUserMatrix.get(15),this.mUserMatrix.get(16),
this.mUserMatrix.get(17),this.mUserMatrix.get(18),this.mUserMatrix.get(4)/255,this.mUserMatrix.get(9)/255,this.mUserMatrix.get(14)/255,this.mUserMatrix.get(19)/255],b=E.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.mShaderMatrix=b},set_matrix:function(a){if(null!=a&&20!=a.get_length())throw new m(new la("Invalid matrix length: must be 20"));null==a?this.mUserMatrix=mb.IDENTITY.copy():this.copyMatrix(a,this.mUserMatrix);this.updateShaderMatrix();return this.mUserMatrix},__class__:mb,
__properties__:r(ob.prototype.__properties__,{set_matrix:"set_matrix"})});var $a=function(a,b,c,d,e,f,g){null==g&&(g=!1);null==f&&(f=0);null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);this.mMapTexture=a;this.mMapPoint=new fa;this.mComponentX=c;this.mComponentY=d;this.mScaleX=e;this.mScaleY=f;this.mRepeat=g;this.set_mapPoint(b);ob.call(this)};h["starling.filters.DisplacementMapFilter"]=$a;$a.__name__=["starling","filters","DisplacementMapFilter"];$a.__super__=ob;$a.prototype=r(ob.prototype,{dispose:function(){null!=
this.mMapTexCoordBuffer&&this.mMapTexCoordBuffer.dispose();ob.prototype.dispose.call(this)},createPrograms:function(){null!=this.mMapTexCoordBuffer&&this.mMapTexCoordBuffer.dispose();this.mMapTexCoordBuffer=A.get_current().get_context().createVertexBuffer(4,2);var a=A.get_current(),b=P.getTextureLookupFlags(this.get_mapTexture().get_format(),this.get_mapTexture().get_mipMapping(),this.get_mapTexture().get_repeat()),c=P.getTextureLookupFlags(1,!1,this.mRepeat),d=ag.formatString("DMF_m{0}_i{1}",[b,
c]);a.hasProgram(d)?this.mShaderProgram=a.getProgram(d):(b=["tex ft0,  v1, fs1 "+b,"sub ft1, ft0, fc0\nm44 ft2, ft1, fc1\nadd ft3,  v0, ft2","tex  oc, ft3, fs0 "+c].join("\n"),this.mShaderProgram=a.registerProgramFromSource(d,"m44  op, va0, vc0\nmov  v0, va1\nmov  v1, va2",b))},activate:function(a,b,c){this.updateParameters(w["int"](c.get_nativeWidth()),w["int"](c.get_nativeHeight()));b.setVertexBufferAt(2,this.mMapTexCoordBuffer,0,2);b.setProgramConstantsFromVector(0,0,$a.sOneHalf);b.setProgramConstantsFromMatrix(0,
1,$a.sMatrix,!0);b.setTextureAt(1,this.mMapTexture.get_base());b.setProgram(this.mShaderProgram)},deactivate:function(a,b,c){b.setVertexBufferAt(2,null);b.setTextureAt(1,null)},updateParameters:function(a,b){var c=A.get_current().get_contentScaleFactor(),d,e;for(d=0;16>d;)e=d++,$a.sMatrixData.set(e,0);d=1==this.mComponentX?0:2==this.mComponentX?1:4==this.mComponentX?2:3;e=1==this.mComponentY?0:2==this.mComponentY?1:4==this.mComponentY?2:3;$a.sMatrixData.set(4*d,this.mScaleX*c/a);$a.sMatrixData.set(4*
e,this.mScaleY*c/b);$a.sMatrix.copyRawDataFrom($a.sMatrixData);d=this.mMapPoint.x/this.get_mapTexture().get_width();e=this.mMapPoint.y/this.get_mapTexture().get_height();var f=a/(this.get_mapTexture().get_width()*c),c=b/(this.get_mapTexture().get_height()*c);$a.sMapTexCoords.set(0,-d);$a.sMapTexCoords.set(1,-e);$a.sMapTexCoords.set(2,-d+f);$a.sMapTexCoords.set(3,-e);$a.sMapTexCoords.set(4,-d);$a.sMapTexCoords.set(5,-e+c);$a.sMapTexCoords.set(6,-d+f);$a.sMapTexCoords.set(7,-e+c);this.mMapTexture.adjustTexCoords($a.sMapTexCoords);
this.mMapTexCoordBuffer.uploadFromVector($a.sMapTexCoords,0,4)},get_mapTexture:function(){return this.mMapTexture},set_mapPoint:function(a){null!=a?this.mMapPoint.setTo(a.x,a.y):this.mMapPoint.setTo(0,0);return this.mMapPoint},__class__:$a,__properties__:r(ob.prototype.__properties__,{set_mapPoint:"set_mapPoint",get_mapTexture:"get_mapTexture"})});var nb=function(a){this.mCoords=E.toFloatVector(null);this.addVertices(a)};h["starling.geom.Polygon"]=nb;nb.__name__=["starling","geom","Polygon"];nb.createCircle=
function(a,b,c){return new pf(a,b,c,c)};nb.isPointInTriangle=function(a,b,c,d,e,f,g,h){g-=c;h-=d;e-=c;f-=d;a-=c;c=b-d;b=g*g+h*h;d=g*e+h*f;g=g*a+h*c;h=e*e+f*f;e=e*a+f*c;f=1/(b*h-d*d);h=(h*g-d*e)*f;g=(b*e-d*g)*f;return 0<=h&&0<=g&&1>h+g};nb.prototype={addVertices:function(a){var b=a.length,c=this.mCoords.get_length();if(0<b)if(u.__instanceof(a[0],fa))for(var d=0;d<b;){var e=d++,f;f=u.__cast(a[e],fa).x;this.mCoords.set(c+2*e,f);f=u.__cast(a[e],fa).y;this.mCoords.set(c+2*e+1,f)}else if("number"==typeof a[0])for(d=
0;d<b;)e=d++,this.mCoords.set(c+e,a[e]);else throw new m(new la("Invalid type: "+Bb.getClassName(Bb.getClass(a[0]))));},contains:function(a,b){for(var c=this.get_numVertices()-1,d=0,e=0,f=this.get_numVertices();e<f;){var g=e++,h=this.mCoords.get(2*g),k=this.mCoords.get(2*g+1),l=this.mCoords.get(2*c),c=this.mCoords.get(2*c+1);(k<b&&c>=b||c<b&&k>=b)&&(h<=a||l<=a)&&(d^=h+(b-k)/(c-k)*(l-h)<a?1:0);c=g}return 0!=d},containsPoint:function(a){return this.contains(a.x,a.y)},triangulate:function(a){null==a&&
(a=E.toIntVector(null));var b=this.get_numVertices(),c,d;if(3>b)return a;nb.sRestIndices.set_length(b);for(d=0;d<b;)c=d++,nb.sRestIndices.set(c,c);c=0;for(d=a.get_length();3<b;){var e=nb.sRestIndices.get(c%b),f=nb.sRestIndices.get((c+1)%b),g=nb.sRestIndices.get((c+2)%b),h=this.mCoords.get(2*e),k=this.mCoords.get(2*e+1),l=this.mCoords.get(2*f),m=this.mCoords.get(2*f+1),p=this.mCoords.get(2*g),q=this.mCoords.get(2*g+1),r=!1;if(0<=(k-m)*(p-l)+(l-h)*(q-m))for(var r=!0,t=3;t<b;){var u=t++,u=nb.sRestIndices.get((c+
u)%b);if(nb.isPointInTriangle(this.mCoords.get(2*u),this.mCoords.get(2*u+1),h,k,l,m,p,q)){r=!1;break}}if(r)h=d++,a.set(h,e),e=d++,a.set(e,f),f=d++,a.set(f,g),Lg.removeUnsignedIntAt(nb.sRestIndices,(c+1)%b),b--,c=0;else if(c++,c==b)break}c=d++;b=nb.sRestIndices.get(0);a.set(c,b);c=d++;b=nb.sRestIndices.get(1);a.set(c,b);c=nb.sRestIndices.get(2);a.set(d,c);return a},copyToVertexData:function(a,b){null==b&&(b=0);var c=b+this.get_numVertices();a.get_numVertices()<c&&a.set_numVertices(c);this.copyToVector(a.get_rawData(),
8*b,6)},copyToVector:function(a,b,c){null==c&&(c=0);null==b&&(b=0);for(var d=this.get_numVertices(),e=0;e<d;){var f=e++,g=b++,h=this.mCoords.get(2*f);a.set(g,h);g=b++;f=this.mCoords.get(2*f+1);a.set(g,f);b+=c}},get_numVertices:function(){return w["int"](this.mCoords.get_length()/2)},__class__:nb,__properties__:{get_numVertices:"get_numVertices"}};var td=function(a){nb.call(this,a);this.mFrozen=!0};h["starling.geom.ImmutablePolygon"]=td;td.__name__=["starling","geom","ImmutablePolygon"];td.__super__=
nb;td.prototype=r(nb.prototype,{addVertices:function(a){if(this.mFrozen)throw new m(this.getImmutableError());nb.prototype.addVertices.call(this,a)},getImmutableError:function(){var a=Bb.getClassName(u.getClass(this)).split(".").pop()+" cannot be modified. Call 'clone' to create a mutable copy.";return new ma(a)},__class__:td});var pf=function(a,b,c,d,e){null==e&&(e=-1);this.mX=a;this.mY=b;this.mRadiusX=c;this.mRadiusY=d;td.call(this,this.getVertices(e))};h["starling.geom.Ellipse"]=pf;pf.__name__=
["starling","geom","Ellipse"];pf.__super__=td;pf.prototype=r(td.prototype,{getVertices:function(a){0>a&&(a=Math.PI*(this.mRadiusX+this.mRadiusY)/4|0);6>a&&(a=6);for(var b=[],c=2*Math.PI/a,d=0,e=0;e<a;){var f=e++;b[2*f]=Math.cos(d)*this.mRadiusX+this.mX;b[2*f+1]=Math.sin(d)*this.mRadiusY+this.mY;d+=c}return b},triangulate:function(a){null==a&&(a=E.toIntVector(null));for(var b=this.get_numVertices()-1,c=a.get_length(),d=1;d<b;){var e=d++,f=c++;a.set(f,0);f=c++;a.set(f,e);f=c++;a.set(f,e+1)}return a},
contains:function(a,b){var c=(a-this.mX)/this.mRadiusX,d=(b-this.mY)/this.mRadiusY;return 1>=c*c+d*d},__class__:pf});var cg=function(a,b,c,d,e){this.mCharID=a;this.mTexture=b;this.mXOffset=c;this.mYOffset=d;this.mXAdvance=e;this.mKernings=null};h["starling.text.BitmapChar"]=cg;cg.__name__=["starling","text","BitmapChar"];cg.prototype={addKerning:function(a,b){null==this.mKernings&&(this.mKernings=new Ob);this.mKernings.h[a]=b;b},getKerning:function(a){return null==this.mKernings||null==this.mKernings.h[a]?
0:this.mKernings.h[a]},get_xOffset:function(){return this.mXOffset},get_yOffset:function(){return this.mYOffset},get_xAdvance:function(){return this.mXAdvance},get_texture:function(){return this.mTexture},get_width:function(){return this.mTexture.get_width()},get_height:function(){return this.mTexture.get_height()},__class__:cg,__properties__:{get_height:"get_height",get_width:"get_width",get_texture:"get_texture",get_xAdvance:"get_xAdvance",get_yOffset:"get_yOffset",get_xOffset:"get_xOffset"}};var $b=
function(a,b){if(null==a&&null==b)a=Zb.get_texture(),b=Zb.get_xml();else if(null!=a&&null==b)throw new m(new la("fontXml cannot be null!"));this.mName="unknown";this.mLineHeight=this.mSize=this.mBaseline=14;this.mOffsetX=this.mOffsetY=0;this.mTexture=a;this.mChars=new Ob;this.mHelperImage=new Ba(a);this.parseFontXml(b)};h["starling.text.BitmapFont"]=$b;$b.__name__=["starling","text","BitmapFont"];$b.prototype={parseFontXml:function(a){var b=this.mTexture.get_scale(),c=this.mTexture.get_frame(),d;
d=null!=c?c.x:0;var c=null!=c?c.y:0,e=a.elementsNamed("info").next(),f=a.elementsNamed("common").next();this.mName=e.get("face");this.mSize=w.parseFloat(e.get("size"))/b;this.mLineHeight=w.parseFloat(f.get("lineHeight"))/b;this.mBaseline=w.parseFloat(f.get("base"))/b;"0"==e.get("smooth")&&this.set_smoothing("none");0>=this.mSize&&(Na.trace("[Starling] Warning: invalid font size in '"+this.mName+"' font.",{fileName:"BitmapFont.hx",lineNumber:138,className:"starling.text.BitmapFont",methodName:"parseFontXml"}),
this.mSize=0==this.mSize?16:-1*this.mSize);for(e=a.elementsNamed("chars").next().elementsNamed("char");e.hasNext();){var g=e.next(),f=w.parseInt(g.get("id")),h=w.parseFloat(g.get("xoffset"))/b,k=w.parseFloat(g.get("yoffset"))/b,l=w.parseFloat(g.get("xadvance"))/b,m=new I;m.x=w.parseFloat(g.get("x"))/b+d;m.y=w.parseFloat(g.get("y"))/b+c;m.width=w.parseFloat(g.get("width"))/b;m.height=w.parseFloat(g.get("height"))/b;g=Ia.fromTexture(this.mTexture,m);h=new cg(f,g,h,k,l);this.addChar(f,h)}if(a.exists("kernings"))for(a=
a.elementsNamed("kernings").next().elementsNamed("kerning");a.hasNext();)e=a.next(),d=w.parseInt(e.get("first")),c=w.parseInt(e.get("second")),e=w.parseFloat(e.get("amount"))/b,this.mChars.h.hasOwnProperty(c)&&this.getChar(c).addKerning(d,e)},getChar:function(a){return this.mChars.h[a]},addChar:function(a,b){this.mChars.h[a]=b;b},fillQuadBatch:function(a,b,c,d,e,f,g,h,k,l,m){null==m&&(m=0);null==l&&(l=!0);null==k&&(k=!0);null==h&&(h="center");null==g&&(g="center");null==f&&(f=16777215);null==e&&(e=
-1);b=this.arrangeChars(b,c,d,e,g,h,k,l,m);c=b.get_length();this.mHelperImage.set_color(f);for(f=0;f<c;)d=f++,d=b.get(d),this.mHelperImage.set_texture(d["char"].get_texture()),this.mHelperImage.readjustSize(),this.mHelperImage.set_x(d.x),this.mHelperImage.set_y(d.y),this.mHelperImage.set_scaleX(this.mHelperImage.set_scaleY(d.scale)),a.addImage(this.mHelperImage);Aa.rechargePool()},arrangeChars:function(a,b,c,d,e,f,g,h,k){null==k&&(k=0);null==h&&(h=!0);null==g&&(g=!0);null==f&&(f="center");null==e&&
(e="center");null==d&&(d=-1);if(null==c||0==c.length)return Aa.vectorFromPool();0>d&&(d*=-this.mSize);for(var l=!1,m,p,q=0,r=0,t=0,u=0,w=0;!l;){bg.clear($b.sLines);t=d/this.mSize;q=a/t;r=b/t;if(this.mLineHeight<=r){var y=-1,z=-1,A=Aa.vectorFromPool();p=c.length;for(var B=0;B<p;){var C=!1,D=M.cca(c,B),E=this.getChar(D);if(10==D||13==D)C=!0;else if(null==E)Na.trace("[Starling] Missing character: "+D,{fileName:"BitmapFont.hx",lineNumber:318,className:"starling.text.BitmapFont",methodName:"arrangeChars"});
else{if(32==D||9==D)y=B;h&&(u+=E.getKerning(z));m=Aa.instanceFromPool(E);m.x=u+E.get_xOffset();m.y=w+E.get_yOffset();z=A.get_length();A.set(z,m);u+=E.get_xAdvance();z=D;if(m.x+E.get_width()>q){if(g&&-1==y)break;m=-1==y?1:B-y;for(C=0;C<m;)C++,A.pop();if(0==A.get_length())break;B-=m;C=!0}}if(B==p-1)$b.sLines[$b.sLines.length]=A,l=!0;else if(C)if($b.sLines[$b.sLines.length]=A,y==B&&A.pop(),w+k+2*this.mLineHeight<=r)A=Aa.vectorFromPool(),u=0,w+=this.mLineHeight+k,z=y=-1;else break;++B}}g&&!l&&3<d?--d:
l=!0}a=Aa.vectorFromPool();b=$b.sLines.length;p=w+this.mLineHeight;w=0;"bottom"==f?w=r-p|0:"center"==f&&(w=(r-p)/2|0);for(f=0;f<b;)if(p=f++,r=$b.sLines[p],p=r.get_length(),0!=p)for(c=0,m=r.get_length()-1,m=r.get(m),m=m.x-m["char"].get_xOffset()+m["char"].get_xAdvance(),"right"==e?c=q-m|0:"center"==e&&(c=(q-m)/2|0),d=0;d<p;)m=d++,m=r.get(m),m.x=t*(m.x+c+this.mOffsetX),m.y=t*(m.y+w+this.mOffsetY),m.scale=t,0<m["char"].get_width()&&0<m["char"].get_height()&&(g=a.get_length(),a.set(g,m));return a},get_name:function(){return this.mName},
set_smoothing:function(a){return this.mHelperImage.set_smoothing(a)},__class__:$b,__properties__:{set_smoothing:"set_smoothing",get_name:"get_name"}};var Aa=function(a){this.reset(a)};h["starling.text.CharLocation"]=Aa;Aa.__name__=["starling","text","CharLocation"];Aa.instanceFromPool=function(a){var b;b=0<Aa.sInstancePool.get_length()?Aa.sInstancePool.pop():new Aa(a);b.reset(a);a=Aa.sInstanceLoan.get_length();Aa.sInstanceLoan.set(a,b);return b};Aa.vectorFromPool=function(){var a;a=0<Aa.sVectorPool.length?
Aa.sVectorPool.pop():E.toObjectVector(null);a.set_length(0);return Aa.sVectorLoan[Aa.sVectorLoan.length]=a};Aa.rechargePool=function(){for(var a;0<Aa.sInstanceLoan.get_length();){a=Aa.sInstanceLoan.pop();a["char"]=null;var b=Aa.sInstancePool.get_length();Aa.sInstancePool.set(b,a)}for(;0<Aa.sVectorLoan.length;)a=Aa.sVectorLoan.pop(),a.set_length(0),Aa.sVectorPool[Aa.sVectorPool.length]=a};Aa.prototype={reset:function(a){this["char"]=a;return this},__class__:Aa};var Zb=function(){};h["starling.text.MiniBitmapFont"]=
Zb;Zb.__name__=["starling","text","MiniBitmapFont"];Zb.__properties__={get_xml:"get_xml",get_texture:"get_texture"};Zb.get_texture=function(){var a=Zb.getBitmapData(),b=Ia.fromBitmapData(a,!1);a.dispose();a=null;b.get_root().set_onRestore(function(){a=Zb.getBitmapData();b.get_root().uploadBitmapData(a);a.dispose();a=null});return b};Zb.getBitmapData=function(){for(var a=new vb(128,64),b=new jd(0),c=Zb.BITMAP_DATA.length,d=0;d<c;){var e=d++;b.writeUnsignedInt(Zb.BITMAP_DATA[e])}b.uncompress();a.setPixels(new I(0,
0,128,64),b);b.clear();return a};Zb.get_xml=function(){return Zb.XML_DATA};var L=function(a,b,c,d,e,f,g){null==g&&(g=!1);null==f&&(f=0);null==e&&(e=12);null==d&&(d="_sans");F.call(this);this.mText=null!=c?c:"";this.mFontSize=e;this.mColor=f;this.mVAlign=this.mHAlign="center";this.mBorder=null;this.mKerning=!0;this.mLeading=0;this.mBold=g;this.mAutoSize="none";this.mHitArea=new I(0,0,a,b);this.set_fontName(d);this.addEventListener("flatten",l(this,this.onFlatten))};h["starling.text.TextField"]=L;L.__name__=
["starling","text","TextField"];L.__properties__={get_bitmapFonts:"get_bitmapFonts"};L.registerBitmapFont=function(a,b){null==b&&(b=a.get_name());var c=L.get_bitmapFonts(),d=L.convertToLowerCase(b);c.set(d,a);a;return b};L.getBitmapFont=function(a){var b=L.get_bitmapFonts();a=L.convertToLowerCase(a);return b.get(a)};L.get_bitmapFonts=function(){var a;a=A.get_current().get_contextData().get("starling.display.TextField.BitmapFonts");null==a&&(a=new ja,A.get_current().get_contextData().set("starling.display.TextField.BitmapFonts",
a),a);return a};L.convertToLowerCase=function(a){var b=L.sStringCache.get(a);null==b&&(b=a.toLowerCase(),L.sStringCache.set(a,b),b);return b};L.__super__=F;L.prototype=r(F.prototype,{dispose:function(){this.removeEventListener("flatten",l(this,this.onFlatten));null!=this.mImage&&this.mImage.get_texture().dispose();null!=this.mQuadBatch&&this.mQuadBatch.dispose();F.prototype.dispose.call(this)},onFlatten:function(a){this.mRequiresRedraw&&this.redraw()},render:function(a,b){this.mRequiresRedraw&&this.redraw();
F.prototype.render.call(this,a,b)},redraw:function(){this.mRequiresRedraw&&(null!=L.getBitmapFont(this.mFontName)?this.createComposedContents():this.createRenderedContents(),this.updateBorder(),this.mRequiresRedraw=!1)},createRenderedContents:function(){var a=this;null!=this.mQuadBatch&&(this.mQuadBatch.removeFromParent(!0),this.mQuadBatch=null);null==this.mTextBounds&&(this.mTextBounds=new I);for(var b,c=A.get_current().get_contentScaleFactor(),d=this.renderText(c,this.mTextBounds),e=L.sDefaultTextureFormat,
f=Ia.get_maxSize(),g=0;d.width>f||d.height>f;)c*=Math.min((f-g)/d.width,(f-g)/d.height),d.dispose(),d=this.renderText(c,this.mTextBounds),g+=1;this.mHitArea.width=d.width/c;this.mHitArea.height=d.height/c;b=Ia.fromBitmapData(d,!1,!1,c,e);b.get_root().set_onRestore(function(){null==a.mTextBounds&&(a.mTextBounds=new I);d=a.renderText(c,a.mTextBounds);b.get_root().uploadBitmapData(d);d.dispose();d=null});d.dispose();d=null;null==this.mImage?(this.mImage=new Ba(b),this.mImage.set_touchable(!1),this.addChild(this.mImage)):
(this.mImage.get_texture().dispose(),this.mImage.set_texture(b),this.mImage.readjustSize())},formatText:function(a,b){},renderText:function(a,b){var c=this.mHitArea.width*a,d=this.mHitArea.height*a,e=this.mHAlign,f=this.mVAlign;this.get_isHorizontalAutoSize()&&(c=2147483647,e="left");this.get_isVerticalAutoSize()&&(d=2147483647,f="top");var g=new sd(this.mFontName,this.mFontSize*a|0,this.mColor,this.mBold,this.mItalic,this.mUnderline,null,null,Xf.fromString(e));g.kerning=this.mKerning;g.leading=this.mLeading|
0;L.sNativeTextField.set_defaultTextFormat(g);L.sNativeTextField.set_width(c);L.sNativeTextField.set_height(d);L.sNativeTextField.set_antiAliasType(0);L.sNativeTextField.set_selectable(!1);L.sNativeTextField.set_multiline(!0);L.sNativeTextField.set_wordWrap(!0);this.mIsHtmlText?L.sNativeTextField.set_htmlText(this.mText):L.sNativeTextField.set_text(this.mText);L.sNativeTextField.set_embedFonts(!0);L.sNativeTextField.set_filters(this.mNativeFilters);0!=L.sNativeTextField.get_textWidth()&&0!=L.sNativeTextField.get_textHeight()||
L.sNativeTextField.set_embedFonts(!1);this.formatText(L.sNativeTextField,g);this.mAutoScale&&this.autoScaleNativeTextField(L.sNativeTextField);var g=L.sNativeTextField.get_textWidth(),h=L.sNativeTextField.get_textHeight();this.get_isHorizontalAutoSize()&&L.sNativeTextField.set_width(c=Math.ceil(g+5));this.get_isVerticalAutoSize()&&L.sNativeTextField.set_height(d=Math.ceil(h+4));1>c&&(c=1);1>d&&(d=1);var k=0;"left"==e?k=2:"center"==e?k=(c-g)/2:"right"==e&&(k=c-g-2);var l=0;"top"==f?l=2:"center"==f?
l=(d-h)/2:"bottom"==f&&(l=d-h-2);e=this.calculateFilterOffset(L.sNativeTextField,e,f);c=new vb(c|0,d|0,!0,0);d=new U(1,0,0,1,e.x,e.y+(l|0)-2);c.drawWithQuality(L.sNativeTextField,d,null,null,null,!1,3);L.sNativeTextField.set_text("");b.setTo((k+e.x)/a,(l+e.y)/a,g/a,h/a);return c},autoScaleNativeTextField:function(a){for(var b=w["int"](a.get_defaultTextFormat().size),c=w["int"](a.get_height()-4),d=w["int"](a.get_width()-4);(a.get_textWidth()>d||a.get_textHeight()>c)&&!(4>=b);){var e=a.get_defaultTextFormat();
e.size=b--;a.set_defaultTextFormat(e);this.mIsHtmlText?a.set_htmlText(this.mText):a.set_text(this.mText)}},calculateFilterOffset:function(a,b,c){var d=new fa,e=a.get_filters();if(null!=e&&0<e.length){var f=a.get_textWidth();a=a.get_textHeight();for(var g=new I,h=0;h<e.length;){var k=e[h];++h;var l=0,m=0;u.__instanceof(k,bf)?(l=k.blurX,m=k.blurY):u.__instanceof(k,cf)&&(l=k.blurX,m=k.blurY);var k=cb.deg2rad(0),l=1.33*l,m=1.33*m,p=0*Math.cos(k)-l/2,k=0*Math.sin(k)-m/2,l=new I(p,k,f+l,a+m),g=g.union(l)}"left"==
b&&0>g.x?d.x=-g.x:"right"==b&&0<g.y&&(d.x=-(g.get_right()-f));"top"==c&&0>g.y?d.y=-g.y:"bottom"==c&&0<g.y&&(d.y=-(g.get_bottom()-a))}return d},createComposedContents:function(){null!=this.mImage&&(this.mImage.removeFromParent(!0),this.mImage.get_texture().dispose(),this.mImage=null);null==this.mQuadBatch?(this.mQuadBatch=new xa,this.mQuadBatch.set_touchable(!1),this.addChild(this.mQuadBatch)):this.mQuadBatch.reset();var a=L.getBitmapFont(this.mFontName);if(null==a)throw new m(new ga("Bitmap font not registered: "+
this.mFontName));var b=this.mHitArea.width,c=this.mHitArea.height,d=this.mHAlign,e=this.mVAlign;this.get_isHorizontalAutoSize()&&(b=2147483647,d="left");this.get_isVerticalAutoSize()&&(c=2147483647,e="top");a.fillQuadBatch(this.mQuadBatch,b,c,this.mText,this.mFontSize,this.mColor,d,e,this.mAutoScale,this.mKerning,this.mLeading);this.mQuadBatch.set_batchable(this.mBatchable);"none"!=this.mAutoSize?(this.mTextBounds=this.mQuadBatch.getBounds(this.mQuadBatch,this.mTextBounds),this.get_isHorizontalAutoSize()&&
(this.mHitArea.width=this.mTextBounds.x+this.mTextBounds.width),this.get_isVerticalAutoSize()&&(this.mHitArea.height=this.mTextBounds.y+this.mTextBounds.height)):this.mTextBounds=null},updateBorder:function(){if(null!=this.mBorder){var a=this.mHitArea.width,b=this.mHitArea.height,c;c=u.__cast(this.mBorder.getChildAt(0),Ea);var d;d=u.__cast(this.mBorder.getChildAt(1),Ea);var e;e=u.__cast(this.mBorder.getChildAt(2),Ea);var f;f=u.__cast(this.mBorder.getChildAt(3),Ea);c.set_width(a);c.set_height(1);e.set_width(a);
e.set_height(1);f.set_width(1);f.set_height(b);d.set_width(1);d.set_height(b);d.set_x(a-1);e.set_y(b-1);c.set_color(d.set_color(e.set_color(f.set_color(this.mColor))))}},get_isHorizontalAutoSize:function(){return"horizontal"==this.mAutoSize||"bothDirections"==this.mAutoSize},get_isVerticalAutoSize:function(){return"vertical"==this.mAutoSize||"bothDirections"==this.mAutoSize},getBounds:function(a,b){this.mRequiresRedraw&&this.redraw();this.getTransformationMatrix(a,L.sHelperMatrix);return Ya.getBounds(this.mHitArea,
L.sHelperMatrix,b)},hitTest:function(a,b){null==b&&(b=!1);return!b||this.get_visible()&&this.get_touchable()?this.mHitArea.containsPoint(a)&&this.hitTestMask(a)?this:null:null},set_width:function(a){this.mHitArea.width=a;this.mRequiresRedraw=!0;return F.prototype.get_width.call(this)},set_height:function(a){this.mHitArea.height=a;this.mRequiresRedraw=!0;return F.prototype.get_height.call(this)},get_text:function(){return this.mText},set_text:function(a){null==a&&(a="");this.mText!=a&&(this.mText=
a,this.mRequiresRedraw=!0);return this.mText},get_fontName:function(){return this.mFontName},set_fontName:function(a){if(this.mFontName!=a){var b;if(b="mini"==a)b=null==L.get_bitmapFonts().get(a);b&&L.registerBitmapFont(new $b);this.mFontName=a;this.mRequiresRedraw=!0}return this.mFontName},set_fontSize:function(a){this.mFontSize!=a&&(this.mFontSize=a,this.mRequiresRedraw=!0);return this.mFontSize},set_color:function(a){this.mColor!=a&&(this.mColor=a,this.mRequiresRedraw=!0);return this.mColor},set_hAlign:function(a){if(!Mg.isValid(a))throw new m(new la("Invalid horizontal align: "+
a));this.mHAlign!=a&&(this.mHAlign=a,this.mRequiresRedraw=!0);return this.mHAlign},set_vAlign:function(a){if(!Ng.isValid(a))throw new m(new la("Invalid vertical align: "+a));this.mVAlign!=a&&(this.mVAlign=a,this.mRequiresRedraw=!0);return this.mVAlign},set_border:function(a){if(a&&null==this.mBorder){this.mBorder=new ya;this.addChild(this.mBorder);for(a=0;4>a;)a++,this.mBorder.addChild(new Ea(1,1));this.updateBorder()}else a||null==this.mBorder||(this.mBorder.removeFromParent(!0),this.mBorder=null);
return null!=this.mBorder},set_autoScale:function(a){this.mAutoScale!=a&&(this.mAutoScale=a,this.mRequiresRedraw=!0);return this.mAutoScale},set_batchable:function(a){this.mBatchable=a;null!=this.mQuadBatch&&this.mQuadBatch.set_batchable(a);return this.mBatchable},set_isHtmlText:function(a){this.mIsHtmlText!=a&&(this.mIsHtmlText=a,this.mRequiresRedraw=!0);return this.mIsHtmlText},__class__:L,__properties__:r(F.prototype.__properties__,{set_isHtmlText:"set_isHtmlText",set_batchable:"set_batchable",
set_autoScale:"set_autoScale",set_border:"set_border",set_vAlign:"set_vAlign",set_hAlign:"set_hAlign",set_color:"set_color",set_fontSize:"set_fontSize",set_fontName:"set_fontName",get_fontName:"get_fontName",set_text:"set_text",get_text:"get_text",get_isVerticalAutoSize:"get_isVerticalAutoSize",get_isHorizontalAutoSize:"get_isHorizontalAutoSize"})});var Ia=function(){};h["starling.textures.Texture"]=Ia;Ia.__name__=["starling","textures","Texture"];Ia.__properties__={get_maxSize:"get_maxSize"};Ia.fromBitmapData=
function(a,b,c,d,e,f){null==f&&(f=!1);null==d&&(d=1);null==c&&(c=!1);null==b&&(b=!0);null==e&&(e=1);var g=Ia.empty(a.width/d,a.height/d,!0,b,c,d,e,f);g.get_root().uploadBitmapData(a);g.get_root().set_onRestore(function(){g.get_root().uploadBitmapData(a)});return g};Ia.empty=function(a,b,c,d,e,f,g,h){null==h&&(h=!1);null==f&&(f=-1);null==e&&(e=!1);null==d&&(d=!0);null==c&&(c=!0);0>=f&&(f=A.get_current().get_contentScaleFactor());null==g&&(g=1);var k,p,r;r=A.get_current().get_context();if(null==r)throw new m(new gc);
var t=a*f,q=b*f;d||h||1==A.get_current().get_profile()||3==g?(k=Sc.getNextPowerOfTwo(t|0),p=Sc.getNextPowerOfTwo(q|0),r=r.createTexture(k,p,g,e)):(k=Math.ceil(t-1E-9),p=Math.ceil(q-1E-9),r=r.createRectangleTexture(k,p,g,e));c=new ud(r,g,k,p,d,c,e,f,h);c.set_onRestore(l(c,c.clear));return.001>k-t&&.001>p-q?c:new qb(c,new I(0,0,a,b),!0)};Ia.fromTexture=function(a,b,c,d){null==d&&(d=!1);return new qb(a,b,!1,c,d)};Ia.get_maxSize=function(){var a=A.get_current(),a=null!=a?a.get_profile():0;return 0==a||
1==a?2048:4096};Ia.prototype={dispose:function(){},adjustVertexData:function(a,b,c){},adjustTexCoords:function(a,b,c,d){},get_frame:function(){return null},get_repeat:function(){return!1},get_width:function(){return 0},get_height:function(){return 0},get_nativeWidth:function(){return 0},get_nativeHeight:function(){return 0},get_scale:function(){return 1},get_base:function(){return null},get_root:function(){return null},get_format:function(){return 1},get_mipMapping:function(){return!1},get_premultipliedAlpha:function(){return!1},
__class__:Ia,__properties__:{get_premultipliedAlpha:"get_premultipliedAlpha",get_mipMapping:"get_mipMapping",get_format:"get_format",get_root:"get_root",get_base:"get_base",get_scale:"get_scale",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth",get_height:"get_height",get_width:"get_width",get_repeat:"get_repeat",get_frame:"get_frame"}};var ud=function(a,b,c,d,e,f,g,h,k){null==k&&(k=!1);null==h&&(h=1);null==g&&(g=!1);this.mScale=0>=h?1:h;this.mBase=a;this.mFormat=b;this.mWidth=
c;this.mHeight=d;this.mMipMapping=e;this.mPremultipliedAlpha=f;this.mOptimizedForRenderTexture=g;this.mRepeat=k;this.mOnRestore=null;this.mDataUploaded=!1;this.mTextureReadyCallback=null};h["starling.textures.ConcreteTexture"]=ud;ud.__name__=["starling","textures","ConcreteTexture"];ud.__super__=Ia;ud.prototype=r(Ia.prototype,{dispose:function(){null!=this.mBase&&(this.mBase.removeEventListener("textureReady",l(this,this.onTextureReady)),this.mBase.dispose());this.set_onRestore(null);Ia.prototype.dispose.call(this)},
uploadBitmapData:function(a){var b=null;if(a.width!=this.mWidth||a.height!=this.mHeight)b=new vb(this.mWidth,this.mHeight,!0,0),b.copyPixels(a,a.rect,ud.sOrigin),a=b;if(u.__instanceof(this.mBase,Hc)){var c=this.mBase;c.uploadFromBitmapData(a);if(this.mMipMapping&&1<a.width&&1<a.height){for(var d=a.width>>1,e=a.height>>1,f=1,g=new vb(d,e,!0,0),h=new U(.5,0,0,.5),k=new I;1<=d||1<=e;)k.width=d,k.height=e,g.fillRect(k,0),g.draw(a,h,null,null,null,!0),c.uploadFromBitmapData(g,f++),h.scale(.5,.5),d>>=1,
e>>=1;g.dispose()}}else u.__instanceof(this.mBase,Gc)&&this.mBase.uploadFromBitmapData(a);null!=b&&b.dispose();this.mDataUploaded=!0},onTextureReady:function(a){this.mBase.removeEventListener("textureReady",l(this,this.onTextureReady));null!=this.mTextureReadyCallback&&this.mTextureReadyCallback(this);this.mTextureReadyCallback=null},onContextCreated:function(){this.createBase();null!=this.mOnRestore&&this.mOnRestore();this.mDataUploaded||this.clear()},createBase:function(){var a=A.get_current().get_context(),
b=Bb.getClass(this.mBase);if(u.__instanceof(b,Hc))this.mBase=a.createTexture(this.mWidth,this.mHeight,this.mFormat,this.mOptimizedForRenderTexture);else if(u.__instanceof(b,Gc))this.mBase=a.createRectangleTexture(this.mWidth,this.mHeight,this.mFormat,this.mOptimizedForRenderTexture);else throw new m(new nf("Texture type not supported: "+Bb.getClassName(b)));this.mDataUploaded=!1},clear:function(a,b){null==b&&(b=0);null==a&&(a=0);var c=A.get_current().get_context();if(null==c)throw new m(new gc);this.mPremultipliedAlpha&&
1>b&&(a=Tb.rgb(w["int"](Tb.getRed(a)*b),w["int"](Tb.getGreen(a)*b),w["int"](Tb.getBlue(a)*b)));c.setRenderToTexture(this.mBase);try{P._clear(a,b)}catch(d){if(d instanceof m&&(d=d.val),!u.__instanceof(d,ga))throw d;}c.setRenderToBackBuffer();this.mDataUploaded=!0},set_onRestore:function(a){A.get_current().removeEventListener("context3DCreate",l(this,this.onContextCreated));A.get_handleLostContext()&&null!=a?(this.mOnRestore=a,A.get_current().addEventListener("context3DCreate",l(this,this.onContextCreated))):
this.mOnRestore=null;return this.mOnRestore},get_base:function(){return this.mBase},get_root:function(){return this},get_format:function(){return this.mFormat},get_width:function(){return this.mWidth/this.mScale},get_height:function(){return this.mHeight/this.mScale},get_nativeWidth:function(){return this.mWidth},get_nativeHeight:function(){return this.mHeight},get_scale:function(){return this.mScale},get_mipMapping:function(){return this.mMipMapping},get_premultipliedAlpha:function(){return this.mPremultipliedAlpha},
get_repeat:function(){return this.mRepeat},__class__:ud,__properties__:r(Ia.prototype.__properties__,{set_onRestore:"set_onRestore"})});var qb=function(a,b,c,d,e){null==e&&(e=!1);null==c&&(c=!1);this.mParent=a;this.mRegion=null!=b?b.clone():new I(0,0,a.get_width(),a.get_height());this.mFrame=null!=d?d.clone():null;this.mOwnsParent=c;this.mWidth=(this.mRotated=e)?this.mRegion.height:this.mRegion.width;this.mHeight=e?this.mRegion.width:this.mRegion.height;this.mTransformationMatrix=new U;e&&(this.mTransformationMatrix.translate(0,
-1),this.mTransformationMatrix.rotate(Math.PI/2));null!=this.mFrame&&(0<this.mFrame.x||0<this.mFrame.y||this.mFrame.get_right()<this.mWidth||this.mFrame.get_bottom()<this.mHeight)&&Na.trace("[Starling] Warning: frames inside the texture's region are unsupported.",{fileName:"SubTexture.hx",lineNumber:84,className:"starling.textures.SubTexture",methodName:"new"});this.mTransformationMatrix.scale(this.mRegion.width/this.mParent.get_width(),this.mRegion.height/this.mParent.get_height());this.mTransformationMatrix.translate(this.mRegion.x/
this.mParent.get_width(),this.mRegion.y/this.mParent.get_height())};h["starling.textures.SubTexture"]=qb;qb.__name__=["starling","textures","SubTexture"];qb.__super__=Ia;qb.prototype=r(Ia.prototype,{dispose:function(){this.mOwnsParent&&this.mParent.dispose();Ia.prototype.dispose.call(this)},adjustVertexData:function(a,b,c){var d=8*b+6;this.adjustTexCoords(a.get_rawData(),d,6,c);if(null!=this.mFrame){if(4!=c)throw new m(new la("Textures with a frame can only be used on quads"));c=this.mFrame.width+
this.mFrame.x-this.mWidth;d=this.mFrame.height+this.mFrame.y-this.mHeight;a.translateVertex(b,-this.mFrame.x,-this.mFrame.y);a.translateVertex(b+1,-c,-this.mFrame.y);a.translateVertex(b+2,-this.mFrame.x,-d);a.translateVertex(b+3,-c,-d)}},adjustTexCoords:function(a,b,c,d){null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);0>d&&(d=w["int"]((a.get_length()-b-2)/(c+2)+1));d=b+d*(2+c);var e=this;for(qb.sMatrix.identity();null!=e;)qb.sMatrix.concat(e.mTransformationMatrix),e=w.is(e.get_parent(),qb)?e.get_parent():
null;for(var f=b;f<d;)b=a.get(f),e=a.get(f+1),J.transformCoords(qb.sMatrix,b,e,qb.sTexCoords),a.set(f,qb.sTexCoords.x),a.set(f+1,qb.sTexCoords.y),f+=2+c},get_parent:function(){return this.mParent},get_base:function(){return this.mParent.get_base()},get_root:function(){return this.mParent.get_root()},get_format:function(){return this.mParent.get_format()},get_width:function(){return this.mWidth},get_height:function(){return this.mHeight},get_nativeWidth:function(){return this.mWidth*this.get_scale()},
get_nativeHeight:function(){return this.mHeight*this.get_scale()},get_mipMapping:function(){return this.mParent.get_mipMapping()},get_premultipliedAlpha:function(){return this.mParent.get_premultipliedAlpha()},get_scale:function(){return this.mParent.get_scale()},get_repeat:function(){return this.mParent.get_repeat()},get_frame:function(){return this.mFrame},__class__:qb,__properties__:r(Ia.prototype.__properties__,{get_parent:"get_parent"})});var jc=function(a,b,c,d,e,f){null==f&&(f=!1);null==d&&
(d=-1);null==c&&(c=!0);null==e&&(e=1);0>=d&&(d=A.get_current().get_contentScaleFactor());var g=a,h=b;this.get_supportsNonPotDimensions()||(g=Sc.getNextPowerOfTwo(a*d|0)/d,h=Sc.getNextPowerOfTwo(b*d|0)/d);this.mActiveTexture=Ia.empty(g,h,!0,!1,!0,d,e,f);this.mActiveTexture.get_root().set_onRestore((Mc=this.mActiveTexture.get_root(),l(Mc,Mc.clear)));qb.call(this,this.mActiveTexture,new I(0,0,a,b),!0,null,!1);var k=this.mActiveTexture.get_root().get_width(),m=this.mActiveTexture.get_root().get_height();
this.mIsPersistent=c;this.mSupport=new P;this.mSupport.setProjectionMatrix(0,0,k,m,a,b);!c||jc.optimizePersistentBuffers&&La.get_supportsRelaxedTargetClearRequirement()||(this.mBufferTexture=Ia.empty(g,h,!0,!1,!0,d,e,f),this.mBufferTexture.get_root().set_onRestore((Mc=this.mBufferTexture.get_root(),l(Mc,Mc.clear))),this.mHelperImage=new Ba(this.mBufferTexture),this.mHelperImage.set_smoothing("none"))};h["starling.textures.RenderTexture"]=jc;jc.__name__=["starling","textures","RenderTexture"];jc.__super__=
qb;jc.prototype=r(qb.prototype,{dispose:function(){this.mSupport.dispose();this.mActiveTexture.dispose();this.get_isDoubleBuffered()&&(this.mBufferTexture.dispose(),this.mHelperImage.dispose());qb.prototype.dispose.call(this)},draw:function(a,b,c,d){null==d&&(d=0);null==c&&(c=1);null!=a&&(this.mDrawing?this.render(a,b,c):this.renderBundled(l(this,this.render),a,b,c,d))},drawBundled:function(a,b){null==b&&(b=0);this.renderBundled(a,null,null,1,b)},render:function(a,b,c){null==c&&(c=1);var d=a.get_filter(),
e=a.get_mask();this.mSupport.loadIdentity();this.mSupport.set_blendMode("auto"==a.get_blendMode()?"normal":a.get_blendMode());null!=b?this.mSupport.prependMatrix(b):this.mSupport.transformMatrix(a);null!=e&&this.mSupport.pushMask(e);null!=d?d.render(a,this.mSupport,c):a.render(this.mSupport,c);null!=e&&this.mSupport.popMask()},renderBundled:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=1);if(null==A.get_current().get_context())throw new m(new gc);if(A.get_current().get_contextValid()){if(this.get_isDoubleBuffered()){var f=
this.mActiveTexture;this.mActiveTexture=this.mBufferTexture;this.mBufferTexture=f;this.mHelperImage.set_texture(this.mBufferTexture)}f=this.mSupport.get_renderTarget();jc.sClipRect.setTo(0,0,this.mActiveTexture.get_width(),this.mActiveTexture.get_height());this.mSupport.pushClipRect(jc.sClipRect);this.mSupport.setRenderTarget(this.mActiveTexture,e);!this.get_isDoubleBuffered()&&this.get_isPersistent()&&this.mBufferReady||this.mSupport.clear();this.get_isDoubleBuffered()&&this.mBufferReady?this.mHelperImage.render(this.mSupport,
1):this.mBufferReady=!0;this.mDrawing=!0;a(b,c,d);this.mDrawing=!1;this.mSupport.finishQuadBatch();this.mSupport.nextFrame();this.mSupport.set_renderTarget(f);this.mSupport.popClipRect()}},get_supportsNonPotDimensions:function(){return!0},get_isDoubleBuffered:function(){return null!=this.mBufferTexture},get_isPersistent:function(){return this.mIsPersistent},get_base:function(){return this.mActiveTexture.get_base()},get_root:function(){return this.mActiveTexture.get_root()},__class__:jc,__properties__:r(qb.prototype.__properties__,
{get_isPersistent:"get_isPersistent",get_isDoubleBuffered:"get_isDoubleBuffered",get_supportsNonPotDimensions:"get_supportsNonPotDimensions"})});var wd=function(a,b){this.mSubTextures=new ja;this.mAtlasTexture=a;null!=b&&this.parseAtlasXml(b)};h["starling.textures.TextureAtlas"]=wd;wd.__name__=["starling","textures","TextureAtlas"];wd.parseBool=function(a){return null!=a?"true"==a.toLowerCase():!1};wd.prototype={dispose:function(){this.mAtlasTexture.dispose()},getXmlFloat:function(a,b){var c=a.get(b);
return null!=c?parseFloat(c):0},parseAtlasXml:function(a){var b=this.mAtlasTexture.get_scale(),c=new I,d=new I;for(a=a.elementsNamed("SubTexture");a.hasNext();){var e=a.next(),f=e.get("name"),g=this.getXmlFloat(e,"x")/b,h=this.getXmlFloat(e,"y")/b,k=this.getXmlFloat(e,"width")/b,l=this.getXmlFloat(e,"height")/b,m=this.getXmlFloat(e,"frameX")/b,p=this.getXmlFloat(e,"frameY")/b,q=this.getXmlFloat(e,"frameWidth")/b,r=this.getXmlFloat(e,"frameHeight")/b,e=wd.parseBool(e.get("rotated"));c.setTo(g,h,k,
l);d.setTo(m,p,q,r);0<q&&0<r?this.addRegion(f,c,d,e):this.addRegion(f,c,null,e)}},getTexture:function(a){return this.mSubTextures.get(a)},getNames:function(a,b){null==a&&(a="");null==b&&(b=E.toObjectVector(null));if(null==this.mSubTextureNames){this.mSubTextureNames=E.toObjectVector(null);for(var c=this.mSubTextures.keys();c.hasNext();){var d=c.next(),e=this.mSubTextureNames.get_length();this.mSubTextureNames.set(e,d)}this.mSubTextureNames.sort(l(this,this.compare))}c=0;for(d=this.mSubTextureNames;c<
d.get_length();)if(e=d.get(c),++c,0==e.indexOf(a)){var f=b.get_length();b.set(f,e)}return b},addRegion:function(a,b,c,d){null==d&&(d=!1);b=new qb(this.mAtlasTexture,b,!1,c,d);this.mSubTextures.set(a,b);b;this.mSubTextureNames=null},compare:function(a,b){return a<b?-1:a>b?1:0},__class__:wd};var dg=function(a,b,c,d){null==d&&(d=!1);null==b&&(b=!1);null==a&&(a=1);this.mRepeat=!1;null==c&&(c=1);this.mScale=a;this.mFormat=c;this.mMipMapping=b;this.mRepeat=d};h["starling.textures.TextureOptions"]=dg;dg.__name__=
["starling","textures","TextureOptions"];dg.prototype={__class__:dg};var Kg=function(){};h["starling.textures.TextureSmoothing"]=Kg;Kg.__name__=["starling","textures","TextureSmoothing"];Kg.isValid=function(a){return"none"==a||"bilinear"==a||"trilinear"==a};var bg=function(){};h["starling.utils.ArrayUtil"]=bg;bg.__name__=["starling","utils","ArrayUtil"];bg.clear=function(a){a.splice(0,a.length)};var Jc=function(a,b){null==b&&(b=!1);null==a&&(a=1);this.mDefaultTextureOptions=new dg(a,b);this.mTextures=
new ja;this.mAtlases=new ja;this.mSounds=new ja;this.mXmls=new ja;this.mObjects=new ja;this.mByteArrays=new ja;this.mNumConnections=3;this.mVerbose=!0;this.mQueue=[]};h["starling.utils.AssetManager"]=Jc;Jc.__name__=["starling","utils","AssetManager"];Jc.__super__=bb;Jc.prototype=r(bb.prototype,{getTexture:function(a){if(this.mTextures.exists(a))return this.mTextures.get(a);for(var b=this.mAtlases.iterator();b.hasNext();){var c=b.next().getTexture(a);if(null!=c)return c}return null},getTextures:function(a,
b){null==a&&(a="");null==b&&(b=E.toObjectVector(null));for(var c=0,d=this.getTextureNames(a,Jc.sNames);c<d.get_length();){var e=d.get(c);++c;var f=b.get_length(),e=this.getTexture(e);b.set(f,e)}Jc.sNames.set_length(0);return b},getTextureNames:function(a,b){null==a&&(a="");b=this.getDictionaryKeys(this.mTextures,a,b);for(var c=this.mAtlases.iterator();c.hasNext();)c.next().getNames(a,b);b.sort(l(this,this.compare));return b},getSound:function(a){return this.mSounds.get(a)},addTexture:function(a,b){this.log("Adding texture '"+
a+"'");this.mTextures.exists(a)&&(this.log("Warning: name was already in use; the previous texture will be replaced."),this.mTextures.get(a).dispose());this.mTextures.set(a,b);b},addTextureAtlas:function(a,b){this.log("Adding texture atlas '"+a+"'");this.mAtlases.exists(a)&&(this.log("Warning: name was already in use; the previous atlas will be replaced."),this.mAtlases.get(a).dispose());this.mAtlases.set(a,b);b},addSound:function(a,b){this.log("Adding sound '"+a+"'");this.mSounds.exists(a)&&this.log("Warning: name was already in use; the previous sound will be replaced.");
this.mSounds.set(a,b);b},log:function(a){this.mVerbose&&Na.trace("[AssetManager] "+a,{fileName:"AssetManager.hx",lineNumber:1191,className:"starling.utils.AssetManager",methodName:"log"})},getDictionaryKeys:function(a,b,c){null==b&&(b="");null==c&&(c=E.toObjectVector(null));for(a=a.keys();a.hasNext();){var d=a.next();if(0==d.indexOf(b)){var e=c.get_length();c.set(e,d)}}c.sort(l(this,this.compare));return c},compare:function(a,b){return a<b?-1:a>b?1:0},set_verbose:function(a){return this.mVerbose=
a},__class__:Jc,__properties__:{set_verbose:"set_verbose"}});var Tb=function(){};h["starling.utils.Color"]=Tb;Tb.__name__=["starling","utils","Color"];Tb.getRed=function(a){return a>>16&255};Tb.getGreen=function(a){return a>>8&255};Tb.getBlue=function(a){return a&255};Tb.rgb=function(a,b,c){return a<<16|b<<8|c};var Mg=function(){};h["starling.utils.HAlign"]=Mg;Mg.__name__=["starling","utils","HAlign"];Mg.isValid=function(a){return"left"==a||"center"==a||"right"==a};var cb=function(){};h["starling.utils.MathUtil"]=
cb;cb.__name__=["starling","utils","MathUtil"];cb.intersectLineWithXYPlane=function(a,b,c){null==c&&(c=new fa);var d=b.y-a.y,e=-a.z/(b.z-a.z);c.x=a.x+e*(b.x-a.x);c.y=a.y+e*d;return c};cb.normalizeAngle=function(a){a%=cb.TWO_PI;a<-Math.PI&&(a+=cb.TWO_PI);a>Math.PI&&(a-=cb.TWO_PI);return a};cb.min=function(a){if(0==a.length)return 0;for(var b=a[0],c=1,d=a.length;c<d;){var e=c++;a[e]<b&&(b=a[e])}return b};cb.deg2rad=function(a){return a/180*Math.PI};cb.rad2deg=function(a){return a/Math.PI*180};var J=
function(){};h["starling.utils.MatrixUtil"]=J;J.__name__=["starling","utils","MatrixUtil"];J.convertTo3D=function(a,b){null==b&&(b=new ib);J.sRawData.set(0,a.a);J.sRawData.set(1,a.b);J.sRawData.set(4,a.c);J.sRawData.set(5,a.d);J.sRawData.set(12,a.tx);J.sRawData.set(13,a.ty);b.copyRawDataFrom(J.sRawData);return b};J.convertTo2D=function(a,b){null==b&&(b=new U);a.copyRawDataTo(J.sRawData2);b.a=J.sRawData2.get(0);b.b=J.sRawData2.get(1);b.c=J.sRawData2.get(4);b.d=J.sRawData2.get(5);b.tx=J.sRawData2.get(12);
b.ty=J.sRawData2.get(13);return b};J.transformPoint=function(a,b,c){return J.transformCoords(a,b.x,b.y,c)};J.transformCoords=function(a,b,c,d){null==d&&(d=new fa);d.x=a.a*b+a.c*c+a.tx;d.y=a.d*c+a.b*b+a.ty;return d};J.transformCoords3D=function(a,b,c,d,e){null==e&&(e=new Fb);a.copyRawDataTo(J.sRawData2);e.x=b*J.sRawData2.get(0)+c*J.sRawData2.get(4)+d*J.sRawData2.get(8)+J.sRawData2.get(12);e.y=b*J.sRawData2.get(1)+c*J.sRawData2.get(5)+d*J.sRawData2.get(9)+J.sRawData2.get(13);e.z=b*J.sRawData2.get(2)+
c*J.sRawData2.get(6)+d*J.sRawData2.get(10)+J.sRawData2.get(14);e.w=b*J.sRawData2.get(3)+c*J.sRawData2.get(7)+d*J.sRawData2.get(11)+J.sRawData2.get(15);return e};J.skew=function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var e=Math.sin(c);c=Math.cos(c);a.setTo(a.a*c-a.b*d,a.a*e+a.b*b,a.c*c-a.d*d,a.c*e+a.d*b,a.tx*c-a.ty*d,a.tx*e+a.ty*b)};J.prependMatrix=function(a,b){a.setTo(a.a*b.a+a.c*b.b,a.b*b.a+a.d*b.b,a.a*b.c+a.c*b.d,a.b*b.c+a.d*b.d,a.tx+a.a*b.tx+a.c*b.ty,a.ty+a.b*b.tx+a.d*b.ty)};J.prependTranslation=
function(a,b,c){a.tx+=a.a*b+a.c*c;a.ty+=a.b*b+a.d*c};var Sc=function(){};h["starling.utils.PowerOfTwo"]=Sc;Sc.__name__=["starling","utils","PowerOfTwo"];Sc.getNextPowerOfTwo=function(a){if(0<a&&0==(a&a-1))return a;for(var b=1;b<a;)b<<=1;return b};var Ya=function(){};h["starling.utils.RectangleUtil"]=Ya;Ya.__name__=["starling","utils","RectangleUtil"];Ya.intersect=function(a,b,c){null==c&&(c=new I);var d;d=a.x>b.x?a.x:b.x;var e;e=a.get_right()<b.get_right()?a.get_right():b.get_right();var f;f=a.y>
b.y?a.y:b.y;a=a.get_bottom()<b.get_bottom()?a.get_bottom():b.get_bottom();d>e||f>a?c.setEmpty():c.setTo(d,f,e-d,a-f);return c};Ya.fit=function(a,b,c,d,e){null==d&&(d=!1);null==c&&(c="showAll");if(!Og.isValid(c))throw new m(new la("Invalid scaleMode: "+c));null==e&&(e=new I);var f=a.width;a=a.height;var g=b.width/f,h=b.height/a,k=1;"showAll"==c?(k=g<h?g:h,d&&(k=Ya.nextSuitableScaleFactor(k,!1))):"noBorder"==c&&(k=g>h?g:h,d&&(k=Ya.nextSuitableScaleFactor(k,!0)));f*=k;a*=k;e.setTo(b.x+(b.width-f)/2,
b.y+(b.height-a)/2,f,a);return e};Ya.nextSuitableScaleFactor=function(a,b){var c=1;if(b){if(.5<=a)return Math.ceil(a);for(;1/(c+1)>a;)++c}else{if(1<=a)return Math.floor(a);for(;1/c>a;)++c}return 1/c};Ya.getBounds=function(a,b,c){null==c&&(c=new I);for(var d=1.79E308,e=-1.79E308,f=1.79E308,g=-1.79E308,h=0;4>h;){var k=h++;J.transformCoords(b,Ya.sPositions[k].x*a.width,Ya.sPositions[k].y*a.height,Ya.sHelperPoint);d>Ya.sHelperPoint.x&&(d=Ya.sHelperPoint.x);e<Ya.sHelperPoint.x&&(e=Ya.sHelperPoint.x);f>
Ya.sHelperPoint.y&&(f=Ya.sHelperPoint.y);g<Ya.sHelperPoint.y&&(g=Ya.sHelperPoint.y)}c.setTo(d,f,e-d,g-f);return c};var Og=function(){};h["starling.utils.ScaleMode"]=Og;Og.__name__=["starling","utils","ScaleMode"];Og.isValid=function(a){return"none"==a||"noBorder"==a||"showAll"==a};var ag=function(){};h["starling.utils.StringUtil"]=ag;ag.__name__=["starling","utils","StringUtil"];ag.formatString=function(a,b){for(var c=0,d=b.length;c<d;){var e=c++;a=(new wa("\\{"+e+"\\}","g")).replace(a,w.string(b[e]))}return a};
var La=function(){};h["starling.utils.SystemUtil"]=La;La.__name__=["starling","utils","SystemUtil"];La.__properties__={get_supportsDepthAndStencil:"get_supportsDepthAndStencil",get_supportsRelaxedTargetClearRequirement:"get_supportsRelaxedTargetClearRequirement"};La.initialize=function(){if(!La.sInitialized){La.sInitialized=!0;var a=xc.get_version();La.sVersion=M.substr(a,4,null);try{var b=Qa.current;b.addEventListener("activate",La.onActivate,!1,0,!0);b.addEventListener("deactivate",La.onDeactivate,
!1,0,!0);var c=Pb.current.__windows[0].config;La.sSupportsDepthAndStencil=c.depthBuffer||c.stencilBuffer;La.sAIR=!0}catch(d){if(d instanceof m&&(d=d.val),u.__instanceof(d,ga))La.sAIR=!1;else throw d;}}};La.onActivate=function(a){La.sApplicationActive=!0;a=0;for(var b=La.sWaitingCalls;a<b.length;){var c=b[a];++a;try{T.callMethod(null,c[0],c[1])}catch(d){if(d instanceof m&&(d=d.val),u.__instanceof(d,ga))Na.trace("[Starling] Error in 'executeWhenApplicationIsActive' call: "+d.message,{fileName:"SystemUtil.hx",
lineNumber:79,className:"starling.utils.SystemUtil",methodName:"onActivate"});else throw d;}}La.sWaitingCalls=[]};La.onDeactivate=function(a){La.sApplicationActive=!1};La.get_supportsRelaxedTargetClearRequirement=function(){return!0};La.get_supportsDepthAndStencil=function(){return La.sSupportsDepthAndStencil};var Ng=function(){};h["starling.utils.VAlign"]=Ng;Ng.__name__=["starling","utils","VAlign"];Ng.isValid=function(a){return"top"==a||"center"==a||"bottom"==a};var Lg=function(){};h["starling.utils.VectorUtil"]=
Lg;Lg.__name__=["starling","utils","VectorUtil"];Lg.removeUnsignedIntAt=function(a,b){var c=a.get_length();Ja.gt(0,b)&&(b+=c);Ja.gt(0,b)?b=0:Ja.gte(b,c)&&(b=c-1);for(var d=a.get(b),e=b+1;e<c;){var f=e++,g=a.get(f);a.set(f-1,g)}a.set_length(c-1);return d};var ia=function(a,b){null==b&&(b=!1);for(var c=[],d=E.toFloatVector(null),e=0,f=c.length;e<f;){var g=e++;d.set(g,c[g])}this.mRawData=d;this.mPremultipliedAlpha=b;this.mNumVertices=0;this.set_numVertices(a)};h["starling.utils.VertexData"]=ia;ia.__name__=
["starling","utils","VertexData"];ia.prototype={copyTo:function(a,b,c,d){null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.copyTransformedTo(a,b,null,c,d)},copyTransformedTo:function(a,b,c,d,e){null==e&&(e=-1);null==d&&(d=0);null==b&&(b=0);if(0>e||d+e>this.mNumVertices)e=this.mNumVertices-d;var f;a=a.mRawData;b*=8;var g=8*d;d=8*(d+e);if(null!=c)for(;g<d;){e=g++;e=this.mRawData.get(e);f=g++;f=this.mRawData.get(f);var h=b++;a.set(h,c.a*e+c.c*f+c.tx);h=b++;a.set(h,c.d*f+c.b*e+c.ty);e=b++;f=g++;f=this.mRawData.get(f);
a.set(e,f);e=b++;f=g++;f=this.mRawData.get(f);a.set(e,f);e=b++;f=g++;f=this.mRawData.get(f);a.set(e,f);e=b++;f=g++;f=this.mRawData.get(f);a.set(e,f);e=b++;f=g++;f=this.mRawData.get(f);a.set(e,f);e=b++;f=g++;f=this.mRawData.get(f);a.set(e,f)}else for(;g<d;)c=b++,e=g++,e=this.mRawData.get(e),a.set(c,e)},setPosition:function(a,b,c){a*=8;this.mRawData.set(a,b);this.mRawData.set(a+1,c)},getPosition:function(a,b){var c=8*a;b.x=this.mRawData.get(c);b.y=this.mRawData.get(c+1)},setColorAndAlpha:function(a,
b,c){.001>c?c=.001:1<c&&(c=1);a=8*a+2;var d;d=this.mPremultipliedAlpha?c:1;var e=Ja.toFloat(b>>16&255)/255*d;this.mRawData.set(a,e);e=Ja.toFloat(b>>8&255)/255*d;this.mRawData.set(a+1,e);b=Ja.toFloat(b&255)/255*d;this.mRawData.set(a+2,b);this.mRawData.set(a+3,c)},setColor:function(a,b){var c=8*a+2,d;d=this.mPremultipliedAlpha?this.mRawData.get(c+3):1;var e=Ja.toFloat(b>>16&255)/255*d;this.mRawData.set(c,e);e=Ja.toFloat(b>>8&255)/255*d;this.mRawData.set(c+1,e);d*=Ja.toFloat(b&255)/255;this.mRawData.set(c+
2,d)},getColor:function(a){var b=8*a+2,c;c=this.mPremultipliedAlpha?this.mRawData.get(b+3):1;if(0==c)return 0;a=this.mRawData.get(b)/c;var d=this.mRawData.get(b+1)/c,b=this.mRawData.get(b+2)/c;return(255*a|0)<<16|(255*d|0)<<8|255*b|0},setAlpha:function(a,b){this.mPremultipliedAlpha?this.setColorAndAlpha(a,this.getColor(a),b):this.mRawData.set(8*a+5,b)},getAlpha:function(a){return this.mRawData.get(8*a+5)},setTexCoords:function(a,b,c){a=8*a+6;this.mRawData.set(a,b);this.mRawData.set(a+1,c)},translateVertex:function(a,
b,c){a*=8;b=this.mRawData.get(a)+b;this.mRawData.set(a,b);c=this.mRawData.get(a+1)+c;this.mRawData.set(a+1,c)},setUniformColor:function(a){for(var b=0,c=this.mNumVertices;b<c;){var d=b++;this.setColor(d,a)}},scaleAlpha:function(a,b,c){null==c&&(c=1);if(1!=b){if(0>c||a+c>this.mNumVertices)c=this.mNumVertices-a;if(this.mPremultipliedAlpha)for(var d=0;d<c;){var e=d++;this.setAlpha(a+e,this.getAlpha(a+e)*b)}else for(a=8*a+5,d=0;d<c;){var e=d++,e=a+8*e|0,f=this.mRawData.get(e)*b;this.mRawData.set(e,f)}}},
getBounds:function(a,b,c,d){null==c&&(c=-1);null==b&&(b=0);null==d&&(d=new I);if(0>c||b+c>this.mNumVertices)c=this.mNumVertices-b;if(0==c)null==a?d.setEmpty():(J.transformCoords(a,0,0,ia.sHelperPoint),d.setTo(ia.sHelperPoint.x,ia.sHelperPoint.y,0,0));else{var e=1.79E308,f=-1.79E308,g=1.79E308,h=-1.79E308;b*=8;var k,l;if(null==a)for(a=0;a<c;)a++,k=this.mRawData.get(b),l=this.mRawData.get(b+1),b+=8,e>k&&(e=k),f<k&&(f=k),g>l&&(g=l),h<l&&(h=l);else for(var m=0;m<c;)m++,k=this.mRawData.get(b),l=this.mRawData.get(b+
1),b+=8,J.transformCoords(a,k,l,ia.sHelperPoint),e>ia.sHelperPoint.x&&(e=ia.sHelperPoint.x),f<ia.sHelperPoint.x&&(f=ia.sHelperPoint.x),g>ia.sHelperPoint.y&&(g=ia.sHelperPoint.y),h<ia.sHelperPoint.y&&(h=ia.sHelperPoint.y);d.setTo(e,g,f-e,h-g)}return d},getBoundsProjected:function(a,b,c,d,e){null==d&&(d=-1);null==c&&(c=0);if(null==b)throw new m(new la("camPos must not be null"));null==e&&(e=new I);if(0>d||c+d>this.mNumVertices)d=this.mNumVertices-c;if(0==d)null!=a?J.transformCoords3D(a,0,0,0,ia.sHelperPoint3D):
ia.sHelperPoint3D.setTo(0,0,0),cb.intersectLineWithXYPlane(b,ia.sHelperPoint3D,ia.sHelperPoint),e.setTo(ia.sHelperPoint.x,ia.sHelperPoint.y,0,0);else{var f=1.79E308,g=-1.79E308,h=1.79E308,k=-1.79E308;c*=8;for(var l,p,r=0;r<d;)r++,l=this.mRawData.get(c),p=this.mRawData.get(c+1),c+=8,null!=a?J.transformCoords3D(a,l,p,0,ia.sHelperPoint3D):ia.sHelperPoint3D.setTo(l,p,0),cb.intersectLineWithXYPlane(b,ia.sHelperPoint3D,ia.sHelperPoint),f>ia.sHelperPoint.x&&(f=ia.sHelperPoint.x),g<ia.sHelperPoint.x&&(g=
ia.sHelperPoint.x),h>ia.sHelperPoint.y&&(h=ia.sHelperPoint.y),k<ia.sHelperPoint.y&&(k=ia.sHelperPoint.y);e.setTo(f,h,g-f,k-h)}return e},get_tinted:function(){for(var a=2,b=0,c=this.mNumVertices;b<c;){b++;for(var d=0;4>d;){var e=d++;if(1!=this.mRawData.get(a+e))return!0}a+=8}return!1},setPremultipliedAlpha:function(a,b){null==b&&(b=!0);if(a!=this.mPremultipliedAlpha){if(b)for(var c=8*this.mNumVertices,d=2;d<c;){var e=this.mRawData.get(d+3),f;f=this.mPremultipliedAlpha?e:1;e=a?e:1;if(0!=f){var g=this.mRawData.get(d)/
f*e;this.mRawData.set(d,g);g=this.mRawData.get(d+1)/f*e;this.mRawData.set(d+1,g);f=this.mRawData.get(d+2)/f*e;this.mRawData.set(d+2,f)}d+=8}this.mPremultipliedAlpha=a}},get_premultipliedAlpha:function(){return this.mPremultipliedAlpha},get_numVertices:function(){return this.mNumVertices},set_numVertices:function(a){this.mRawData.fixed=!1;this.mRawData.set_length(8*a);for(var b=8*a,c=8*this.mNumVertices+5;c<b;)this.mRawData.set(c,1),c+=8;this.mNumVertices=a;this.mRawData.fixed=!0;return this.mNumVertices},
get_rawData:function(){return this.mRawData},__class__:ia,__properties__:{get_rawData:"get_rawData",set_numVertices:"set_numVertices",get_numVertices:"get_numVertices",get_premultipliedAlpha:"get_premultipliedAlpha",get_tinted:"get_tinted"}};var eg=function(){};h["utils.ProgressBar"]=eg;eg.__name__=["utils","ProgressBar"];eg.__super__=yb;eg.prototype=r(yb.prototype,{__class__:eg});var ff=function(a,b,c){null==b&&(b="");Gb.call(this,a,b,c)};h["utils.RoundButton"]=ff;ff.__name__=["utils","RoundButton"];
ff.__super__=Gb;ff.prototype=r(Gb.prototype,{hitTest:function(a,b){null==b&&(b=!1);if(b&&(!this.get_visible()||!this.get_touchable()))return null;var c=this.get_bounds(),d=c.height/2;return Math.pow(a.x-c.width/2,2)+Math.pow(a.y-d,2)<Math.pow(c.width/2-8,2)?this:null},__class__:ff});var gf=function(a){F.call(this);this.addEventListener("touch",l(this,this.onTouch));this.set_useHandCursor(!0);null!=a&&(a.set_x(w["int"](a.get_width()/-2)),a.set_y(w["int"](a.get_height()/-2)),this.addChild(a))};h["utils.TouchSheet"]=
gf;gf.__name__=["utils","TouchSheet"];gf.__super__=ya;gf.prototype=r(ya.prototype,{onTouch:function(a){var b=a.getTouches(this,"moved");if(1==b.get_length())b=b.get(0).getMovement(this.get_parent()),this.set_x(this.get_x()+b.x),this.set_y(this.get_y()+b.y);else if(2==b.get_length()){var c=b.get(0),d=b.get(1),b=c.getLocation(this.get_parent()),e=c.getPreviousLocation(this.get_parent()),f=d.getLocation(this.get_parent()),g=d.getPreviousLocation(this.get_parent()),h=b.subtract(f),e=e.subtract(g),g=Math.atan2(h.y,
h.x),k=Math.atan2(e.y,e.x),g=g-k,c=c.getPreviousLocation(this),d=d.getPreviousLocation(this);this.set_pivotX(.5*(c.x+d.x));this.set_pivotY(.5*(c.y+d.y));this.set_x(.5*(b.x+f.x));this.set_y(.5*(b.y+f.y));this.set_rotation(this.get_rotation()+g);b=h.get_length()/e.get_length();this.set_scaleX(this.get_scaleX()*b);this.set_scaleY(this.get_scaleY()*b)}a=a.getTouch(this,"ended");null!=a&&2==a.get_tapCount()&&this.get_parent().addChild(this)},dispose:function(){this.removeEventListener("touch",l(this,this.onTouch));
ya.prototype.dispose.call(this)},__class__:gf});var Mc,gh=0;Array.prototype.indexOf&&(M.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)});h.Math=Math;String.prototype.__class__=h.String=String;String.__name__=["String"];h.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=h.Date=Date;Date.__name__=["Date"];var lg=h.Int={__name__:["Int"]},hh=h.Dynamic={__name__:["Dynamic"]},Rg=h.Float=Number;Rg.__name__=["Float"];var Sg=h.Bool=Boolean;Sg.__ename__=["Bool"];var ih=h.Class=
{__name__:["Class"]},jh={},ec={},jg=Pg.ArrayBuffer||oc;null==jg.prototype.slice&&(jg.prototype.slice=oc.sliceImpl);var fc=Pg.Uint8Array||Bc._new,Zg;Zg=new Uint32Array(256);B.__alpha16=Zg;for(var $g=0;256>$g;){var ah=$g++,kh=Math.ceil(257.00392156862745*ah);B.__alpha16[ah]=kh}var bh;bh=new fc(510);B.__clamp=bh;for(var ch=0;255>ch;){var dh=ch++;B.__clamp[dh]=dh}for(var eh=255;511>eh;){var lh=eh++;B.__clamp[lh]=255}Wb.level=3;"undefined"==typeof Tc&&(Tc={});null==Tc.log&&(Tc.log=function(){});Qc.maxTouchPoints=
2;Qc.supportedGestures=null;Qc.supportsGestureEvents=!1;Qc.inputMode=2;S.__broadcastEvents=new ja;S.__instanceCount=0;S.__worldRenderDirty=0;S.__worldTransformDirty=0;va.GameWidth=320;va.GameHeight=480;va.CenterX=va.GameWidth/2|0;va.CenterY=va.GameHeight/2|0;Ub.__registeredFonts=[];bb.sBubbleChains=[];U.__identity=new U;U.__matrix3=new he;U.__temp=new U;fa.__temp=new fa;I.__temp=new I;N.sAncestors=E.toObjectVector(null);N.sHelperPoint=new fa;N.sHelperPoint3D=new Fb;N.sHelperPointAlt3D=new Fb;N.sHelperRect=
new I;N.sHelperMatrix=new U;N.sHelperMatrixAlt=new U;N.sHelperMatrix3D=new ib;N.sHelperMatrixAlt3D=new ib;F.sHelperMatrix=new U;F.sHelperPoint=new fa;F.sBroadcastListeners=E.toObjectVector(null);ya.sHelperMatrix=new U;ya.sHelperPoint=new fa;ya.sHelperRect=new I;K.Element=0;K.PCData=1;K.CData=2;K.Comment=3;K.DocType=4;K.ProcessingInstruction=5;K.Document=6;Lc.count=0;nc.i64tmp=new G(0,0);zc.escapes=function(a){a=new ja;null!=ec.lt?a.setReserved("lt","<"):a.h.lt="<";null!=ec.gt?a.setReserved("gt",">"):
a.h.gt=">";null!=ec.amp?a.setReserved("amp","&"):a.h.amp="&";null!=ec.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=ec.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);u.__toStr={}.toString;Bc.BYTES_PER_ELEMENT=1;Y.cache=new tf;Y.libraries=new ja;Y.onChange=new gb;Y.initialized=!1;na.windowID=0;Ma.audioBuffers=new ja;Ma.images=new ja;Ma.loaders=new ja;oa.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];jb.devices=new Ob;jb.onConnect=new Gf;db.devices=new Ob;db.onConnect=new Hf;Ib.onEnd=
new Fd;Ib.onMove=new Fd;Ib.onStart=new Fd;Xa.cache=new Ee;wc.__rootURL=window.document.URL;fd.currentDomain=new fd(null);Qa.current=new Fe;Jb.empty=new Jb;Fa.SIN45=.7071067811865476;Fa.TAN22=.41421356237309503;k.SIN45=.7071067811865476;k.TAN22=.41421356237309503;k.fillCommands=new Jb;k.strokeCommands=new Jb;D.debug=!1;Nd.P=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,
237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,
218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180,151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,
229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,
192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];lb.__stateCache=new Pf;nd.verbose=5==Wb.level;Yb.__soundChannels=[];Yb.__soundTransform=new rd;xc.isDebugger=!1;xc.playerType="OpenFL";W.__regexAlign=new wa("align=(\"([^\"]+)\"|'([^']+)')","i");W.__regexColor=new wa("color=(\"#([^\"]+)\"|'#([^']+)')","i");W.__regexBlockIndent=new wa("blockindent=(\"([^\"]+)\"|'([^']+)')","i");W.__regexBreakTag=new wa("<br\\s*/?>",
"gi");W.__regexEntities=[new wa("&quot;","g"),new wa("&apos;","g"),new wa("&amp;","g"),new wa("&lt;","g"),new wa("&gt;","g")];W.__regexFace=new wa("face=(\"([^\"]+)\"|'([^']+)')","i");W.__regexHTMLTag=new wa("<.*?>","g");W.__regexIndent=new wa(" indent=(\"([^\"]+)\"|'([^']+)')","i");W.__regexLeading=new wa("leading=(\"([^\"]+)\"|'([^']+)')","i");W.__regexLeftMargin=new wa("leftmargin=(\"([^\"]+)\"|'([^']+)')","i");W.__regexRightMargin=new wa("rightmargin=(\"([^\"]+)\"|'([^']+)')","i");W.__regexTabStops=
new wa("tabstops=(\"([^\"]+)\"|'([^']+)')","i");W.__regexSize=new wa("size=(\"([^\"]+)\"|'([^']+)')","i");ra.numDevices=0;ra.__deviceList=[];ra.__devices=new Lc;ra.__instances=[];dc.supportsCursor=!0;dc.__cursor="auto";Xc.FRAME_TIME_WINDOW_SIZE=10;Xc.MAX_FAIL_COUNT=100;Sb.sPool=E.toObjectVector(null);fb.HINT_MARKER="#";fb.sTweenPool=E.toObjectVector(null);P.sPoint=new fa;P.sPoint3D=new Fb;P.sClipRect=new I;P.sBufferRect=new I;P.sScissorRect=new I;P.sMatrix3D=new ib;P.sMatrixData=function(a){a=[0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var b=E.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);A.sHandleLostContext=!0;A.sContextData=new Lc;A.sAll=E.toObjectVector(null);jf.sBlendFactors=[function(a){a=new ja;a.set("none",[2,9]);a.set("normal",[7,5]);a.set("add",[7,0]);a.set("multiply",[1,5]);a.set("screen",[7,2]);a.set("erase",[9,5]);a.set("mask",[9,7]);a.set("below",[3,0]);return a}(this),function(a){a=new ja;a.set("none",[2,9]);a.set("normal",[2,5]);a.set("add",[2,
2]);a.set("multiply",[1,5]);a.set("screen",[2,6]);a.set("erase",[9,5]);a.set("mask",[9,7]);a.set("below",[3,0]);return a}(this)];Mb.sHelperMatrix=new U;Mb.sRenderAlpha=function(a){a=[1,1,1,1];for(var b=E.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);Ea.sHelperPoint=new fa;Ea.sHelperPoint3D=new Fb;Ea.sHelperMatrix=new U;Ea.sHelperMatrix3D=new ib;xa.sHelperMatrix=new U;xa.sRenderAlpha=function(a){a=[1,1,1,1];for(var b=E.toFloatVector(null),c=0,d=a.length;c<d;){var e=
c++;b.set(e,a[e])}return b}(this);xa.sProgramNameCache=new Ob;Ab.sHelperPoint=new Fb;Ab.sHelperPointAlt=new Fb;Ab.sHelperMatrix=new ib;lc.sHelperMatrix=new ib;Wa.sEventPool=E.toObjectVector(null);hc.sHelperPoint=new fa;Nb.sTouches=E.toObjectVector(null);xb.sUpdatedTouches=E.toObjectVector(null);xb.sHoveringTouchData=E.toObjectVector(null);xb.sHelperPoint=new fa;ob.sStageBounds=new I;ob.sTransformationMatrix=new U;mb.MIN_COLOR=function(a){a=[0,0,0,1E-4];for(var b=E.toFloatVector(null),c=0,d=a.length;c<
d;){var e=c++;b.set(e,a[e])}return b}(this);mb.IDENTITY=function(a){a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];for(var b=E.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);mb.sTmpMatrix1=E.toFloatVector(null,20,!0);mb.sTmpMatrix2=E.toFloatVector(null);$a.sOneHalf=function(a){a=[.5,.5,.5,.5];for(var b=E.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);$a.sMapTexCoords=function(a){a=[0,0,1,0,0,1,1,1];for(var b=E.toFloatVector(null),c=
0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);$a.sMatrix=new ib;$a.sMatrixData=function(a){a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var b=E.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);nb.sRestIndices=E.toIntVector(null);$b.sLines=[];Aa.sInstancePool=E.toObjectVector(null);Aa.sVectorPool=[];Aa.sInstanceLoan=E.toObjectVector(null);Aa.sVectorLoan=[];Zb.BITMAP_DATA=[2027613533,-881927360,202148514,-2028041698,-88080844,-8114179,2034947,-1092263897,352977282,
-1337209332,-1181314416,-2136898414,1468709156,-2026903579,-1515657153,2101025806,-878458241,-79172757,-692798458,1038056207,1932393374,-1112681669,-1208165062,1741291262,2017257123,-899686453,984074419,-1245274149,-308890273,1055013549,1806563255,1754714962,1577746187,1124058786,-406208038,-1812738253,-1378383630,-551901968,866060213,1695195001,-1893385228,-1181619395,-1678445700,1053798161,2093370968,-65941613,560451479,854767518,-1684725974,-15925948,-113394816,-263722323,587139110,1081376765,
962217926,783603325,-689440871,-192965380,289204733,-1659827041,-840985601,-807112923,2132197241,-1130192222,-37326968,770238970,144664537,707141570,-1360534225,871272893,512964596,808491899,481894297,-1198984815,-696603140,1710636358,-1390950977,1751040139,596966466,1363963692,465815609,315567311,-4301137,-208944745,179721458,-2073232326,-352742308,1519355876,-1002643514,-361540066,-980767403,-558739948,-448928871,603088884,-1617618069,-1087897969,-739691329,-1231913013,-1230390083,-882923117,693642210,
-14453347,762928717,1802215333,-520117622,-73811966,970959395,557220237,2107226136,-785144314,-891682508,-29147277,898597576,991077243,2091615904,-960250408,633599866,-76187187,-2078966920,834870947,2118009742,1362731961,236280636,1274945142,1458729366,797960805,-1005597576,2103717340,-348561293,-1618444407,1624104606,1156993903,-1108796892,-2040468225,1204911924,1314218830,-987880904,-1470691337,-455101617,2073394964,1873329433,1754205930,1528429545,1631106062,-2031694831,-74470249,-772073531,-653590993,
707451487,-842470509,1390653868,-1674411503,1027328684,-875283820,-632773593,765701986,-486688164,786403271,-470531459,713234896,-33110897,-823036565,-301474417,1447960461,1398434593,1914230187,-1896324011,-138592832,-435628089,-1074267235,-921718534,-1108936862,1315917060,-1485114815,-286413393,-189355343,1599499652,-781109705,877854499,-96707841,-646407219,-1456931877,-1039373106,-1829388839,-31462095,534904657,-1405705698,1358214576,1069250354,-424956739,-1666070713,-846356418,442343309,1024736866,
-279848163,-1044100017,1513359261,-1852877700,1944476762,735490552,426990058,-60861185,1204305707,-963972031,-1896317928,-73919173,1724669255,-493851587,-805638506,-398564363,-598030357,-1457984001,-638216903,-945242784,-484551009,-639969688,-10512193,-2000027733,-87269364,642748805,-1817985657,-1975547398,572956615,-461728356,964924880,2081600351,-722508880,2056247513,1951368808,2133449703,-1511238668,512866577,913279200,1678129016,-806388305,-921014367,-1731970345,-628908371,1664169178,1943591935,
750675303,154399903,-1723376406,852654952,-177659530,1971649621,-114771476,1222535348,-11014081,-1414305060,-1577556316,1175907705,1157322027,505963121,-1663426680,-633739640,-703163943,-1670840475,1948662907,-698902193,1147387734,256773959,1173572460,-1933009825,-84091220,-1214786676,-830166086,-473313037,1465302035,-1443781839,-1151701152,-501786882,-926134193,-20296584,-821148188,-807397964,773123355,1618635668,-1724791106,2075248691,1740805534,288646743,1837597401,603556968,-1112430424,673184603,
-1206210243,-1397912892,-1102315980,-1409631494,1057233368,1118437241,-112840833,-1184502521,-981775682,-1933980022,735505357,-1302335871,-1934038485,-107132769,279183208,1586420003,1174008423,-231979707,1162167621,1162167621,1162167621,1162167621,1174119799,787274608];Zb.XML_DATA=K.createElement('\r\n      <font>\r\n      <info face="mini" size="8" bold="0" italic="0" smooth="0"/>\r\n      <common lineHeight="8" base="7" scaleW="128" scaleH="64" pages="1" packed="0"/>\r\n      <chars count="191">\r\n        <char id="195" x="1" y="1" width="5" height="9" xoffset="0" yoffset="-2" xadvance="6"/>\r\n        <char id="209" x="7" y="1" width="5" height="9" xoffset="0" yoffset="-2" xadvance="6"/>\r\n        <char id="213" x="13" y="1" width="5" height="9" xoffset="0" yoffset="-2" xadvance="6"/>\r\n        <char id="253" x="19" y="1" width="4" height="9" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="255" x="24" y="1" width="4" height="9" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="192" x="29" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="193" x="35" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="194" x="41" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="197" x="47" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="200" x="53" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="201" x="59" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="202" x="65" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="210" x="71" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="211" x="77" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="212" x="83" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="217" x="89" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="218" x="95" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="219" x="101" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="221" x="107" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="206" x="113" y="1" width="3" height="8" xoffset="-1" yoffset="-1" xadvance="2"/>\r\n        <char id="204" x="117" y="1" width="2" height="8" xoffset="-1" yoffset="-1" xadvance="2"/>\r\n        <char id="205" x="120" y="1" width="2" height="8" xoffset="0" yoffset="-1" xadvance="2"/>\r\n        <char id="36"  x="1" y="11" width="5" height="7" xoffset="0" yoffset="1" xadvance="6"/>\r\n        <char id="196" x="7" y="11" width="5" height="7" xoffset="0" yoffset="0" xadvance="6"/>\r\n        <char id="199" x="13" y="11" width="5" height="7" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="203" x="19" y="11" width="5" height="7" xoffset="0" yoffset="0" xadvance="6"/>\r\n        <char id="214" x="25" y="11" width="5" height="7" xoffset="0" yoffset="0" xadvance="6"/>\r\n        <char id="220" x="31" y="11" width="5" height="7" xoffset="0" yoffset="0" xadvance="6"/>\r\n        <char id="224" x="37" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="225" x="42" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="226" x="47" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="227" x="52" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="232" x="57" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="233" x="62" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="234" x="67" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="235" x="72" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="241" x="77" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="242" x="82" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="243" x="87" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="244" x="92" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="245" x="97" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="249" x="102" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="250" x="107" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="251" x="112" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="254" x="117" y="11" width="4" height="7" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="123" x="122" y="11" width="3" height="7" xoffset="0" yoffset="1" xadvance="4"/>\r\n        <char id="125" x="1" y="19" width="3" height="7" xoffset="0" yoffset="1" xadvance="4"/>\r\n        <char id="167" x="5" y="19" width="3" height="7" xoffset="0" yoffset="1" xadvance="4"/>\r\n        <char id="207" x="9" y="19" width="3" height="7" xoffset="-1" yoffset="0" xadvance="2"/>\r\n        <char id="106" x="13" y="19" width="2" height="7" xoffset="0" yoffset="2" xadvance="3"/>\r\n        <char id="40" x="16" y="19" width="2" height="7" xoffset="0" yoffset="1" xadvance="3"/>\r\n        <char id="41" x="19" y="19" width="2" height="7" xoffset="0" yoffset="1" xadvance="3"/>\r\n        <char id="91" x="22" y="19" width="2" height="7" xoffset="0" yoffset="1" xadvance="3"/>\r\n        <char id="93" x="25" y="19" width="2" height="7" xoffset="0" yoffset="1" xadvance="3"/>\r\n        <char id="124" x="28" y="19" width="1" height="7" xoffset="1" yoffset="1" xadvance="4"/>\r\n        <char id="81" x="30" y="19" width="5" height="6" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="163" x="36" y="19" width="5" height="6" xoffset="0" yoffset="1" xadvance="6"/>\r\n        <char id="177" x="42" y="19" width="5" height="6" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="181" x="48" y="19" width="5" height="6" xoffset="0" yoffset="3" xadvance="6"/>\r\n        <char id="103" x="54" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="112" x="59" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="113" x="64" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="121" x="69" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="162" x="74" y="19" width="4" height="6" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="228" x="79" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\r\n        <char id="229" x="84" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\r\n        <char id="231" x="89" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="240" x="94" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\r\n        <char id="246" x="99" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\r\n        <char id="252" x="104" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\r\n        <char id="238" x="109" y="19" width="3" height="6" xoffset="-1" yoffset="1" xadvance="2"/>\r\n        <char id="59" x="113" y="19" width="2" height="6" xoffset="0" yoffset="3" xadvance="4"/>\r\n        <char id="236" x="116" y="19" width="2" height="6" xoffset="-1" yoffset="1" xadvance="2"/>\r\n        <char id="237" x="119" y="19" width="2" height="6" xoffset="0" yoffset="1" xadvance="2"/>\r\n        <char id="198" x="1" y="27" width="9" height="5" xoffset="0" yoffset="2" xadvance="10"/>\r\n        <char id="190" x="11" y="27" width="8" height="5" xoffset="0" yoffset="2" xadvance="9"/>\r\n        <char id="87" x="20" y="27" width="7" height="5" xoffset="0" yoffset="2" xadvance="8"/>\r\n        <char id="188" x="28" y="27" width="7" height="5" xoffset="0" yoffset="2" xadvance="8"/>\r\n        <char id="189" x="36" y="27" width="7" height="5" xoffset="0" yoffset="2" xadvance="8"/>\r\n        <char id="38" x="44" y="27" width="6" height="5" xoffset="0" yoffset="2" xadvance="7"/>\r\n        <char id="164" x="51" y="27" width="6" height="5" xoffset="0" yoffset="2" xadvance="7"/>\r\n        <char id="208" x="58" y="27" width="6" height="5" xoffset="0" yoffset="2" xadvance="7"/>\r\n        <char id="8364" x="65" y="27" width="6" height="5" xoffset="0" yoffset="2" xadvance="7"/>\r\n        <char id="65" x="72" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="66" x="78" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="67" x="84" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="68" x="90" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="69" x="96" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="70" x="102" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="71" x="108" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="72" x="114" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="75" x="120" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="77" x="1" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="78" x="7" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="79" x="13" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="80" x="19" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="82" x="25" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="83" x="31" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="84" x="37" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="85" x="43" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="86" x="49" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="88" x="55" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="89" x="61" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="90" x="67" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="50" x="73" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="51" x="79" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="52" x="85" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="53" x="91" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="54" x="97" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="56" x="103" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="57" x="109" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="48" x="115" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="47" x="121" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="64" x="1" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="92" x="7" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="37" x="13" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="43" x="19" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="35" x="25" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="42" x="31" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="165" x="37" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="169" x="43" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="174" x="49" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="182" x="55" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="216" x="61" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="247" x="67" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="74" x="73" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="76" x="78" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="98" x="83" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="100" x="88" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="104" x="93" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="107" x="98" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="55" x="103" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="63" x="108" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="191" x="113" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="222" x="118" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="223" x="123" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="116" x="1" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="60" x="5" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="62" x="9" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="170" x="13" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="186" x="17" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="239" x="21" y="45" width="3" height="5" xoffset="-1" yoffset="2" xadvance="2"/>\r\n        <char id="102" x="25" y="45" width="2" height="5" xoffset="0" yoffset="2" xadvance="3"/>\r\n        <char id="49" x="28" y="45" width="2" height="5" xoffset="0" yoffset="2" xadvance="3"/>\r\n        <char id="73" x="31" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="2"/>\r\n        <char id="105" x="33" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="2"/>\r\n        <char id="108" x="35" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="2"/>\r\n        <char id="33" x="37" y="45" width="1" height="5" xoffset="1" yoffset="2" xadvance="3"/>\r\n        <char id="161" x="39" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="3"/>\r\n        <char id="166" x="41" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="2"/>\r\n        <char id="109" x="43" y="45" width="7" height="4" xoffset="0" yoffset="3" xadvance="8"/>\r\n        <char id="119" x="51" y="45" width="7" height="4" xoffset="0" yoffset="3" xadvance="8"/>\r\n        <char id="230" x="59" y="45" width="7" height="4" xoffset="0" yoffset="3" xadvance="8"/>\r\n        <char id="97" x="67" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="99" x="72" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="101" x="77" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="110" x="82" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="111" x="87" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="115" x="92" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="117" x="97" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="118" x="102" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="120" x="107" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="122" x="112" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="215" x="117" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="248" x="122" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="114" x="1" y="51" width="3" height="4" xoffset="0" yoffset="3" xadvance="4"/>\r\n        <char id="178" x="5" y="51" width="3" height="4" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="179" x="9" y="51" width="3" height="4" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="185" x="13" y="51" width="1" height="4" xoffset="0" yoffset="2" xadvance="2"/>\r\n        <char id="61" x="15" y="51" width="5" height="3" xoffset="0" yoffset="3" xadvance="6"/>\r\n        <char id="171" x="21" y="51" width="5" height="3" xoffset="0" yoffset="3" xadvance="6"/>\r\n        <char id="172" x="27" y="51" width="5" height="3" xoffset="0" yoffset="4" xadvance="6"/>\r\n        <char id="187" x="33" y="51" width="5" height="3" xoffset="0" yoffset="3" xadvance="6"/>\r\n        <char id="176" x="39" y="51" width="3" height="3" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="44" x="43" y="51" width="2" height="3" xoffset="0" yoffset="6" xadvance="3"/>\r\n        <char id="58" x="46" y="51" width="1" height="3" xoffset="1" yoffset="3" xadvance="4"/>\r\n        <char id="94" x="48" y="51" width="4" height="2" xoffset="-1" yoffset="2" xadvance="4"/>\r\n        <char id="126" x="53" y="51" width="4" height="2" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="34" x="58" y="51" width="3" height="2" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="96" x="62" y="51" width="2" height="2" xoffset="0" yoffset="2" xadvance="3"/>\r\n        <char id="180" x="65" y="51" width="2" height="2" xoffset="0" yoffset="2" xadvance="3"/>\r\n        <char id="184" x="68" y="51" width="2" height="2" xoffset="0" yoffset="7" xadvance="3"/>\r\n        <char id="39" x="71" y="51" width="1" height="2" xoffset="0" yoffset="2" xadvance="2"/>\r\n        <char id="95" x="73" y="51" width="5" height="1" xoffset="0" yoffset="7" xadvance="6"/>\r\n        <char id="45" x="79" y="51" width="4" height="1" xoffset="0" yoffset="4" xadvance="5"/>\r\n        <char id="173" x="84" y="51" width="4" height="1" xoffset="0" yoffset="4" xadvance="5"/>\r\n        <char id="168" x="89" y="51" width="3" height="1" xoffset="1" yoffset="2" xadvance="5"/>\r\n        <char id="175" x="93" y="51" width="3" height="1" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="46" x="97" y="51" width="1" height="1" xoffset="0" yoffset="6" xadvance="2"/>\r\n        <char id="183" x="99" y="51" width="1" height="1" xoffset="0" yoffset="4" xadvance="2"/>\r\n        <char id="32" x="6" y="56" width="0" height="0" xoffset="0" yoffset="127" xadvance="3"/>\r\n      </chars>\r\n    </font>\r\n    ');
L.sDefaultTextureFormat=1;L.sHelperMatrix=new U;L.sNativeTextField=new W;L.sStringCache=new ja;ud.sOrigin=new fa;qb.sTexCoords=new fa;qb.sMatrix=new U;jc.sClipRect=new I;jc.optimizePersistentBuffers=!1;Jc.sNames=E.toObjectVector(null);cb.TWO_PI=2*Math.PI;J.sRawData=function(a){a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];for(var b=E.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);J.sRawData2=function(a){a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var b=E.toFloatVector(null),c=
0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);Ya.sHelperPoint=new fa;Ya.sPositions=[new fa(0,0),new fa(1,0),new fa(0,1),new fa(1,1)];La.sInitialized=!1;La.sApplicationActive=!0;La.sWaitingCalls=[];La.sSupportsDepthAndStencil=!0;ia.sHelperPoint=new fa;ia.sHelperPoint3D=new Fb;Pa.main()})("undefined"!=typeof console?console:{log:function(){}},"undefined"!=typeof window?window:exports,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
